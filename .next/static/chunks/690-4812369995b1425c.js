"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{5049:function(e,t,r){r.r(t),r.d(t,{CartProvider:function(){return l},useCart:function(){return m}});var o=r(7437),i=r(2265),a=r(2671);class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}generateSessionId(){{let e=sessionStorage.getItem("obsidian-cart-session-id");return e||(e="cart_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),sessionStorage.setItem("obsidian-cart-session-id",e)),e}}async getCart(){let e=Date.now();if(this.cache&&e-this.cacheTime<this.CACHE_DURATION)return this.cache.items;try{let{data:t,error:r}=await a.OQ.from("carts").select("*").eq("session_id",this.sessionId).single();if(r&&"PGRST116"!==r.code)return console.error("Error fetching cart:",r),[];if(t)return this.cache=t,this.cacheTime=e,t.items||[];return[]}catch(e){return console.error("Error fetching cart:",e),[]}}async addToCart(e){try{let t;let r=await this.getCart(),o=r.findIndex(t=>t.productId===e.productId&&t.selectedSize===e.selectedSize&&t.selectedColor===e.selectedColor);if(o>=0)(t=[...r])[o]={...t[o],quantity:t[o].quantity+e.quantity};else{let o={...e,id:"item_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)};t=[...r,o]}let{error:i}=await a.OQ.from("carts").upsert({session_id:this.sessionId,items:t,updated_at:new Date().toISOString()});if(i)return console.error("Error saving cart:",i),!1;return this.cache=null,this.cacheTime=0,!0}catch(e){return console.error("Error adding to cart:",e),!1}}async updateCartItem(e,t){try{let r=await this.getCart(),o=r.findIndex(t=>t.id===e);if(-1===o)return!1;let i=[...r];i[o]={...i[o],...t};let{error:n}=await a.OQ.from("carts").upsert({session_id:this.sessionId,items:i,updated_at:new Date().toISOString()});if(n)return console.error("Error updating cart item:",n),!1;return this.cache=null,this.cacheTime=0,!0}catch(e){return console.error("Error updating cart item:",e),!1}}async removeFromCart(e){try{let t=(await this.getCart()).filter(t=>t.id!==e),{error:r}=await a.OQ.from("carts").upsert({session_id:this.sessionId,items:t,updated_at:new Date().toISOString()});if(r)return console.error("Error removing from cart:",r),!1;return this.cache=null,this.cacheTime=0,!0}catch(e){return console.error("Error removing from cart:",e),!1}}async clearCart(){try{let{error:e}=await a.OQ.from("carts").delete().eq("session_id",this.sessionId);if(e)return console.error("Error clearing cart:",e),!1;return this.cache=null,this.cacheTime=0,!0}catch(e){return console.error("Error clearing cart:",e),!1}}async getCartTotal(){return(await this.getCart()).reduce((e,t)=>e+t.price*t.quantity,0)}async getCartItemCount(){return(await this.getCart()).reduce((e,t)=>e+t.quantity,0)}constructor(){this.cache=null,this.cacheTime=0,this.CACHE_DURATION=3e4,this.sessionId=this.generateSessionId()}}var c=n.getInstance(),s=r(3006);let u=(0,i.createContext)(void 0),d=()=>{let[e,t]=(0,i.useState)(()=>()=>{});return(0,i.useEffect)(()=>{try{let e=(0,s.useToast)();(null==e?void 0:e.showToast)&&t(()=>e.showToast)}catch(e){console.log("Toast context not available during SSR")}},[]),e},l=e=>{let{children:t}=e,[r,a]=(0,i.useState)([]),[n,s]=(0,i.useState)(!0),l=d();(0,i.useEffect)(()=>{(async()=>{try{s(!0);let e=await c.getCart();a(e)}catch(e){console.error("Error loading cart:",e)}finally{s(!1)}})()},[]);let m=async(e,t,r,o)=>{var i,n;console.log("CartContext: addToCart called with:",{product:e,selectedSize:t,selectedColor:r,quantity:o});let s=(null===(n=e.stock)||void 0===n?void 0:null===(i=n[t])||void 0===i?void 0:i[r])||0;if(o>s){alert("Only ".concat(s," items available in stock!"));return}let u={productId:e.id,name:e.name,price:e.price,image:e.image,selectedSize:t,selectedColor:r,quantity:o,availableStock:s};try{if(await c.addToCart(u)){let t=await c.getCart();a(t),l("".concat(e.name," added to cart!"),"success")}}catch(e){console.error("Error adding to cart:",e),l("Failed to add item to cart","error")}},h=async e=>{try{if(await c.removeFromCart(e)){let e=await c.getCart();a(e),l("Item removed from cart","info")}}catch(e){console.error("Error removing from cart:",e),l("Failed to remove item from cart","error")}},p=async(e,t)=>{if(t<=0){h(e);return}try{if(await c.updateCartItem(e,{quantity:t})){let e=await c.getCart();a(e)}}catch(e){console.error("Error updating cart quantity:",e)}},g=async()=>{try{await c.clearCart()&&a([])}catch(e){console.error("Error clearing cart:",e)}};return(0,o.jsx)(u.Provider,{value:{items:r,addToCart:m,removeFromCart:h,updateQuantity:p,clearCart:g,getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>r.reduce((e,t)=>e+t.price*t.quantity,0),loading:n},children:t})},m=()=>{let e=(0,i.useContext)(u);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},9298:function(e,t,r){r.r(t),r.d(t,{LanguageProvider:function(){return c},useLanguage:function(){return s}});var o=r(7437),i=r(2265);let a=(0,i.createContext)(void 0),n={en:{"nav.home":"Home","nav.collection":"Collection","nav.about":"About","nav.contact":"Contact","hero.title":"More than clothing,","hero.title2":"an attitude.","hero.subtitle":"Discover our exclusive collection of clothing that defines your unique style.","hero.cta":"View Collection","products.title":"Our Collection","products.empty":"Empty Collection - Ready for Your Products","products.empty.desc":"Add your products to start selling","products.buyNow":"Buy Now","products.addToCart":"Add to Cart","products.selectSize":"Select Size","products.selectColor":"Select Color","products.quantity":"Quantity","products.inStock":"In Stock","products.outOfStock":"Out of Stock","checkout.title":"Checkout","checkout.shipping":"Shipping Options","checkout.payment":"Payment Method","checkout.cod":"Cash on Delivery (COD)","checkout.cod.desc":"Pay when your order arrives","checkout.stopDesk":"Stop Desk","checkout.stopDesk.desc":"Pick up your order at the relay point","checkout.homeDelivery":"Home Delivery","checkout.homeDelivery.desc":"Delivery directly to your home","checkout.freeShipping":"Free shipping! Your order exceeds","checkout.subtotal":"Subtotal","checkout.shippingCost":"Shipping","checkout.total":"Total","checkout.placeOrder":"Place Order","checkout.form.name":"Full Name","checkout.form.phone":"Phone Number","checkout.form.address":"Address","checkout.form.city":"City","checkout.form.zipCode":"ZIP Code","checkout.form.notes":"Order Notes (Optional)","orderSuccess.title":"Order Placed Successfully!","orderSuccess.message":"Thank you for your order. We will contact you soon to confirm the details.","orderSuccess.continue":"Continue Shopping","admin.title":"Admin Panel","admin.subtitle":"Manage your OBSIDIAN WEAR products and settings","admin.products":"Products","admin.shipping":"Shipping","admin.addProduct":"Add Product","admin.editProduct":"Edit Product","admin.deleteProduct":"Delete Product","admin.productName":"Product Name","admin.price":"Price (DZD)","admin.originalPrice":"Original Price (DZD)","admin.imageUrl":"Image URL","admin.description":"Description","admin.category":"Category","admin.inStock":"In Stock","admin.shippingSettings":"Shipping Settings","admin.stopDeskFee":"Stop Desk Fee (DZD)","admin.homeDeliveryFee":"Home Delivery Fee (DZD)","admin.freeShippingThreshold":"Free Shipping Threshold (DZD)","admin.saveSettings":"Save Settings","admin.settingsUpdated":"Shipping settings updated!","admin.confirmDelete":"Are you sure you want to delete this product?","footer.tagline":"More than clothing, an attitude. Discover our exclusive collection that defines your unique style with premium pieces.","footer.followUs":"FOLLOW US","footer.privacy":"Privacy Policy","footer.terms":"Terms of Use","footer.rights":"All rights reserved.","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.add":"Add","common.close":"Close"},fr:{"nav.home":"Accueil","nav.collection":"Collection","nav.about":"\xc0 Propos","nav.contact":"Contact","hero.title":"Plus qu'un v\xeatement,","hero.title2":"une attitude.","hero.subtitle":"D\xe9couvrez notre collection exclusive de v\xeatements qui d\xe9finissent votre style unique.","hero.cta":"Voir la Collection","products.title":"Notre Collection","products.empty":"Collection vide - Pr\xeat pour vos produits","products.empty.desc":"Ajoutez vos produits pour commencer \xe0 vendre","products.buyNow":"Acheter Maintenant","products.addToCart":"Ajouter au Panier","products.selectSize":"S\xe9lectionner la Taille","products.selectColor":"S\xe9lectionner la Couleur","products.quantity":"Quantit\xe9","products.inStock":"En Stock","products.outOfStock":"Rupture de Stock","checkout.title":"Commande","checkout.shipping":"Options de Livraison","checkout.payment":"Mode de Paiement","checkout.cod":"Paiement \xe0 la Livraison (COD)","checkout.cod.desc":"Payez quand votre commande arrive","checkout.stopDesk":"Stop Desk","checkout.stopDesk.desc":"R\xe9cup\xe9rez votre commande au point relais","checkout.homeDelivery":"\xc0 Domicile","checkout.homeDelivery.desc":"Livraison directement chez vous","checkout.freeShipping":"Livraison gratuite ! Votre commande d\xe9passe","checkout.subtotal":"Sous-total","checkout.shippingCost":"Livraison","checkout.total":"Total","checkout.placeOrder":"Passer la Commande","checkout.form.name":"Nom Complet","checkout.form.phone":"Num\xe9ro de T\xe9l\xe9phone","checkout.form.address":"Adresse","checkout.form.city":"Ville","checkout.form.zipCode":"Code Postal","checkout.form.notes":"Notes de Commande (Optionnel)","orderSuccess.title":"Commande Pass\xe9e avec Succ\xe8s !","orderSuccess.message":"Merci pour votre commande. Nous vous contacterons bient\xf4t pour confirmer les d\xe9tails.","orderSuccess.continue":"Continuer les Achats","admin.title":"Panneau d'Administration","admin.subtitle":"G\xe9rez vos produits et param\xe8tres OBSIDIAN WEAR","admin.products":"Produits","admin.shipping":"Livraison","admin.addProduct":"Ajouter un Produit","admin.editProduct":"Modifier le Produit","admin.deleteProduct":"Supprimer le Produit","admin.productName":"Nom du Produit","admin.price":"Prix (DZD)","admin.originalPrice":"Prix Original (DZD)","admin.imageUrl":"URL de l'Image","admin.description":"Description","admin.category":"Cat\xe9gorie","admin.inStock":"En Stock","admin.shippingSettings":"Param\xe8tres de Livraison","admin.stopDeskFee":"Frais Stop Desk (DZD)","admin.homeDeliveryFee":"Frais Livraison \xe0 Domicile (DZD)","admin.freeShippingThreshold":"Seuil Livraison Gratuite (DZD)","admin.saveSettings":"Sauvegarder les Param\xe8tres","admin.settingsUpdated":"Param\xe8tres de livraison mis \xe0 jour !","admin.confirmDelete":"\xcates-vous s\xfbr de vouloir supprimer ce produit ?","footer.tagline":"Plus qu'un v\xeatement, une attitude. D\xe9couvrez notre collection exclusive qui d\xe9finit votre style unique avec des pi\xe8ces premium.","footer.followUs":"SUIVEZ-NOUS","footer.privacy":"Politique de Confidentialit\xe9","footer.terms":"Conditions d'Utilisation","footer.rights":"Tous droits r\xe9serv\xe9s.","common.loading":"Chargement...","common.error":"Erreur","common.success":"Succ\xe8s","common.cancel":"Annuler","common.save":"Sauvegarder","common.edit":"Modifier","common.delete":"Supprimer","common.add":"Ajouter","common.close":"Fermer"}};function c(e){let{children:t}=e,[c,s]=(0,i.useState)("fr");(0,i.useEffect)(()=>{(async()=>{try{let e=(await r.e(755).then(r.bind(r,9755))).default,t=await e.getLanguage();if(t&&("en"===t||"fr"===t))s(t);else{let t=localStorage.getItem("obsidian-language");t&&("en"===t||"fr"===t)&&(s(t),await e.setLanguage(t))}}catch(t){console.error("Error loading language:",t);let e=localStorage.getItem("obsidian-language");e&&("en"===e||"fr"===e)&&s(e)}})()},[]);let u=async e=>{s(e),localStorage.setItem("obsidian-language",e);try{let t=(await r.e(755).then(r.bind(r,9755))).default;await t.setLanguage(e)}catch(e){console.error("Error saving language to database:",e)}};return(0,o.jsx)(a.Provider,{value:{language:c,setLanguage:u,t:e=>n[c][e]||e},children:t})}function s(){let e=(0,i.useContext)(a);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},3006:function(e,t,r){r.r(t),r.d(t,{ToastProvider:function(){return u},useToast:function(){return d}});var o=r(7437),i=r(2265),a=r(3008),n=r(2549);function c(e){let{message:t,type:r="success",duration:c=3e3,onClose:s}=e,[u,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=setTimeout(()=>{d(!1),setTimeout(s,300)},c);return()=>clearTimeout(e)},[c,s]),(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full mx-auto transform transition-all duration-300 ease-in-out ".concat(u?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,o.jsxs)("div",{className:"".concat((()=>{switch(r){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-blue-50 border-blue-200"}})()," border rounded-lg shadow-lg p-4 flex items-center space-x-3"),children:[(()=>{switch(r){case"success":return(0,o.jsx)(a.Z,{className:"w-5 h-5 text-green-500"});case"error":return(0,o.jsx)(n.Z,{className:"w-5 h-5 text-red-500"});default:return(0,o.jsx)(a.Z,{className:"w-5 h-5 text-blue-500"})}})(),(0,o.jsx)("p",{className:"text-sm font-medium text-gray-900 flex-1",children:t}),(0,o.jsx)("button",{onClick:()=>{d(!1),setTimeout(s,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,o.jsx)(n.Z,{className:"w-4 h-4"})})]})})}let s=(0,i.createContext)(void 0);function u(e){let{children:t}=e,[r,a]=(0,i.useState)([]),n=e=>{a(t=>t.filter(t=>t.id!==e))};return(0,o.jsxs)(s.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o={id:Math.random().toString(36).substr(2,9),message:e,type:t,duration:r};a(e=>[...e,o])}},children:[t,(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(e=>(0,o.jsx)(c,{message:e.message,type:e.type,duration:e.duration,onClose:()=>n(e.id)},e.id))})]})}function d(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}}}]);