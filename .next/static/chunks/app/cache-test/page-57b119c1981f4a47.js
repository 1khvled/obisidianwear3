(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{2601:function(e,r,t){"use strict";var s,n;e.exports=(null==(s=t.g.process)?void 0:s.env)&&"object"==typeof(null==(n=t.g.process)?void 0:n.env)?t.g.process:t(8960)},4843:function(e,r,t){Promise.resolve().then(t.bind(t,8309))},8309:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),n=t(2042);function i(){let{products:e,loading:r,lastUpdated:t,timeUntilRefresh:i,refreshAllData:o}=(0,n.E)();return(0,s.jsx)("div",{className:"min-h-screen bg-black text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"\uD83D\uDED2 User Cache Test Page"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCCA Cache Status"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Loading:"})," ",r?"⏳ Yes":"✅ No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Products Count:"})," ",e.length]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Updated:"})," ",t?t.toLocaleTimeString():"Never"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Time Until Refresh:"})," ",i,"s"]})]}),(0,s.jsx)("button",{onClick:o,className:"mt-4 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded transition-colors",children:"\uD83D\uDD04 Force Refresh"})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["\uD83D\uDCE6 Products (",e.length,")"]}),(0,s.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[e.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 p-3 rounded",children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["$",e.price]})]},e.id)),0===e.length&&!r&&(0,s.jsx)("p",{className:"text-gray-400",children:"No products found"})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-yellow-900 p-6 rounded-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCCB How the System Works"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"ALWAYS downloads from database first"})," - Every page load fetches fresh data"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Then uses cached data"})," - If cache is valid (less than 1 minute old), shows cached data"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Updates cache in background"})," - Fresh data is cached for next time"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Auto-refresh every minute"})," - Cache expires and fetches fresh data again"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Admin always fresh"})," - Admin page never uses cache, always gets latest data"]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-yellow-800 rounded",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"\uD83D\uDD0D Check browser console to see the download process!"})})]})]})})}},8960:function(e){!function(){var r={229:function(e){var r,t,s,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var l=[],a=!1,u=-1;function d(){a&&s&&(a=!1,s.length?l=s.concat(l):u=-1,l.length&&h())}function h(){if(!a){var e=c(d);a=!0;for(var r=l.length;r;){for(s=l,l=[];++u<r;)s&&s[u].run();u=-1,r=l.length}s=null,a=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function f(e,r){this.fun=e,this.array=r}function m(){}n.nextTick=function(e){var r=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];l.push(new f(e,r)),1!==l.length||a||c(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},t={};function s(e){var n=t[e];if(void 0!==n)return n.exports;var i=t[e]={exports:{}},o=!0;try{r[e](i,i.exports,s),o=!1}finally{o&&delete t[e]}return i.exports}s.ab="//";var n=s(229);e.exports=n}()},622:function(e,r,t){"use strict";var s=t(2265),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,t){var s,i={},a=null,u=null;for(s in void 0!==t&&(a=""+t),void 0!==r.key&&(a=""+r.key),void 0!==r.ref&&(u=r.ref),r)o.call(r,s)&&!l.hasOwnProperty(s)&&(i[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===i[s]&&(i[s]=r[s]);return{$$typeof:n,type:e,key:a,ref:u,props:i,_owner:c.current}}r.Fragment=i,r.jsx=a,r.jsxs=a},7437:function(e,r,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[42,971,938,744],function(){return e(e.s=4843)}),_N_E=e.O()}]);