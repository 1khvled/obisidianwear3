(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6141:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r(2898).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4309:function(e,t,r){Promise.resolve().then(r.bind(r,8598))},8598:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var o=r(7437),a=r(2265),s=r(6691),i=r.n(s),d=r(861),l=r(5518),c=r(8722),n=r(6141);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r(2898).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var m=r(2176),h=r(2245),p=r(6712),x=r(4322),g=r(3067),f=r(2831),y=r(9298);function b(){let e=(0,d.useProducts)(),t="loading"in e&&e.loading,[r,s]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0),{t:w}=(0,y.useLanguage)(),[O,N]=(0,a.useState)([]),[k,j]=(0,a.useState)("All"),T=e=>e.image&&e.image.length>100?e.image:e.images&&e.images.length>0&&e.images[0].length>100?e.images[0]:null;(0,a.useEffect)(()=>{(async()=>{try{v(!0);let e=await fetch("/api/made-to-order");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();s(t)}catch(e){s([])}finally{v(!1)}})()},[]);let S=["All",...Array.from(new Set(r.map(e=>e.category)))];(0,a.useEffect)(()=>{Array.isArray(r)&&("All"===k?N(r):N(r.filter(e=>e.category===k)))},[r,k]);let D=e=>{j(e)};return t||b?(0,o.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,o.jsx)(l.default,{}),(0,o.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,o.jsx)(f.L4,{})}),(0,o.jsx)(c.default,{})]}):(0,o.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,o.jsx)(l.default,{}),(0,o.jsxs)("section",{className:"relative bg-gradient-to-br from-gray-900 via-black to-gray-900 py-16 px-4 overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,o.jsxs)("div",{className:"relative max-w-6xl mx-auto text-center",children:[(0,o.jsxs)("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-4 py-2 mb-8",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),(0,o.jsx)("span",{className:"text-white text-sm font-medium",children:"Special Order Service"})]}),(0,o.jsx)("h1",{className:"text-3xl md:text-4xl font-black text-white mb-3 tracking-tight",children:"Made to Order Collection"}),(0,o.jsx)("p",{className:"text-base text-gray-300 mb-6 max-w-2xl mx-auto leading-relaxed",children:"Commandez des v\xeatements uniques sur mesure selon vos go\xfbts et pr\xe9f\xe9rences. Chaque pi\xe8ce est cr\xe9\xe9e sp\xe9cialement pour vous avec des mat\xe9riaux de qualit\xe9 sup\xe9rieure et une finition soign\xe9e."}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 max-w-4xl mx-auto",children:[(0,o.jsxs)("div",{className:"group bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg p-3 hover:bg-white/10 transition-all duration-300",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-500/30 rounded-md flex items-center justify-center mb-2 group-hover:from-blue-500/30 group-hover:to-cyan-500/30 transition-all duration-300",children:(0,o.jsx)(n.Z,{className:"w-4 h-4 text-blue-400"})}),(0,o.jsx)("h3",{className:"text-white font-semibold mb-1 text-xs",children:"Fast Delivery"}),(0,o.jsx)("p",{className:"text-gray-400 text-xs",children:"20-18 days production"})]}),(0,o.jsxs)("div",{className:"group bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg p-3 hover:bg-white/10 transition-all duration-300",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-md flex items-center justify-center mb-2 group-hover:from-green-500/30 group-hover:to-emerald-500/30 transition-all duration-300",children:(0,o.jsx)(u,{className:"w-4 h-4 text-green-400"})}),(0,o.jsx)("h3",{className:"text-white font-semibold mb-1 text-xs",children:"Easy Payment"}),(0,o.jsx)("p",{className:"text-gray-400 text-xs",children:"50% deposit required"})]}),(0,o.jsxs)("div",{className:"group bg-white/5 backdrop-blur-sm border border-white/10 rounded-lg p-3 hover:bg-white/10 transition-all duration-300",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30 rounded-md flex items-center justify-center mb-2 group-hover:from-purple-500/30 group-hover:to-pink-500/30 transition-all duration-300",children:(0,o.jsx)(m.Z,{className:"w-4 h-4 text-purple-400"})}),(0,o.jsx)("h3",{className:"text-white font-semibold mb-1 text-xs",children:"Direct Contact"}),(0,o.jsx)("p",{className:"text-gray-400 text-xs",children:"WhatsApp ordering"})]})]})]})]}),(0,o.jsx)("section",{className:"py-16 px-4 bg-black",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"text-center mb-12",children:[(0,o.jsxs)("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-3 py-1 mb-4",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mr-2"}),(0,o.jsx)("span",{className:"text-white text-xs font-medium",children:"Premium Collection"})]}),(0,o.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-white mb-4 tracking-tight",children:"Custom Products"}),(0,o.jsx)("p",{className:"text-base text-gray-400 max-w-2xl mx-auto",children:"Discover our curated selection of premium items available for special order"})]}),S.length>1&&(0,o.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-8 px-4",children:S.map((e,t)=>(0,o.jsx)("button",{onClick:()=>D(e),className:"px-3 py-2 rounded-lg font-medium transition-all duration-300 text-xs transform hover:scale-105 ".concat(k===e?"bg-white text-black shadow-lg":"bg-white/10 border border-white/20 text-white hover:bg-white/20"),style:{animationDelay:"".concat(100*t,"ms")},children:e},e))}),O.length>0?(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map((e,t)=>{var r;return(0,o.jsxs)("div",{className:"group bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl overflow-hidden hover:bg-white/10 hover:border-white/20 transition-all duration-500 hover:scale-101",children:[T(e)&&(0,o.jsxs)("div",{className:"relative overflow-hidden",children:[(null===(r=T(e))||void 0===r?void 0:r.startsWith("data:"))?(0,o.jsx)("img",{src:T(e),alt:e.name,className:"w-full h-48 object-cover group-hover:scale-102 transition-transform duration-500",onLoad:()=>console.log("✅ Image loaded for product:",e.name),onError:t=>console.error("❌ Image failed to load for product:",e.name,t)}):(0,o.jsx)(i(),{src:T(e),alt:e.name,width:400,height:500,className:"w-full h-48 object-cover group-hover:scale-102 transition-transform duration-500",onLoad:()=>console.log("✅ Image loaded for product:",e.name),onError:t=>console.error("❌ Image failed to load for product:",e.name,t)}),(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,o.jsx)("div",{className:"absolute top-4 right-4",children:(0,o.jsx)("span",{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Custom Order"})}),(0,o.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,o.jsxs)("div",{className:"flex items-center bg-white/20 backdrop-blur-sm border border-white/30 rounded-full px-3 py-1",children:[(0,o.jsx)(h.Z,{className:"w-4 h-4 text-white mr-1"}),(0,o.jsx)("span",{className:"text-white text-sm font-semibold",children:"Premium"})]})})]}),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h3",{className:"text-base font-bold text-white mb-2 group-hover:text-white transition-colors",children:e.name}),(0,o.jsx)("p",{className:"text-gray-400 text-xs mb-3 line-clamp-2 leading-relaxed",children:e.description}),(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsxs)("div",{className:"text-xl font-black text-white",children:[Number(e.price).toFixed(0)," DZD"]}),(0,o.jsx)("div",{className:"text-xs text-gray-400",children:"Starting from"})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("div",{className:"text-gray-300 text-xs font-medium mb-1",children:"Colors"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.colors.slice(0,4).map(e=>(0,o.jsx)("span",{className:"bg-white/10 border border-white/20 text-white px-2 py-1 rounded-full text-xs font-medium",children:e},e)),e.colors.length>4&&(0,o.jsxs)("span",{className:"bg-white/10 border border-white/20 text-white px-2 py-1 rounded-full text-xs font-medium",children:["+",e.colors.length-4]})]})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("div",{className:"text-gray-300 text-xs font-medium mb-1",children:"Sizes"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1",children:e.sizes.map(e=>(0,o.jsx)("span",{className:"bg-white/10 border border-white/20 text-white px-2 py-1 rounded-full text-xs font-medium",children:e},e))})]}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("a",{href:"/made-to-order/".concat(e.id),className:"flex-1 bg-white/10 hover:bg-white/20 text-white py-2 px-3 rounded-lg text-xs font-bold flex items-center justify-center transition-all duration-300 hover:scale-102 border border-white/20",children:"View Details"}),(0,o.jsxs)("a",{href:"/made-to-order?productId=".concat(e.id),className:"flex-1 bg-white hover:bg-gray-100 text-black py-2 px-3 rounded-lg text-xs font-bold flex items-center justify-center transition-all duration-300 hover:scale-102",children:[(0,o.jsx)(p.Z,{className:"w-4 h-4 mr-1"}),"Order"]})]})]})]},e.id)})}):(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)(x.Z,{size:24,className:"text-gray-400"})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No products found"}),(0,o.jsx)("p",{className:"text-gray-400 text-sm",children:"No made-to-order products available in this category."})]})]})}),(0,o.jsxs)("section",{className:"py-20 px-4 bg-gradient-to-br from-gray-900 via-black to-gray-900 relative overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute inset-0 opacity-40",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,o.jsxs)("div",{className:"relative max-w-6xl mx-auto text-center",children:[(0,o.jsxs)("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm border border-white/20 rounded-full px-4 py-2 mb-8",children:[(0,o.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),(0,o.jsx)("span",{className:"text-white text-sm font-medium",children:"Ready to Order?"})]}),(0,o.jsx)("h2",{className:"text-5xl md:text-6xl font-black text-white mb-6 tracking-tight",children:"Create Your Custom Piece"}),(0,o.jsx)("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Contact us now to discuss your special order and get started on your unique piece"}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[(0,o.jsxs)("a",{href:"/made-to-order",className:"group bg-white hover:bg-gray-100 text-black px-8 py-4 rounded-2xl text-lg font-bold flex items-center justify-center transition-all duration-300 hover:scale-105 shadow-2xl",children:[(0,o.jsx)(m.Z,{className:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),"Order Via WhatsApp"]}),(0,o.jsxs)("a",{href:"/",className:"group bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 text-white px-8 py-4 rounded-2xl text-lg font-bold flex items-center justify-center transition-all duration-300 hover:scale-105",children:[(0,o.jsx)(g.Z,{className:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),"Back to Home"]})]})]})]}),(0,o.jsx)(c.default,{})]})}},9298:function(e,t,r){"use strict";r.r(t),r.d(t,{LanguageProvider:function(){return d},useLanguage:function(){return l}});var o=r(7437),a=r(2265);let s=(0,a.createContext)(void 0),i={en:{"nav.home":"Home","nav.collection":"Collection","nav.about":"About","nav.contact":"Contact","nav.admin":"Admin","nav.madeToOrder":"Special Order","hero.title":"More than clothing,","hero.title2":"an attitude.","hero.subtitle":"Discover our exclusive collection of clothing that defines your unique style.","hero.cta":"View Collection","products.title":"Our Collection","products.empty":"Empty Collection - Ready for Your Products","products.empty.desc":"Add your products to start selling","products.addToCart":"Add to Cart","products.selectSize":"Select Size","products.selectColor":"Select Color","products.quantity":"Quantity","products.inStock":"In Stock","products.outOfStock":"Out of Stock","products.selectOptions":"Select Options","products.available":"available","products.viewProduct":"View Product","common.cancel":"Cancel","checkout.title":"Checkout","checkout.shipping":"Shipping Options","checkout.payment":"Payment Method","checkout.cod":"Cash on Delivery (COD)","checkout.cod.desc":"Pay when your order arrives","checkout.stopDesk":"Stop Desk","checkout.stopDesk.desc":"Pick up your order at the relay point","checkout.homeDelivery":"Home Delivery","checkout.homeDelivery.desc":"Delivery directly to your home","checkout.freeShipping":"Free shipping! Your order exceeds","checkout.subtotal":"Subtotal","checkout.shippingCost":"Shipping","checkout.total":"Total","checkout.placeOrder":"Place Order","checkout.form.name":"Full Name","checkout.form.phone":"Phone Number","checkout.form.address":"Address","checkout.form.city":"City","checkout.form.zipCode":"ZIP Code","checkout.form.notes":"Order Notes (Optional)","checkout.backToProduct":"Back to Product","checkout.orderSummary":"Order Summary","checkout.deliveryInformation":"Delivery Information","checkout.deliveryOptions":"Delivery Options","checkout.selectDeliveryOption":"Please select a delivery option","checkout.selected":"SELECTED","checkout.stopDeskDescription":"Pick up your order at the relay point","checkout.homeDeliveryDescription":"Delivery directly to your home","checkout.personalInformation":"Personal Information","checkout.deliveryAddress":"Delivery Address","checkout.pickupLocation":"Pickup Location","checkout.fullName":"Full Name","checkout.enterFullName":"Enter your full name","checkout.phoneNumber":"Phone Number","checkout.enterPhoneNumber":"Enter your phone number","checkout.emailAddress":"Email Address","checkout.optional":"Optional","checkout.enterEmailAddress":"Enter your email address","checkout.streetAddress":"Street Address","checkout.enterStreetAddress":"Enter your street address","checkout.city":"City","checkout.enterCity":"Enter your city","checkout.wilaya":"Wilaya","checkout.selectWilaya":"Select a wilaya","checkout.deliveryNotes":"Delivery Notes","checkout.deliveryInstructionsPlaceholder":"Any special delivery instructions?","checkout.placingOrder":"Placing Order...","checkout.size":"Size","checkout.color":"Color","checkout.quantity":"Quantity","orderSuccess.title":"Order Placed Successfully!","orderSuccess.message":"Thank you for your order. We will contact you soon to confirm the details.","orderSuccess.continue":"Continue Shopping","madeToOrder.title":"Special Order","madeToOrder.subtitle":"Premium items available for special order","madeToOrder.productionTime":"20-18 days delivery","madeToOrder.depositRequired":"50% deposit required","madeToOrder.whatsappOrder":"Order via WhatsApp","madeToOrder.whyChoose":"Why choose our special order service?","madeToOrder.totalCustomization":"Wide selection","madeToOrder.totalCustomizationDesc":"Choose from a variety of colors, sizes and styles","madeToOrder.premiumQuality":"Premium quality","madeToOrder.premiumQualityDesc":"High-quality items with excellent craftsmanship","madeToOrder.uniquePiece":"Special order","madeToOrder.uniquePieceDesc":"Items are ordered fresh for each customer, ensuring quality and availability","madeToOrder.ourProducts":"Available for special order","madeToOrder.noProducts":"No products available","madeToOrder.noProductsDesc":"Come back soon to see our latest catalog!","madeToOrder.orderNow":"Order now","madeToOrder.howItWorks":"How does it work?","madeToOrder.step1":"Choose your product","madeToOrder.step1Desc":"Select from our catalog of available items","madeToOrder.step2":"Place your order","madeToOrder.step2Desc":"Provide your details and pay the 50% deposit","madeToOrder.step3":"We process your order","madeToOrder.step3Desc":"We prepare your special order for shipping","madeToOrder.step4":"Receive your order","madeToOrder.step4Desc":"Your item is delivered to you in 20-18 days","madeToOrder.readyToCreate":"Ready to place your special order?","madeToOrder.readyToCreateDesc":"Contact us now to discuss your order","madeToOrder.orderViaWhatsApp":"Order via WhatsApp","madeToOrder.viewCollection":"View Collection","madeToOrder.backToHome":"Back to Home","home.viewCollection":"View Collection","home.madeToOrder":"Made to Order","home.fastDelivery":"Fast Delivery","home.fastDeliveryDesc":"Quick & reliable shipping","home.quality":"Quality","home.qualityDesc":"Premium materials","home.easy":"Easy","home.easyDesc":"Simple returns","madeToOrder.customOrder":"Special Order","madeToOrder.premium":"Premium","madeToOrder.colors":"Colors","madeToOrder.sizes":"Sizes","madeToOrder.orderForm":"Order Form","madeToOrder.personalInfo":"Personal Information","madeToOrder.fullName":"Full Name","madeToOrder.phoneNumber":"Phone Number","madeToOrder.email":"Email Address","madeToOrder.address":"Address","madeToOrder.wilaya":"Wilaya","madeToOrder.selectWilaya":"Select your wilaya","madeToOrder.shippingType":"Delivery Type","madeToOrder.homeDelivery":"Home Delivery","madeToOrder.stopDesk":"Stop Desk","madeToOrder.productCustomization":"Product Customization","madeToOrder.size":"Size","madeToOrder.color":"Color","madeToOrder.quantity":"Quantity","madeToOrder.notes":"Notes","madeToOrder.orderSummary":"Order Summary","madeToOrder.product":"Product","madeToOrder.unitPrice":"Unit Price","madeToOrder.subtotal":"Subtotal","madeToOrder.shipping":"Shipping","madeToOrder.total":"Total","madeToOrder.deposit":"Deposit (50%)","madeToOrder.importantNotes":"Important Notes","madeToOrder.depositNote":"• A 50% deposit is required to confirm your order","madeToOrder.productionNote":"• Production time: 20-18 days","madeToOrder.whatsappNote":"• We will contact you via WhatsApp to finalize the order","madeToOrder.balanceNote":"• The remaining balance will be paid upon delivery","madeToOrder.cancel":"Cancel","madeToOrder.submitOrder":"Submit Order","madeToOrder.whatsappMessage":"Hello! I am interested in placing a special order. Please contact me to complete my order.","admin.title":"Admin Panel","admin.subtitle":"Manage your OBSIDIAN WEAR products and settings","admin.products":"Products","admin.shipping":"Shipping","admin.addProduct":"Add Product","admin.editProduct":"Edit Product","admin.deleteProduct":"Delete Product","admin.productName":"Product Name","admin.price":"Price (DZD)","admin.originalPrice":"Original Price (DZD)","admin.imageUrl":"Image URL","admin.description":"Description","admin.category":"Category","admin.inStock":"In Stock","admin.shippingSettings":"Shipping Settings","admin.stopDeskFee":"Stop Desk Fee (DZD)","admin.homeDeliveryFee":"Home Delivery Fee (DZD)","admin.freeShippingThreshold":"Free Shipping Threshold (DZD)","admin.saveSettings":"Save Settings","admin.settingsUpdated":"Shipping settings updated!","admin.confirmDelete":"Are you sure you want to delete this product?","footer.tagline":"More than clothing, an attitude. Discover our exclusive collection that defines your unique style with premium pieces.","footer.followUs":"FOLLOW US","footer.privacy":"Privacy Policy","footer.terms":"Terms of Use","footer.rights":"All rights reserved.","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.add":"Add","common.close":"Close"}};function d(e){let{children:t}=e,[r,d]=(0,a.useState)("en");return(0,a.useEffect)(()=>{d("en"),localStorage.setItem("obsidian-language","en")},[]),(0,o.jsx)(s.Provider,{value:{language:r,setLanguage:e=>{d(e),localStorage.setItem("obsidian-language",e)},t:e=>i[r][e]||e},children:t})}function l(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},2042:function(e,t,r){"use strict";r.d(t,{E:function(){return c},V:function(){return l}});var o=r(7437),a=r(2265),s=r(3325),i=r(2136);let d=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,a.useState)([]),[c,n]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0),[x,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(0),b=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!e&&i.d.hasValidCache()){let e=i.d.getAllUserData();if(e){l(e.products||[]),n(e.madeToOrderProducts||[]),m(e.wilayaTariffs||[]),g(new Date),y(i.d.getTimeUntilExpiry()),p(!1),setTimeout(()=>{v().catch(e=>{})},3e4);return}}p(!0),await v()}catch(e){p(!1)}},v=async()=>{try{let e=await fetch("/api/products"),t=await e.json(),r=t.success?t.data:[];l(r),g(new Date),y(300),p(!1),i.d.setAllUserData({products:r,madeToOrderProducts:[],wilayaTariffs:[]});try{let e=await fetch("/api/made-to-order",{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),t=await e.json(),o=[];Array.isArray(t)?o=t:t&&Array.isArray(t.data)&&(o=t.data),n(o),i.d.setAllUserData({products:r,madeToOrderProducts:o,wilayaTariffs:[]})}catch(e){}setTimeout(async()=>{try{let e=await s.k.getWilayaTariffs();m(e),i.d.setAllUserData({products:r,madeToOrderProducts:c,wilayaTariffs:e})}catch(e){}},100)}catch(e){p(!1)}},w=async()=>{await b(!0)};return(0,a.useEffect)(()=>{b();let e=setInterval(()=>{b(!0)},6e5),t=setInterval(()=>{y(i.d.getTimeUntilExpiry())},1e4);return()=>{clearInterval(e),clearInterval(t)}},[]),(0,o.jsx)(d.Provider,{value:{products:r,madeToOrderProducts:c,wilayaTariffs:u,loading:h,lastUpdated:x,timeUntilRefresh:f,refreshAllData:w,getProduct:e=>r.find(t=>t.id===e),getMadeToOrderProduct:e=>c.find(t=>t.id===e)},children:t})},c=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useOptimizedUserData must be used within an OptimizedUserDataProvider");return e}},861:function(e,t,r){"use strict";r.r(t),r.d(t,{SmartProductProvider:function(){return n},useAdminProducts:function(){return i.R},useProducts:function(){return u},useUserProducts:function(){return c}});var o=r(7437),a=r(2265),s=r(4033),i=r(7023),d=r(2042);r(3325),r(2136);let l=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useUserProducts must be used within a UserProductProvider");return e},n=e=>{let{children:t}=e,r=(0,s.usePathname)();return(null==r?void 0:r.startsWith("/admin"))?(0,o.jsx)(i.V,{children:t}):(0,o.jsx)(d.V,{children:t})},u=()=>{let e=(0,s.usePathname)();if(null==e?void 0:e.startsWith("/admin"))return(0,i.R)();{let e=(0,d.E)();return{products:e.products,loading:e.loading,lastUpdated:e.lastUpdated,timeUntilRefresh:e.timeUntilRefresh,refreshProducts:e.refreshAllData,getProduct:e.getProduct}}}},2136:function(e,t,r){"use strict";r.d(t,{d:function(){return s}});let o="user_products_cache",a="user_all_data_cache",s={getProducts(){try{let e=localStorage.getItem(o);if(!e)return null;let t=JSON.parse(e);if(Date.now()>t.expiresAt)return this.clearCache(),null;return t.products}catch(e){return this.clearCache(),null}},setProducts(e){try{let t=Date.now();localStorage.setItem(o,JSON.stringify({products:e,timestamp:t,expiresAt:t+6e5}))}catch(e){}},clearCache(){try{localStorage.removeItem(o)}catch(e){}},hasValidCache(){try{let e=localStorage.getItem(o);if(!e)return!1;let t=JSON.parse(e);return Date.now()<=t.expiresAt}catch(e){return!1}},getTimeUntilExpiry(){try{let e=localStorage.getItem(o);if(!e)return 0;let t=JSON.parse(e),r=Math.max(0,t.expiresAt-Date.now());return Math.round(r/1e3)}catch(e){return 0}},getAllUserData(){try{let e=localStorage.getItem(a);if(!e)return null;let t=JSON.parse(e);if(Date.now()>t.expiresAt)return this.clearAllUserDataCache(),null;return t}catch(e){return this.clearAllUserDataCache(),null}},setAllUserData(e){try{let t=Date.now(),r={products:e.products,madeToOrderProducts:e.madeToOrderProducts,wilayaTariffs:e.wilayaTariffs,timestamp:t,expiresAt:t+6e5},o=JSON.stringify(r);if(new Blob([o]).size>4194304){this.setProducts(e.products);return}localStorage.setItem(a,o)}catch(t){t instanceof DOMException&&"QuotaExceededError"===t.name&&this.setProducts(e.products)}},clearAllUserDataCache(){try{localStorage.removeItem(a)}catch(e){}}}}},function(e){e.O(0,[192,691,440,518,23,137,971,938,744],function(){return e(e.s=4309)}),_N_E=e.O()}]);