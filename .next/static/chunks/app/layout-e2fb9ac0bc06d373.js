(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6105:function(e,t,r){Promise.resolve().then(r.t.bind(r,5975,23)),Promise.resolve().then(r.t.bind(r,9979,23)),Promise.resolve().then(r.t.bind(r,3385,23)),Promise.resolve().then(r.bind(r,573)),Promise.resolve().then(r.bind(r,8628)),Promise.resolve().then(r.bind(r,2095)),Promise.resolve().then(r.bind(r,9298)),Promise.resolve().then(r.bind(r,9137)),Promise.resolve().then(r.bind(r,6713))},573:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var a=r(2265),o=r(4033);function n(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),[r,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i()},[e]);let i=async()=>{if(e.startsWith("/admin")||"/maintenance"===e||e.startsWith("/_next")||e.includes(".")){n(!0);return}try{let r=await fetch("/api/maintenance"),a=await r.json();!0===a.is_maintenance_mode&&"/maintenance"!==e&&(console.log("\uD83D\uDD34 Store is OFF - Redirecting to maintenance page"),t.push("/maintenance"))}catch(e){console.error("Error checking store status:",e)}finally{n(!0)}};return null}},8628:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return l}});var a=r(7437),o=r(2265);let n=(0,o.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,o.useState)(!1),[l,s]=(0,o.useState)("");return(0,o.useEffect)(()=>{{let e=localStorage.getItem("obsidian-admin-auth"),t=localStorage.getItem("obsidian-admin-username");"true"===e&&t&&(i(!0),s(t))}},[]),(0,a.jsx)(n.Provider,{value:{isAuthenticated:r,login:(e,t)=>(i(!0),s(e),localStorage.setItem("obsidian-admin-auth","true"),localStorage.setItem("obsidian-admin-username",e),!0),logout:()=>{i(!1),s(""),localStorage.removeItem("obsidian-admin-auth"),localStorage.removeItem("obsidian-admin-username")},username:l},children:t})},l=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2095:function(e,t,r){"use strict";r.r(t),r.d(t,{CartProvider:function(){return i},useCart:function(){return l}});var a=r(7437),o=r(2265);let n=(0,o.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,o.useState)([]),[l,s]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null);(0,o.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("obsidian-cart");if(e){let t=JSON.parse(e);if(Array.isArray(t)){let e=t.map(e=>({...e,addedAt:e.addedAt||new Date().toISOString()}));i(e),console.log("Cart loaded from localStorage:",e.length,"items")}else console.warn("Invalid cart data structure, clearing cart"),localStorage.removeItem("obsidian-cart")}u(null)}catch(e){console.error("Error loading cart from localStorage:",e),u("Failed to load cart data"),localStorage.removeItem("obsidian-cart")}finally{s(!0)}})()},[]),(0,o.useEffect)(()=>{if(l)try{localStorage.setItem("obsidian-cart",JSON.stringify(r)),console.log("Cart saved to localStorage:",r.length,"items"),u(null)}catch(e){console.error("Error saving cart to localStorage:",e),u("Failed to save cart data")}},[r,l]);let d=e=>{i(t=>t.filter(t=>t.id!==e))};return(0,a.jsx)(n.Provider,{value:{items:r,addToCart:(e,t,r,a)=>{console.log("CartContext: addToCart called with:",{product:e,selectedSize:t,selectedColor:r,quantity:a});let o="".concat(e.id,"-").concat(t,"-").concat(r);i(n=>{var i,l,s,c;let u=n.find(e=>e.id===o);if(u){let s=u.quantity+a;return s<=((null===(l=e.stock)||void 0===l?void 0:null===(i=l[t])||void 0===i?void 0:i[r])||999)?n.map(e=>e.id===o?{...e,quantity:s}:e):(alert("This item is not available in the selected size and color!"),n)}{let i=(null===(c=e.stock)||void 0===c?void 0:null===(s=c[t])||void 0===s?void 0:s[r])||0;return!e.stock||0===i&&e.stock[t]&&Math.max(...Object.values(e.stock[t]))>0?[...n,{id:o,productId:e.id,name:e.name,price:e.price,image:e.image,selectedSize:t,selectedColor:r,quantity:a,addedAt:new Date().toISOString()}]:a<=i?[...n,{id:o,productId:e.id,name:e.name,price:e.price,image:e.image,selectedSize:t,selectedColor:r,quantity:a,addedAt:new Date().toISOString()}]:(alert("This item is not available in the selected size and color!"),n)}})},removeFromCart:d,updateQuantity:(e,t)=>{if(t<=0){d(e);return}i(r=>r.map(r=>{if(r.id===e){if(t<=10)return{...r,quantity:t};alert("Maximum ".concat(10," items allowed per product!"))}return r}))},clearCart:()=>{i([]),localStorage.removeItem("obsidian-cart")},getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>r.reduce((e,t)=>e+t.price*t.quantity,0),isCartLoaded:l,cartError:c},children:t})},l=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},6713:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return i},useTheme:function(){return l}});var a=r(7437),o=r(2265);let n=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,o.useState)("dark");return(0,o.useEffect)(()=>{let e=localStorage.getItem("admin-theme");e&&i(e)},[]),(0,o.useEffect)(()=>{localStorage.setItem("admin-theme",r),document.documentElement.setAttribute("data-theme",r);let e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","dark"===r?"#000000":"#ffffff")},[r]),(0,a.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{i(e=>"dark"===e?"light":"dark")},setTheme:e=>{i(e)}},children:t})}function l(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3385:function(){},5975:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},9979:function(e){e.exports={style:{fontFamily:"'__Poppins_51684b', '__Poppins_Fallback_51684b'",fontStyle:"normal"},className:"__className_51684b",variable:"__variable_51684b"}},622:function(e,t,r){"use strict";var a=r(2265),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,n={},c=null,u=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:o,type:e,key:c,ref:u,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[440,298,868,137,971,938,744],function(){return e(e.s=6105)}),_N_E=e.O()}]);