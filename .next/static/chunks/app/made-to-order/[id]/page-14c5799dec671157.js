(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[385],{3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7649:function(e,t,s){Promise.resolve().then(s.bind(s,6222))},6222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),r=s(2265),l=s(4033),i=s(5518),c=s(9970),n=s(820),o=s(3067),d=s(6712);function h(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),{products:s,wilayaTariffs:h,loading:A}=(0,n.K)(),[x,u]=(0,r.useState)(null),[m,g]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[f,b]=(0,r.useState)(0);if((0,r.useEffect)(()=>{if(e.id&&s.length>0){let t=s.find(t=>t.id===e.id);u(t||null),t&&t.colors.length>0&&j(t.colors[0]),t&&t.sizes.length>0&&g(t.sizes[0])}},[e.id,s]),A)return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"pt-20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{children:"Loading product..."})]})})]});if(!x)return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"pt-20 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:"The product you're looking for doesn't exist."}),(0,a.jsx)("button",{onClick:()=>window.history.back(),className:"bg-purple-600 text-white px-6 py-3 rounded hover:bg-purple-700 transition-colors",children:"Go Back"})]})})]});let y=[x.image,...x.images||[]].filter(Boolean);return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"pt-20 pb-16 px-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Back to Products"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square relative bg-gray-900 rounded-lg overflow-hidden",children:(0,a.jsx)(c.Z,{src:y[f]||"",alt:x.name,className:"w-full h-full object-cover"})}),y.length>1&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:y.map((e,t)=>(0,a.jsx)("button",{onClick:()=>b(t),className:"aspect-square relative bg-gray-900 rounded-lg overflow-hidden border-2 ".concat(f===t?"border-purple-500":"border-gray-700"),children:(0,a.jsx)(c.Z,{src:e||"",alt:"".concat(x.name," ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:x.name}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-400 mb-6",children:[x.price," DZD"]}),(0,a.jsx)("p",{className:"text-gray-300 text-lg leading-relaxed",children:x.description})]}),x.colors&&x.colors.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-3",children:"Colors"}),(0,a.jsx)("div",{className:"flex gap-2",children:x.colors.map(e=>(0,a.jsx)("button",{onClick:()=>j(e),className:"px-4 py-2 rounded border-2 transition-colors ".concat(p===e?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 text-gray-300 hover:border-gray-500"),children:e},e))})]}),x.sizes&&x.sizes.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-3",children:"Sizes"}),(0,a.jsx)("div",{className:"flex gap-2",children:x.sizes.map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:"px-4 py-2 rounded border-2 transition-colors ".concat(m===e?"border-purple-500 bg-purple-500/20 text-white":"border-gray-600 text-gray-300 hover:border-gray-500"),children:e},e))})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsxs)("button",{onClick:()=>{if(!x)return;let e="/made-to-order-checkout?id=".concat(x.id,"&size=").concat(m,"&color=").concat(p);t.push(e)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-4 px-6 rounded-lg font-bold text-lg transition-colors flex items-center justify-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Order This Product"]})}),(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,a.jsx)("h3",{className:"text-white font-bold mb-4",children:"Product Details"}),(0,a.jsxs)("div",{className:"space-y-2 text-gray-300",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Category:"})," ",x.category]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Delivery:"})," 20-25 days"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Payment:"})," 50% upfront by CCP"]})]})]})]})]})]})})]})}},9970:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(7437),r=s(2265),l=s(6691),i=s.n(l);function c(e){let{src:t,alt:s,width:l=400,height:c=400,className:n="",priority:o=!1,quality:d=75}=e,[h,A]=(0,r.useState)(!0),[x,u]=(0,r.useState)(!1),m=()=>{A(!1)},g=()=>{A(!1),u(!0)};return!t||""===t.trim()||x?(0,a.jsx)("div",{className:"bg-gray-800 flex items-center justify-center ".concat(n),style:{width:l,height:c},children:(0,a.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCF7"}),(0,a.jsx)("div",{className:"text-sm",children:"Image not available"})]})}):t.startsWith("data:")?(0,a.jsxs)("div",{className:"relative overflow-hidden ".concat(n),children:[h&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:l,height:c},children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,a.jsx)("img",{src:t,alt:s,className:"w-full h-full object-cover transition-opacity duration-300 ".concat(h?"opacity-0":"opacity-100"),onLoad:m,onError:g})]}):(0,a.jsxs)("div",{className:"relative overflow-hidden ".concat(n),children:[h&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:l,height:c},children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,a.jsx)(i(),{src:t,alt:s,width:l,height:c,quality:d,priority:o,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",className:"transition-opacity duration-300 ".concat(h?"opacity-0":"opacity-100"),onLoad:m,onError:g,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:o?"eager":"lazy"})]})}},820:function(e,t,s){"use strict";s.d(t,{K:function(){return d}});var a=s(2265);class r{set(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5;if(this.cache.size>=this.maxSize){let e=this.cache.keys().next().value;e&&this.cache.delete(e)}this.cache.set(e,{data:t,timestamp:Date.now(),ttl:s})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}has(e){let t=this.cache.get(e);return!!t&&(!(Date.now()-t.timestamp>t.ttl)||(this.cache.delete(e),!1))}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}getStats(){let e=Date.now(),t=0,s=0;for(let[a,r]of Array.from(this.cache.entries()))e-r.timestamp>r.ttl?t++:s++;return{total:this.cache.size,active:s,expired:t,maxSize:this.maxSize}}constructor(){this.cache=new Map,this.maxSize=100}}let l=new r,i={MADE_TO_ORDER_PRODUCTS:"made_to_order_products",WILAYA_TARIFFS:"wilaya_tariffs"},c={MADE_TO_ORDER_PRODUCTS:3e5,WILAYA_TARIFFS:18e5},n=e=>l.get(e),o=(e,t,s)=>{l.set(e,t,s)};function d(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{d(!0);let e=n(i.MADE_TO_ORDER_PRODUCTS);e&&(t(e),d(!1));let s=await fetch("/api/made-to-order"),a=await s.json(),l=Array.isArray(a)?a:(null==a?void 0:a.data)||[];o(i.MADE_TO_ORDER_PRODUCTS,l,c.MADE_TO_ORDER_PRODUCTS),t(l),d(!1);let h=n(i.WILAYA_TARIFFS);if(h)r(h);else try{let e=await fetch("/api/wilaya"),t=await e.json(),s=(null==t?void 0:t.data)||[];o(i.WILAYA_TARIFFS,s,c.WILAYA_TARIFFS),r(s)}catch(e){r([])}}catch(e){t([]),r([]),d(!1)}})()},[]),{products:e,wilayaTariffs:s,loading:l}}},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[192,691,518,971,938,744],function(){return e(e.s=7649)}),_N_E=e.O()}]);