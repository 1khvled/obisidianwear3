(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{74:function(e,t,s){Promise.resolve().then(s.bind(s,8089))},8089:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eC}});var a=s(7437),r=s(2265),l=s(2457),i=s(4322),n=s(890),c=s(9409),d=s(3505),o=s(5790),x=s(5750),m=s(2894),h=s(6142),u=s(2104),g=s(5305),p=s(3008),b=s(7480),j=s(5883),y=s(1295),v=s(1827),f=s(3021),N=s(2549),w=s(9883),C=s(1357),k=s(9036),S=s(7972),D=s(5589),Z=s(7216),A=s(9670),P=s(8628);function O(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[o,x]=(0,r.useState)(!1),{login:m}=(0,P.useAuth)();return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(k.Z,{className:"w-8 h-8 text-black"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"OBSIDIAN WEAR"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Admin Panel"})]}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-800 shadow-2xl",children:(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),x(!0),d(""),m(e,s)||d("Invalid username or password"),x(!1)},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter username"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:i?"text":"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>n(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?(0,a.jsx)(Z.Z,{className:"w-5 h-5"}):(0,a.jsx)(A.Z,{className:"w-5 h-5"})})]})]}),c&&(0,a.jsx)("div",{className:"p-3 bg-red-900 border border-red-700 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-300 text-sm",children:c})}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-white text-black py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black mr-2"}),"Signing in..."]}):"Sign In"})]})})]})})}var z=s(1298),E=s(8203),T=s(2245),L=s(8783);function I(e){let{title:t,value:s,change:r,changeType:l="neutral",icon:i,color:n="blue",loading:c=!1}=e;return c?(0,a.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-24"}),(0,a.jsx)("div",{className:"h-8 bg-gray-700 rounded w-16"})]}),(0,a.jsx)("div",{className:"h-12 w-12 bg-gray-700 rounded-lg"})]})}):(0,a.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:t}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s}),void 0!==r&&(0,a.jsxs)("div",{className:"flex items-center text-sm ".concat({positive:"text-green-400",negative:"text-red-400",neutral:"text-gray-400"}[l]),children:[(0,a.jsxs)("span",{className:"font-medium",children:["positive"===l?"+":"negative"===l?"-":"",Math.abs(r),"%"]}),(0,a.jsx)("span",{className:"ml-1",children:"vs last month"})]})]}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br ".concat({blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"}[n]," group-hover:scale-110 transition-transform duration-200"),children:(0,a.jsx)(i,{className:"h-6 w-6 text-white"})})]})})}function M(e){let{data:t,type:s="bar",height:l=200,className:i=""}=e,[n,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>c(!0),100);return()=>clearTimeout(e)},[]);let d=Math.max(...t.map(e=>e.value));if("bar"===s)return(0,a.jsx)("div",{className:"space-y-2 ".concat(i),style:{height:l},children:t.map((e,t)=>{let s=d>0?e.value/d*100:0;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:e.label}),(0,a.jsx)("span",{className:"text-white font-medium",children:e.value.toLocaleString()})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000 ease-out ".concat(n?"w-full":"w-0"),style:{width:n?"".concat(s,"%"):"0%",backgroundColor:e.color||"#3b82f6"}})})]},t)})});if("doughnut"===s){let e=t.reduce((e,t)=>e+t.value,0),s=0;return(0,a.jsxs)("div",{className:"relative ".concat(i),style:{height:l,width:l},children:[(0,a.jsx)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:t.map((t,r)=>{let l=t.value/e*100,i=3.6*s;s+=l;let c=2*Math.PI*40,d="".concat(l/100*c," ").concat(c),o=c-i/360*c;return(0,a.jsx)("circle",{cx:"50",cy:"50",r:40,fill:"none",stroke:t.color||"#3b82f6",strokeWidth:"8",strokeDasharray:d,strokeDashoffset:o,className:"transition-all duration-1000 ease-out",style:{strokeDashoffset:n?o:c}},r)})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:e}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total"})]})})]})}return null}function F(e){let{value:t,duration:s=1e3,className:l=""}=e,[i,n]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e,a;let r=l=>{e||(e=l);let i=Math.min((l-e)/s,1);n(Math.floor(t*(1-Math.pow(1-i,4)))),i<1&&(a=requestAnimationFrame(r))};return a=requestAnimationFrame(r),()=>{a&&cancelAnimationFrame(a)}},[t,s]),(0,a.jsx)("span",{className:l,children:i.toLocaleString()})}function R(e){let{products:t,orders:s,customers:l}=e,[n,c]=(0,r.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,totalCustomers:0,lowStockProducts:0,pendingOrders:0,monthlyRevenue:0,averageOrderValue:0}),[h,u]=(0,r.useState)([]),[g,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=t.length,a=s.length,r=s.reduce((e,t)=>e+t.total,0),i=l.length,n=t.filter(e=>!e.stock||10>Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0)).length,d=s.filter(e=>"pending"===e.status).length,o=new Date;o.setDate(o.getDate()-30),c({totalProducts:e,totalOrders:a,totalRevenue:r,totalCustomers:i,lowStockProducts:n,pendingOrders:d,monthlyRevenue:s.filter(e=>new Date(e.orderDate)>=o).reduce((e,t)=>e+t.total,0),averageOrderValue:a>0?r/a:0}),u(s.slice(0,5)),p(t.map(e=>{let t=s.filter(t=>t.productId===e.id);return{product:e,orders:t.length}}).sort((e,t)=>t.orders-e.orders).slice(0,5))},[t,s,l]);let b=s.length>0?[{label:"This Month",value:n.monthlyRevenue,color:"#10b981"}]:[{label:"No Data",value:0,color:"#6b7280"}],j=Object.entries(t.reduce((e,t)=>{let s=t.category||"Other";return e[s]=(e[s]||0)+1,e},{})).map(e=>{let[t,s]=e;return{label:t,value:s,color:"hsl(".concat(360*Math.random(),", 70%, 50%)")}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(I,{title:"Total Products",value:(0,a.jsx)(F,{value:n.totalProducts}),change:12,changeType:"positive",icon:i.Z,color:"blue"}),(0,a.jsx)(I,{title:"Total Orders",value:(0,a.jsx)(F,{value:n.totalOrders}),change:8,changeType:"positive",icon:d.Z,color:"green"}),(0,a.jsx)(I,{title:"Total Revenue",value:"".concat(n.totalRevenue.toLocaleString()," DA"),change:15,changeType:"positive",icon:z.Z,color:"purple"}),(0,a.jsx)(I,{title:"Total Customers",value:(0,a.jsx)(F,{value:n.totalCustomers}),change:5,changeType:"positive",icon:x.Z,color:"orange"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(I,{title:"Low Stock Products",value:(0,a.jsx)(F,{value:n.lowStockProducts}),icon:m.Z,color:"red"}),(0,a.jsx)(I,{title:"Pending Orders",value:(0,a.jsx)(F,{value:n.pendingOrders}),icon:E.Z,color:"orange"}),(0,a.jsx)(I,{title:"Monthly Revenue",value:"".concat(n.monthlyRevenue.toLocaleString()," DA"),icon:o.Z,color:"green"}),(0,a.jsx)(I,{title:"Avg Order Value",value:"".concat(Math.round(n.averageOrderValue).toLocaleString()," DA"),icon:T.Z,color:"purple"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Revenue Trend"}),(0,a.jsxs)("div",{className:"flex items-center text-green-400 text-sm",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4 mr-1"}),"+15% from last month"]})]}),(0,a.jsx)(M,{data:b,type:"bar",height:200})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Products by Category"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[t.length," total"]})]}),(0,a.jsx)(M,{data:j,type:"doughnut",height:200})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Orders"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",(0,a.jsx)(L.Z,{className:"w-4 h-4 ml-1"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:h.length>0?h.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.customerName}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.productName})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.total.toLocaleString()," DA"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.status})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,a.jsx)(d.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No recent orders"})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Top Products"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",(0,a.jsx)(L.Z,{className:"w-4 h-4 ml-1"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:g.length>0?g.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.product.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.product.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.orders," orders"]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.product.price.toLocaleString()," DA"]})]})]},e.product.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No products yet"})]})})]})]})]})}var _=s(1813),U=s(4689),B=s(9617),q=s(1138),V=s(6264);function X(e){let{children:t,onClick:s,variant:r="primary",size:l="md",disabled:i=!1,loading:n=!1,className:c="",type:d="button"}=e;return(0,a.jsxs)("button",{type:d,onClick:s,disabled:i||n,className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",outline:"border border-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[l]," ").concat(c),children:[n&&(0,a.jsx)(V.Z,{className:"w-4 h-4 mr-2 animate-spin"}),t]})}function W(e){let{isOpen:t,onClose:s,title:l,children:i,size:n="md",className:c=""}=e;return((0,r.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,s]),t)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,a.jsx)("div",{className:"relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]," ").concat(c),children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 transform transition-all duration-300 scale-100",children:[l&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:l}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsx)("div",{className:"p-6",children:i})]})})]})}):null}function H(e){let{products:t,onAddProduct:s,onEditProduct:l,onDeleteProduct:n,onViewProduct:c}=e,[d,o]=(0,r.useState)(""),[x,h]=(0,r.useState)("All"),[u,g]=(0,r.useState)("name"),[b,j]=(0,r.useState)("asc"),[y,f]=(0,r.useState)("grid"),[N,C]=(0,r.useState)([]),[k,S]=(0,r.useState)(!1),[D,Z]=(0,r.useState)(!1),[P,O]=(0,r.useState)(null),z=["All",...Array.from(new Set(t.map(e=>e.category)))],E=t.filter(e=>{let t=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),s="All"===x||e.category===x;return t&&s}).sort((e,t)=>{let s=e[u],a=t[u];return void 0===s&&void 0===a?0:void 0===s?"asc"===b?-1:1:void 0===a?"asc"===b?1:-1:("string"==typeof s&&(s=s.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase()),s<a)?"asc"===b?-1:1:s>a?"asc"===b?1:-1:0}),L=e=>{if(!e.stock)return{total:0,status:"out"};let t=Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0);return 0===t?{total:t,status:"out"}:t<10?{total:t,status:"low"}:{total:t,status:"good"}},I=e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},M=e=>{O(e),Z(!0)};return(0,r.useEffect)(()=>{S(N.length>0)},[N]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Products"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage your product catalog"})]}),(0,a.jsxs)(X,{onClick:s,className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Add Product"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),(0,a.jsx)("select",{value:x,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:z.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsxs)("select",{value:"".concat(u,"-").concat(b),onChange:e=>{let[t,s]=e.target.value.split("-");g(t),j(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"name-asc",children:"Name A-Z"}),(0,a.jsx)("option",{value:"name-desc",children:"Name Z-A"}),(0,a.jsx)("option",{value:"price-asc",children:"Price Low-High"}),(0,a.jsx)("option",{value:"price-desc",children:"Price High-Low"}),(0,a.jsx)("option",{value:"createdAt-desc",children:"Newest First"}),(0,a.jsx)("option",{value:"createdAt-asc",children:"Oldest First"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>f("grid"),className:"p-2 rounded ".concat("grid"===y?"bg-blue-600 text-white":"text-gray-400"),children:(0,a.jsx)(_.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>f("list"),className:"p-2 rounded ".concat("list"===y?"bg-blue-600 text-white":"text-gray-400"),children:(0,a.jsx)(U.Z,{className:"w-4 h-4"})})]})]}),k&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[N.length," product",1!==N.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,a.jsx)(X,{variant:"outline",size:"sm",onClick:()=>C([]),children:"Clear"}),(0,a.jsx)(X,{variant:"danger",size:"sm",onClick:()=>{N.forEach(e=>n(e)),C([]),S(!1)},children:"Delete Selected"})]})]})]}),E.length>0?(0,a.jsx)("div",{className:"grid"===y?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:E.map(e=>{let t=L(e);return"grid"===y?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}),(0,a.jsx)("div",{className:"absolute top-2 left-2",children:(0,a.jsx)("input",{type:"checkbox",checked:N.includes(e.id),onChange:()=>I(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>c(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:(0,a.jsx)(A.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>l(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>M(e),className:"p-1 bg-black/50 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-2 line-clamp-2",children:e.name}),(0,a.jsx)("div",{className:"flex items-center gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)(T.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:[Number(e.price).toFixed(0)," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["out"===t.status&&(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,a.jsxs)("div",{children:["Category: ",e.category]}),(0,a.jsxs)("div",{children:["Stock: ",t.total," units"]})]})]})]},e.id):(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"checkbox",checked:N.includes(e.id),onChange:()=>I(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-semibold text-white truncate",children:e.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm truncate",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.category}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)(T.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-white",children:[e.price," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["Stock: ",t.total]}),"out"===t.status&&(0,a.jsx)(m.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>c(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(A.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>l(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>M(e),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})]})]})},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No products found"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:d||"All"!==x?"Try adjusting your search or filters":"Get started by adding your first product"}),!d&&"All"===x&&(0,a.jsxs)(X,{onClick:s,children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),(0,a.jsx)(W,{isOpen:D,onClose:()=>Z(!1),title:"Delete Product",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete ",(0,a.jsx)("strong",{children:null==P?void 0:P.name}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)(X,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),(0,a.jsx)(X,{variant:"danger",onClick:()=>{P&&(n(P.id),Z(!1),O(null))},children:"Delete Product"})]})]})})]})}var J=s(4280);function Q(e){var t;let{onClose:s}=e,[l,n]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[o,x]=(0,r.useState)(""),[h,g]=(0,r.useState)("all"),[b,j]=(0,r.useState)(null),[y,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(0),[C,k]=(0,r.useState)(""),S=async()=>{try{d(!0);let e=await fetch("/api/inventory"),t=await e.json();t.success?n(t.data):console.error("Failed to load inventory:",t.error)}catch(e){console.error("Error loading inventory:",e)}finally{d(!1)}};(0,r.useEffect)(()=>{S()},[]);let D=l.filter(e=>{var t;let s=(null===(t=e.products)||void 0===t?void 0:t.name.toLowerCase().includes(o.toLowerCase()))||e.size.toLowerCase().includes(o.toLowerCase())||e.color.toLowerCase().includes(o.toLowerCase()),a=!0;return"low"===h?a=e.available_quantity<=e.min_stock_level:"out"===h?a=0===e.available_quantity:"in-stock"===h&&(a=e.available_quantity>e.min_stock_level),s&&a}),Z=async(e,t)=>{try{let s=await fetch("/api/inventory/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:t,reason:C||"Manual adjustment",createdBy:"admin"})}),a=await s.json();a.success?(n(t=>t.map(t=>t.id===e.id?{...t,quantity:a.data.quantity,available_quantity:a.data.available_quantity,reserved_quantity:a.data.reserved_quantity,updated_at:a.data.updated_at}:t)),j(null),k(""),w(0),console.log("✅ Inventory updated successfully!")):console.error("Failed to update inventory:",a.error)}catch(e){console.error("Error updating inventory:",e)}},A=e=>0===e.available_quantity?"out":e.available_quantity<=e.min_stock_level?"low":"in-stock",P=e=>{switch(e){case"out":return"text-red-400 bg-red-900/20";case"low":return"text-yellow-400 bg-yellow-900/20";case"in-stock":return"text-green-400 bg-green-900/20";default:return"text-gray-400 bg-gray-900/20"}},O=e=>{switch(e){case"out":return(0,a.jsx)(u.Z,{className:"w-4 h-4"});case"low":return(0,a.jsx)(m.Z,{className:"w-4 h-4"});case"in-stock":return(0,a.jsx)(p.Z,{className:"w-4 h-4"});default:return(0,a.jsx)(i.Z,{className:"w-4 h-4"})}};return c?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-gray-900 p-8 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(J.Z,{className:"w-6 h-6 animate-spin text-blue-400"}),(0,a.jsx)("span",{className:"text-white",children:"Loading inventory..."})]})})}):(0,a.jsx)("div",{className:"inventory-manager-modal bg-black/70 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-7xl h-[90vh] flex flex-col shadow-2xl border border-gray-700 relative",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage product stock levels and track inventory"})]})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(u.Z,{className:"w-6 h-6"})})]})}),(0,a.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search products, sizes, or colors...",value:o,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Items"}),(0,a.jsx)("option",{value:"in-stock",children:"In Stock"}),(0,a.jsx)("option",{value:"low",children:"Low Stock"}),(0,a.jsx)("option",{value:"out",children:"Out of Stock"})]}),(0,a.jsxs)("button",{onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[(0,a.jsx)(J.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Refresh"})]})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Size"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Color"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Quantity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Available"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:D.map(e=>{var t,s;let r=A(e);return(0,a.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(null===(t=e.products)||void 0===t?void 0:t.image)&&(0,a.jsx)("img",{src:e.products.image,alt:e.products.name,className:"w-10 h-10 rounded-lg object-cover mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:(null===(s=e.products)||void 0===s?void 0:s.name)||"Unknown Product"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["ID: ",e.product_id]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.size}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.color}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.quantity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.available_quantity}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(P(r)),children:[O(r),(0,a.jsx)("span",{className:"ml-1 capitalize",children:r.replace("-"," ")})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>{j(e),w(e.quantity)},className:"text-blue-400 hover:text-blue-300 mr-3",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})})})]},e.id)})})]})})}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[10000]",style:{zIndex:1e4},children:(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg w-full max-w-md shadow-2xl border border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Update Inventory - ",null===(t=b.products)||void 0===t?void 0:t.name]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Size: ",b.size," | Color: ",b.color]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Current Quantity: ",b.quantity]}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>w(parseInt(e.target.value)||0),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason (optional)"}),(0,a.jsx)("input",{type:"text",value:C,onChange:e=>k(e.target.value),placeholder:"e.g., Stock received, Manual adjustment",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{j(null),k(""),w(0)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>Z(b,N),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Update"})]})]})]})})]})})}var Y=s(1961),G=s(5817),K=s(4401);function $(e){let{orders:t,onUpdateOrder:s,onDeleteOrder:l,onViewOrder:n}=e,[c,d]=(0,r.useState)(null),[o,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[u,g]=(0,r.useState)("All"),[p,b]=(0,r.useState)("All"),[j,y]=(0,r.useState)("orderDate"),[f,w]=(0,r.useState)("desc"),[C,k]=(0,r.useState)([]),[D,Z]=(0,r.useState)(!1),[P,O]=(0,r.useState)(!1),[E,T]=(0,r.useState)(null),[L,I]=(0,r.useState)(null),M=t.filter(e=>{let t=e.customerName.toLowerCase().includes(m.toLowerCase())||e.productName.toLowerCase().includes(m.toLowerCase())||e.id.toLowerCase().includes(m.toLowerCase()),s="All"===u||e.status===u,a="All"===p||e.paymentStatus===p;return t&&s&&a}).sort((e,t)=>{let s=e[j],a=t[j];return void 0===s&&void 0===a?0:void 0===s?"asc"===f?-1:1:void 0===a?"asc"===f?1:-1:(s instanceof Date&&a instanceof Date&&(s=s.getTime(),a=a.getTime()),s<a)?"asc"===f?-1:1:s>a?"asc"===f?1:-1:0}),F=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"processing":return"text-blue-400 bg-blue-900/20";case"shipped":return"text-purple-400 bg-purple-900/20";case"delivered":return"text-green-400 bg-green-900/20";case"cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},R=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"paid":return"text-green-400 bg-green-900/20";case"failed":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},_=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},U=e=>{C.forEach(t=>s(t,{status:e})),k([]),Z(!1)},B=e=>{T(e),O(!0)},V=(e,t)=>{s(e,{status:t})},H=(e,t)=>{s(e,{paymentStatus:t})},Q=e=>{d(e),x(!0)};(0,r.useEffect)(()=>{Z(C.length>0)},[C]);let $={total:t.length,pending:t.filter(e=>"pending"===e.status).length,processing:t.filter(e=>"processing"===e.status).length,shipped:t.filter(e=>"shipped"===e.status).length,delivered:t.filter(e=>"delivered"===e.status).length,totalRevenue:t.reduce((e,t)=>e+t.total,0),averageOrderValue:t.length>0?t.reduce((e,t)=>e+t.total,0)/t.length:0};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Orders"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage customer orders and track fulfillment"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(X,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{try{if(console.log("Starting export with orders:",t.length),!t||0===t.length){alert("No orders to export.");return}K.X.setOrders(t);let e=K.X.exportOrdersCSV();if(!e||""===e.trim())throw Error("Generated CSV content is empty");console.log("Generated CSV content length:",e.length);let s=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(s);a.setAttribute("href",r),a.setAttribute("download","orders-export-".concat(new Date().toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(r),100),console.log("Orders exported successfully")}catch(e){console.error("Error exporting orders:",e),alert("Failed to export orders: ".concat(e instanceof Error?e.message:"Unknown error"))}},children:[(0,a.jsx)(G.Z,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)(X,{className:"flex items-center gap-2",onClick:()=>{window.location.reload()},children:[(0,a.jsx)(J.Z,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:$.total}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:$.pending}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Pending"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:$.processing}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Processing"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:$.shipped}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Shipped"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:$.delivered}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Delivered"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[$.totalRevenue.toLocaleString()," DA"]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search orders...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"All",children:"All Statuses"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("select",{value:p,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"All",children:"All Payments"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"paid",children:"Paid"}),(0,a.jsx)("option",{value:"failed",children:"Failed"})]}),(0,a.jsxs)("select",{value:"".concat(j,"-").concat(f),onChange:e=>{let[t,s]=e.target.value.split("-");y(t),w(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"orderDate-desc",children:"Newest First"}),(0,a.jsx)("option",{value:"orderDate-asc",children:"Oldest First"}),(0,a.jsx)("option",{value:"total-desc",children:"Highest Value"}),(0,a.jsx)("option",{value:"total-asc",children:"Lowest Value"}),(0,a.jsx)("option",{value:"customerName-asc",children:"Customer A-Z"}),(0,a.jsx)("option",{value:"customerName-desc",children:"Customer Z-A"})]})]}),D&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[C.length," order",1!==C.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,a.jsxs)("select",{onChange:e=>U(e.target.value),className:"px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[(0,a.jsx)("option",{value:"",children:"Update Status"}),(0,a.jsx)("option",{value:"processing",children:"Mark as Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Mark as Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Mark as Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancel Orders"})]}),(0,a.jsx)(X,{variant:"outline",size:"sm",onClick:()=>k([]),children:"Clear"})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:(0,a.jsx)("input",{type:"checkbox",checked:C.length===M.length&&M.length>0,onChange:()=>{k(C.length===M.length?[]:M.map(e=>e.id))},className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Order ID"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Customer"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Product"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Shipping"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Payment"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Total"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Date"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:M.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700 hover:bg-gray-700/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("input",{type:"checkbox",checked:C.includes(e.id),onChange:()=>_(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"text-white font-mono text-sm",children:["#",e.id.slice(-8)]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-white font-medium",children:e.customerName}),(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:e.customerPhone}),(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:e.customerEmail}),e.customerCity&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["\uD83C\uDFD9️ ",e.customerCity]}),e.customerAddress&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1 truncate max-w-[200px]",title:e.customerAddress,children:["\uD83D\uDCCD ",e.customerAddress]})]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-white font-medium",children:e.productName}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm",children:[e.selectedSize," • ",e.selectedColor]}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["Qty: ",e.quantity]})]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-white text-sm",children:"homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk"}),(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:e.wilayaName}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.shippingCost," DA"]})]}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>V(e.id,t.target.value),className:"px-2 py-1 rounded text-xs font-medium border-0 ".concat(F(e.status)),children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.paymentStatus,onChange:t=>H(e.id,t.target.value),className:"px-2 py-1 rounded text-xs font-medium border-0 ".concat(R(e.paymentStatus)),children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"paid",children:"Paid"}),(0,a.jsx)("option",{value:"failed",children:"Failed"})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"text-white font-semibold",children:[e.total.toLocaleString()," DA"]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-gray-300 text-sm",children:new Date(e.orderDate).toLocaleDateString()})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>Q(e),className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Order",children:(0,a.jsx)(A.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>B(e),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Delete Order",children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),0===M.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No orders found"}),(0,a.jsx)("p",{className:"text-gray-400",children:m||"All"!==u||"All"!==p?"Try adjusting your search or filters":"Orders will appear here when customers make purchases"})]}),(0,a.jsx)(W,{isOpen:P,onClose:()=>O(!1),title:"Delete Order",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete order ",(0,a.jsx)("strong",{children:null==E?void 0:E.id}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)(X,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,a.jsx)(X,{variant:"danger",onClick:()=>{E&&(l(E.id),O(!1),T(null))},children:"Delete Order"})]})]})}),o&&c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-4xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Order Details"}),(0,a.jsx)("button",{onClick:()=>x(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),"Order Information"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Order ID:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:["#",c.id.slice(-8)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Order Date:"}),(0,a.jsx)("span",{className:"text-white",children:new Date(c.orderDate).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(F(c.status)),children:c.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Payment Status:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(R(c.paymentStatus)),children:c.paymentStatus})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(z.Z,{className:"w-5 h-5"}),"Payment Details"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"text-white",children:[c.subtotal.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Shipping Cost:"}),(0,a.jsxs)("span",{className:"text-white",children:[c.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between border-t border-gray-700 pt-2",children:[(0,a.jsx)("span",{className:"text-white font-semibold",children:"Total:"}),(0,a.jsxs)("span",{className:"text-white font-semibold text-lg",children:[c.total.toLocaleString()," DA"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"w-5 h-5"}),"Customer Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Name"}),(0,a.jsx)("div",{className:"text-white font-medium",children:c.customerName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Phone"}),(0,a.jsx)("div",{className:"text-white",children:c.customerPhone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Email"}),(0,a.jsx)("div",{className:"text-white",children:c.customerEmail||"Not provided"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"City"}),(0,a.jsx)("div",{className:"text-white",children:c.customerCity||"Not provided"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Address"}),(0,a.jsx)("div",{className:"text-white",children:c.customerAddress||"Not provided"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),"Product Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Product Name"}),(0,a.jsx)("div",{className:"text-white font-medium",children:c.productName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Size & Color"}),(0,a.jsxs)("div",{className:"text-white",children:[c.selectedSize," • ",c.selectedColor]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Quantity"}),(0,a.jsx)("div",{className:"text-white",children:c.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Unit Price"}),(0,a.jsxs)("div",{className:"text-white",children:[(c.subtotal/c.quantity).toLocaleString()," DA"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(Y.Z,{className:"w-5 h-5"}),"Shipping Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Shipping Type"}),(0,a.jsx)("div",{className:"text-white",children:"homeDelivery"===c.shippingType?"Home Delivery":"Stop Desk"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Wilaya"}),(0,a.jsx)("div",{className:"text-white",children:c.wilayaName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Shipping Cost"}),(0,a.jsxs)("div",{className:"text-white",children:[c.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Payment Method"}),(0,a.jsx)("div",{className:"text-white",children:"cod"===c.paymentMethod?"Cash on Delivery":"Bank Transfer"})]})]})]}),(c.notes||c.trackingNumber||c.estimatedDelivery)&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Additional Information"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[c.trackingNumber&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Tracking Number"}),(0,a.jsx)("div",{className:"text-white font-mono",children:c.trackingNumber})]}),c.estimatedDelivery&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Estimated Delivery"}),(0,a.jsx)("div",{className:"text-white",children:c.estimatedDelivery})]}),c.notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Notes"}),(0,a.jsx)("div",{className:"text-white",children:c.notes})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-800",children:(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}function ee(e){let{products:t,orders:s,customers:l}=e,[n,c]=(0,r.useState)("7d"),[m,h]=(0,r.useState)(!1),{startDate:u,endDate:g}=(e=>{let t=new Date;return"custom"===e?{startDate:new Date(t.getTime()-6048e5),endDate:t}:{startDate:new Date(t.getTime()-864e5*({"7d":7,"14d":14,"30d":30,"90d":90,"1y":365})[e]),endDate:t}})(n),p=s.filter(e=>{let t=new Date(e.orderDate);return t>=u&&t<=g}),b={totalRevenue:p.reduce((e,t)=>e+(t.total||0),0),totalOrders:p.length,totalCustomers:l.length,totalProducts:t.length,averageOrderValue:p.length>0?p.reduce((e,t)=>e+(t.total||0),0)/p.length:0,conversionRate:l.length>0?p.length/l.length*100:0,topProducts:t.map(e=>{let t=p.filter(t=>t.productId===e.id),s=t.reduce((e,t)=>e+(t.total||0),0),a=t.reduce((e,t)=>e+(t.quantity||0),0);return{product:e,orders:t.length,revenue:s,quantity:a}}).sort((e,t)=>t.revenue-e.revenue).slice(0,5),revenueByDay:function(){let e=[],t=new Date(u);for(console.log("getRevenueByDay - Start date:",u),console.log("getRevenueByDay - End date:",g),console.log("getRevenueByDay - Filtered orders count:",p.length),console.log("getRevenueByDay - Sample orders:",p.slice(0,2));t<=g;){let s=p.filter(e=>{let s=new Date(e.orderDate),a=s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate();return a&&console.log("Found matching order for",t.toDateString(),":",e),a}),a=s.reduce((e,t)=>e+(t.total||0),0);console.log("Day:",t.toDateString(),"Orders:",s.length,"Revenue:",a),e.push({date:t.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:a,orders:s.length}),t.setDate(t.getDate()+1)}return console.log("getRevenueByDay - Final days data:",e),e}(),ordersByStatus:function(){let e={pending:0,processing:0,shipped:0,delivered:0,cancelled:0};return p.forEach(t=>{e[t.status]++}),Object.entries(e).map(e=>{let[t,s]=e;return{label:t.charAt(0).toUpperCase()+t.slice(1),value:s,color:({pending:"#f59e0b",processing:"#3b82f6",shipped:"#8b5cf6",delivered:"#10b981",cancelled:"#ef4444"})[t]||"#6b7280"}})}(),revenueByCategory:function(){let e={};return p.forEach(s=>{let a=t.find(e=>e.id===s.productId);a&&(e[a.category]=(e[a.category]||0)+(s.total||0))}),Object.entries(e).map(e=>{let[t,s]=e;return{label:t,value:s,color:({"T-Shirts":"#3b82f6",Hoodies:"#8b5cf6",Accessories:"#10b981",Other:"#6b7280"})[t]||"#6b7280"}})}()};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Track your store performance and insights"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:n,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,a.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,a.jsx)("option",{value:"14d",children:"Last 2 weeks"}),(0,a.jsx)("option",{value:"30d",children:"Last month"}),(0,a.jsx)("option",{value:"90d",children:"Last 3 months"}),(0,a.jsx)("option",{value:"1y",children:"Last year"})]}),(0,a.jsx)(X,{variant:"outline",onClick:()=>{h(!0),setTimeout(()=>h(!1),1e3)},disabled:m,children:(0,a.jsx)(J.Z,{className:"w-4 h-4 ".concat(m?"animate-spin":"")})}),(0,a.jsxs)(X,{onClick:()=>{let e=[["Metric","Value"],["Total Revenue",b.totalRevenue],["Total Orders",b.totalOrders],["Total Customers",b.totalCustomers],["Average Order Value",b.averageOrderValue],["Conversion Rate",b.conversionRate]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="analytics-".concat(n,".csv"),a.click(),window.URL.revokeObjectURL(s)},children:[(0,a.jsx)(G.Z,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(I,{title:"Total Revenue",value:"".concat(b.totalRevenue.toLocaleString()," DA"),icon:z.Z,color:"green",loading:m}),(0,a.jsx)(I,{title:"Total Orders",value:(0,a.jsx)(F,{value:b.totalOrders}),icon:d.Z,color:"blue",loading:m}),(0,a.jsx)(I,{title:"Average Order Value",value:"".concat(Math.round(b.averageOrderValue).toLocaleString()," DA"),icon:o.Z,color:"purple",loading:m}),(0,a.jsx)(I,{title:"Conversion Rate",value:"".concat(b.conversionRate.toFixed(1),"%"),icon:x.Z,color:"orange",loading:m})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Revenue Trend"}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"7d"===n?"7 days":"14d"===n?"2 weeks":"30d"===n?"1 month":"90d"===n?"3 months":"1 year"})]}),(0,a.jsx)("div",{className:"min-h-[200px]",children:(0,a.jsx)(M,{data:b.revenueByDay.map(e=>({label:e.date,value:e.revenue,color:"#3b82f6"})),type:"bar",height:200})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Orders by Status"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[b.totalOrders," total"]})]}),(0,a.jsx)(M,{data:b.ordersByStatus,type:"doughnut",height:200})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Top Products"}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"By revenue"})]}),(0,a.jsx)("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:b.topProducts.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:t+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.product.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.product.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.revenue.toLocaleString()," DA"]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.quantity," sold"]})]})]},e.product.id))})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Revenue by Category"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[b.revenueByCategory.reduce((e,t)=>e+t.value,0).toLocaleString()," DA"]})]}),(0,a.jsx)(M,{data:b.revenueByCategory,type:"bar",height:200})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Products"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.totalProducts})]}),(0,a.jsx)(i.Z,{className:"w-8 h-8 text-blue-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Customers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:b.totalCustomers})]}),(0,a.jsx)(x.Z,{className:"w-8 h-8 text-green-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Time Period"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:"7d"===n?"7D":"30d"===n?"30D":"90d"===n?"90D":"1Y"})]}),(0,a.jsx)(E.Z,{className:"w-8 h-8 text-purple-400"})]})})]})]})}var et=s(8068),es=s(2940);function ea(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)("00:00"),[c,d]=(0,r.useState)(!0),[o,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{h()},[]);let h=async()=>{try{d(!0);let e=await fetch("/api/maintenance"),s=await e.json();if(s.drop_date){let e=new Date(s.drop_date);t(e.toISOString().split("T")[0]),n(e.toTimeString().slice(0,5))}else{let e=new Date,s=new Date(e.getTime()+2592e6);t(s.toISOString().split("T")[0]),n("00:00")}l(!1===s.is_maintenance_mode)}catch(e){console.error("Error loading maintenance settings:",e),t(new Date(new Date().getTime()+2592e6).toISOString().split("T")[0]),n("00:00"),l(!0)}finally{d(!1)}},u=async()=>{try{x(!0);let t="".concat(e,"T").concat(i,":00");if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drop_date:t})})).ok)alert("Drop date updated successfully!");else throw Error("Failed to update drop date")}catch(e){console.error("Error updating drop date:",e),alert("Failed to update drop date. Please try again.")}finally{x(!1)}},p=async()=>{try{x(!0);let e=!s;if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_maintenance_mode:!e})})).ok)l(e),e?alert("Store is now OPEN. Customers can shop normally."):alert("Store is now in MAINTENANCE MODE. Customers will see the maintenance page.");else throw Error("Failed to update store status")}catch(e){console.error("Error updating store status:",e),alert("Failed to update store status. Please try again.")}finally{x(!1)}};return c?(0,a.jsx)("div",{className:"p-4 sm:p-6 flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(V.Z,{className:"w-6 h-6 animate-spin text-blue-400"}),(0,a.jsx)("span",{className:"text-gray-400",children:"Loading maintenance settings..."})]})}):(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Maintenance & Store Control"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage store availability and drop dates"})]}),(0,a.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-2 flex items-center",children:[s?(0,a.jsx)(et.Z,{className:"w-6 h-6 text-green-400 mr-2"}):(0,a.jsx)(es.Z,{className:"w-6 h-6 text-red-400 mr-2"}),"Store Status"]}),(0,a.jsx)("p",{className:"text-gray-400",children:s?"Store is currently OPEN - customers can browse and purchase":"Store is in MAINTENANCE MODE - customers see maintenance page"})]}),(0,a.jsxs)("button",{onClick:p,disabled:o,className:"px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 ".concat(s?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800"),children:[o&&(0,a.jsx)(V.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{children:s?"Turn OFF Store":"Turn ON Store"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,a.jsx)(E.Z,{className:"w-6 h-6 text-blue-400 mr-2"}),"Drop Date Configuration"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Date"}),(0,a.jsx)("input",{type:"date",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Time"}),(0,a.jsx)("input",{type:"time",value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("button",{onClick:u,disabled:o,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-blue-800",children:[o?(0,a.jsx)(V.Z,{className:"w-5 h-5 mr-2 animate-spin"}):(0,a.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Update Drop Date"]}),(0,a.jsxs)("button",{onClick:()=>{window.open("/maintenance","_blank")},className:"flex items-center justify-center px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 mr-2"}),"Preview Maintenance Page"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Current Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Store Status"}),(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(s?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:s?"\uD83D\uDFE2 OPEN":"\uD83D\uDD34 MAINTENANCE"})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Next Drop"}),(0,a.jsx)("p",{className:"text-gray-300",children:new Date("".concat(e,"T").concat(i)).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,a.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-yellow-300 font-semibold",children:"Important Notes"}),(0,a.jsxs)("ul",{className:"text-yellow-200/80 text-sm mt-2 space-y-1",children:[(0,a.jsx)("li",{children:"• When store is OFF, all visitors see the maintenance page"}),(0,a.jsx)("li",{children:"• Admin panel remains accessible at /admin"}),(0,a.jsx)("li",{children:"• Drop date shows on maintenance page with live countdown"}),(0,a.jsx)("li",{children:"• Changes take effect immediately"})]})]})]})})]})}var er=s(597),el=s(3673),ei=s(1981),en=s(6245);function ec(e){var t,s,l,n,c,o;let{onClose:x}=e,[m,h]=(0,r.useState)([]),[u,g]=(0,r.useState)([]),[b,j]=(0,r.useState)(!0),[y,v]=(0,r.useState)("products"),[f,k]=(0,r.useState)(!1),[S,D]=(0,r.useState)(null),[Z,A]=(0,r.useState)({name:"",description:"",price:0,image:"",images:[],colors:["Noir"],sizes:["S","M","L","XL"],category:"Custom",tags:[],isActive:!0,displayOrder:0}),[P,O]=(0,r.useState)(""),[z,E]=(0,r.useState)(""),[T,L]=(0,r.useState)("");(0,r.useEffect)(()=>{I()},[]);let I=async()=>{try{j(!0);let e=await fetch("/api/made-to-order"),t=await e.json();h(t);let s=await fetch("/api/made-to-order/orders"),a=await s.json();g(a)}catch(e){console.error("Error loading made-to-order data:",e)}finally{j(!1)}},M=async()=>{try{let e=await fetch("/api/made-to-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(e.ok){let t=await e.json();h([...m,t]),k(!1),U(),alert("Product added successfully!")}else throw Error("Failed to add product")}catch(e){console.error("Error adding product:",e),alert("Failed to add product. Please try again.")}},F=async()=>{if(S)try{let e=await fetch("/api/made-to-order",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(e.ok){let t=await e.json();h(m.map(e=>e.id===S.id?t:e)),D(null),alert("Product updated successfully!")}else throw Error("Failed to update product")}catch(e){console.error("Error updating product:",e),alert("Failed to update product. Please try again.")}},R=async e=>{if(confirm("Are you sure you want to delete this product?"))try{if((await fetch("/api/made-to-order?id=".concat(e),{method:"DELETE"})).ok)h(m.filter(t=>t.id!==e)),alert("Product deleted successfully!");else throw Error("Failed to delete product")}catch(e){console.error("Error deleting product:",e),alert("Failed to delete product. Please try again.")}},_=async(e,t)=>{try{let s=await fetch("/api/made-to-order/orders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})});if(s.ok){let t=await s.json();g(u.map(s=>s.id===e?t:s)),alert("Order status updated successfully!")}else throw Error("Failed to update order status")}catch(e){console.error("Error updating order status:",e),alert("Failed to update order status. Please try again.")}},U=()=>{A({name:"",description:"",price:0,image:"",images:[],colors:["Noir"],sizes:["S","M","L","XL"],category:"Custom",tags:[],isActive:!0,displayOrder:0})},V=e=>{var t;A({...Z,colors:(null===(t=Z.colors)||void 0===t?void 0:t.filter(t=>t!==e))||[]})},X=e=>{var t;A({...Z,sizes:(null===(t=Z.sizes)||void 0===t?void 0:t.filter(t=>t!==e))||[]})},W=e=>{var t;A({...Z,tags:(null===(t=Z.tags)||void 0===t?void 0:t.filter(t=>t!==e))||[]})},H=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"confirmed":return"text-blue-400 bg-blue-900/20";case"in_production":return"text-orange-400 bg-orange-900/20";case"ready":return"text-green-400 bg-green-900/20";case"shipped":return"text-purple-400 bg-purple-900/20";case"delivered":return"text-emerald-400 bg-emerald-900/20";case"cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}};return b?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-7xl h-[90vh] flex flex-col relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Made to Order Management"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage custom products and orders"})]}),(0,a.jsx)("button",{onClick:x,className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"flex border-b border-gray-800",children:[(0,a.jsxs)("button",{onClick:()=>v("products"),className:"px-6 py-4 font-medium transition-colors ".concat("products"===y?"text-white border-b-2 border-white":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 inline mr-2"}),"Products (",m.length,")"]}),(0,a.jsxs)("button",{onClick:()=>v("orders"),className:"px-6 py-4 font-medium transition-colors ".concat("orders"===y?"text-white border-b-2 border-white":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 inline mr-2"}),"Orders (",u.length,")"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:["products"===y&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Made to Order Products"}),(0,a.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5 mr-2"}),"Add Product"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-white font-semibold text-lg mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:e.description}),(0,a.jsxs)("p",{className:"text-blue-400 font-bold text-xl",children:[e.price," DZD"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>D(e),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>R(e.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})]})]}),e.image&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-32 object-cover rounded-lg"})}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,a.jsx)(er.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:e.colors.join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:e.sizes.join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,a.jsx)(el.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:e.category})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[e.isActive?(0,a.jsx)(p.Z,{className:"w-4 h-4 text-green-400 mr-2"}):(0,a.jsx)(ei.Z,{className:"w-4 h-4 text-red-400 mr-2"}),(0,a.jsx)("span",{className:e.isActive?"text-green-400":"text-red-400",children:e.isActive?"Active":"Inactive"})]})]})]},e.id))}),0===m.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No products yet"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Add your first made-to-order product to get started."})]})]}),"orders"===y&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Made to Order Orders"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Order ID"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Customer"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Product"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Size/Color"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Total"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Status"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Date"}),(0,a.jsx)("th",{className:"text-left text-white font-medium py-3 px-4",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:u.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-800",children:[(0,a.jsxs)("td",{className:"py-3 px-4 text-white font-mono",children:["#",e.id.slice(-8)]}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:e.customerName}),(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:e.customerPhone})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:e.productId}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)("div",{className:"text-white",children:e.selectedSize}),(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:e.selectedColor})]}),(0,a.jsxs)("td",{className:"py-3 px-4 text-white",children:[e.totalPrice," DZD"]}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(H(e.status)),children:e.status.replace("_"," ")})}),(0,a.jsx)("td",{className:"py-3 px-4 text-gray-400",children:new Date(e.orderDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>_(e.id,t.target.value),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-xs",children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"in_production",children:"In Production"}),(0,a.jsx)("option",{value:"ready",children:"Ready"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]},e.id))})]})}),0===u.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No orders yet"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Orders will appear here when customers place made-to-order requests."})]})]})]})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Add Made to Order Product"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),(0,a.jsx)("input",{type:"text",value:Z.name||"",onChange:e=>A({...Z,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Enter product name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),(0,a.jsx)("input",{type:"number",value:Z.price||"",onChange:e=>A({...Z,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:Z.description||"",onChange:e=>A({...Z,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",rows:3,placeholder:"Enter product description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,a.jsx)("input",{type:"text",value:Z.category||"",onChange:e=>A({...Z,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"e.g., Hoodies, T-Shirts"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Display Order"}),(0,a.jsx)("input",{type:"number",value:Z.displayOrder||"",onChange:e=>A({...Z,displayOrder:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Image URL"}),(0,a.jsx)("input",{type:"url",value:Z.image||"",onChange:e=>A({...Z,image:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Colors"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(t=Z.colors)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>V(e),className:"ml-2 text-blue-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:P,onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add color"}),(0,a.jsx)("button",{onClick:()=>{var e;!P.trim()||(null===(e=Z.colors)||void 0===e?void 0:e.includes(P.trim()))||(A({...Z,colors:[...Z.colors||[],P.trim()]}),O(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sizes"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(s=Z.sizes)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>X(e),className:"ml-2 text-green-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:z,onChange:e=>E(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add size"}),(0,a.jsx)("button",{onClick:()=>{var e;!z.trim()||(null===(e=Z.sizes)||void 0===e?void 0:e.includes(z.trim()))||(A({...Z,sizes:[...Z.sizes||[],z.trim()]}),E(""))},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(l=Z.tags)||void 0===l?void 0:l.map(e=>(0,a.jsxs)("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>W(e),className:"ml-2 text-purple-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:T,onChange:e=>L(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add tag"}),(0,a.jsx)("button",{onClick:()=>{var e;!T.trim()||(null===(e=Z.tags)||void 0===e?void 0:e.includes(T.trim()))||(A({...Z,tags:[...Z.tags||[],T.trim()]}),L(""))},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isActive",checked:Z.isActive||!1,onChange:e=>A({...Z,isActive:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"ml-2 text-white",children:"Product is active"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-800",children:[(0,a.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center",children:[(0,a.jsx)(en.Z,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]})}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Edit Product"}),(0,a.jsx)("button",{onClick:()=>D(null),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),(0,a.jsx)("input",{type:"text",value:S.name,onChange:e=>D({...S,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),(0,a.jsx)("input",{type:"number",value:S.price,onChange:e=>D({...S,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:S.description,onChange:e=>D({...S,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,a.jsx)("input",{type:"text",value:S.category,onChange:e=>D({...S,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"e.g., Hoodies, T-Shirts"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Display Order"}),(0,a.jsx)("input",{type:"number",value:S.displayOrder,onChange:e=>D({...S,displayOrder:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Image URL"}),(0,a.jsx)("input",{type:"url",value:S.image,onChange:e=>D({...S,image:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Colors"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(n=S.colors)||void 0===n?void 0:n.map(e=>(0,a.jsxs)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>{var t;let s=(null===(t=S.colors)||void 0===t?void 0:t.filter(t=>t!==e))||[];D({...S,colors:s})},className:"ml-2 text-blue-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:P,onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add color"}),(0,a.jsx)("button",{onClick:()=>{var e;if(P.trim()&&!(null===(e=S.colors)||void 0===e?void 0:e.includes(P.trim()))){let e=[...S.colors||[],P.trim()];D({...S,colors:e}),O("")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sizes"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(c=S.sizes)||void 0===c?void 0:c.map(e=>(0,a.jsxs)("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>{var t;let s=(null===(t=S.sizes)||void 0===t?void 0:t.filter(t=>t!==e))||[];D({...S,sizes:s})},className:"ml-2 text-green-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:z,onChange:e=>E(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add size"}),(0,a.jsx)("button",{onClick:()=>{var e;if(z.trim()&&!(null===(e=S.sizes)||void 0===e?void 0:e.includes(z.trim()))){let e=[...S.sizes||[],z.trim()];D({...S,sizes:e}),E("")}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(o=S.tags)||void 0===o?void 0:o.map(e=>(0,a.jsxs)("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,a.jsx)("button",{onClick:()=>{var t;let s=(null===(t=S.tags)||void 0===t?void 0:t.filter(t=>t!==e))||[];D({...S,tags:s})},className:"ml-2 text-purple-200 hover:text-white",children:(0,a.jsx)(N.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:T,onChange:e=>L(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add tag"}),(0,a.jsx)("button",{onClick:()=>{var e;if(T.trim()&&!(null===(e=S.tags)||void 0===e?void 0:e.includes(T.trim()))){let e=[...S.tags||[],T.trim()];D({...S,tags:e}),L("")}},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"editIsActive",checked:S.isActive,onChange:e=>D({...S,isActive:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"editIsActive",className:"ml-2 text-white",children:"Product is active"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-800",children:[(0,a.jsx)("button",{onClick:()=>D(null),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center",children:[(0,a.jsx)(en.Z,{className:"w-4 h-4 mr-2"}),"Update Product"]})]})]})})]})}var ed=s(9298),eo=s(7023),ex=s(6713),em=s(8004),eh=s(4135),eu=s(3088);let eg=[{id:"dashboard",icon:l.Z,label:"Dashboard",color:"text-blue-400",bgColor:"bg-blue-500/20"},{id:"products",icon:i.Z,label:"Products",color:"text-emerald-400",bgColor:"bg-emerald-500/20"},{id:"inventory",icon:n.Z,label:"Inventory",color:"text-cyan-400",bgColor:"bg-cyan-500/20"},{id:"orders",icon:d.Z,label:"Orders",color:"text-orange-400",bgColor:"bg-orange-500/20"},{id:"analytics",icon:o.Z,label:"Analytics",color:"text-purple-400",bgColor:"bg-purple-500/20"},{id:"customers",icon:x.Z,label:"Customers",color:"text-pink-400",bgColor:"bg-pink-500/20"},{id:"maintenance",icon:m.Z,label:"Maintenance",color:"text-yellow-400",bgColor:"bg-yellow-500/20"},{id:"wilayas",icon:h.Z,label:"Wilayas",color:"text-red-400",bgColor:"bg-red-500/20"}];function ep(e){let{activeTab:t,onTabChange:s,onLogout:l,username:i,children:n}=e,[c,d]=(0,r.useState)(!1),{theme:o,toggleTheme:x}=(0,ex.useTheme)(),m=e=>{s(e),d(!1)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-gray-900/95 backdrop-blur-sm border-b border-gray-800/50 p-4 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>d(!c),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(em.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-white",children:"OBSIDIAN"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Admin Panel"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:x,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Switch to ".concat("dark"===o?"light":"dark"," theme"),children:"dark"===o?(0,a.jsx)(eh.Z,{className:"w-5 h-5"}):(0,a.jsx)(eu.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>window.open("/","_blank"),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Back to Shop",children:(0,a.jsx)(b.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:l,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Logout",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})})]})]})}),c&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:()=>d(!1),children:(0,a.jsxs)("div",{className:"fixed left-0 top-0 h-full w-80 bg-gray-900 border-r border-gray-800 shadow-xl",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"OBSIDIAN"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Panel"})]}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("nav",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:eg.map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.id),className:"w-full flex items-center px-4 py-3 rounded-xl text-left transition-all ".concat(t===e.id?"".concat(e.bgColor," ").concat(e.color," shadow-lg border border-current/20"):"text-gray-300 hover:bg-gray-800/50 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 mr-3 transition-colors ".concat(t===e.id?e.color:e.color+" group-hover:text-white")}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-black text-sm font-bold",children:i.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:"Admin"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:i})]})]})})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto",children:n})]})}function eb(){return(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-full h-48 bg-gray-700"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-700 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-1/2 mb-3"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-16"}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-12"})]})]})]})})}function ej(e){let{count:t=8}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:t}).map((e,t)=>(0,a.jsx)(eb,{},t))})}function ey(e){let{rows:t=5,columns:s=6}=e;return(0,a.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-800",children:(0,a.jsx)("tr",{children:Array.from({length:s}).map((e,t)=>(0,a.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-20"})},t))})}),(0,a.jsx)("tbody",{children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("tr",{className:"border-t border-gray-800",children:Array.from({length:s}).map((e,t)=>(0,a.jsx)("td",{className:"py-4 px-6",children:(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-16"})},t))},t))})]})})})}function ev(e){var t,s,l,i,n;let{product:c,onSave:d,onCancel:o}=e,[x,m]=(0,r.useState)((null===(t=c.customSizeChart)||void 0===t?void 0:t.title)||"".concat(c.name," Size Chart")),[h,u]=(0,r.useState)((null===(s=c.customSizeChart)||void 0===s?void 0:s.instructions)||"Please refer to the measurements below to find your perfect size."),[g,p]=(0,r.useState)((null===(l=c.customSizeChart)||void 0===l?void 0:l.measurements)||[{size:"S",chest:0,length:0},{size:"M",chest:0,length:0},{size:"L",chest:0,length:0}]),[b,j]=(0,r.useState)((null===(n=c.customSizeChart)||void 0===n?void 0:null===(i=n.measurements)||void 0===i?void 0:i.length)>0?Object.keys(c.customSizeChart.measurements[0]).filter(e=>"size"!==e):["chest","length"]),y=e=>{p(g.filter((t,s)=>s!==e))},v=(e,t,s)=>{let a=[...g];a[e][t]=s,p(a)},[f,k]=(0,r.useState)(!1),[S,D]=(0,r.useState)(""),Z=()=>{if(S.trim()&&!b.includes(S.trim())){let e=S.trim();j([...b,e]),p(g.map(t=>({...t,[e]:0}))),D(""),k(!1)}},[A,P]=(0,r.useState)(!1),[O,z]=(0,r.useState)(""),E=e=>{if(b.length<=1){z("You must have at least one measurement type."),P(!0);return}j(b.filter(t=>t!==e)),p(g.map(t=>{let{[e]:s,...a}=t;return a}))};return(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-6xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.Z,{className:"w-6 h-6 text-white"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Custom Size Chart Editor"})]}),(0,a.jsx)("button",{onClick:o,className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Chart Title"}),(0,a.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Enter size chart title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Instructions"}),(0,a.jsx)("textarea",{value:h,onChange:e=>u(e.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Enter measurement instructions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"block text-white font-medium",children:"Measurement Types"}),(0,a.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-3 py-1 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Add Type"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(e=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-800 rounded-lg px-3 py-1",children:[(0,a.jsx)("span",{className:"text-white text-sm capitalize",children:e}),(0,a.jsx)("button",{onClick:()=>E(e),className:"ml-2 text-red-400 hover:text-red-300",children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"block text-white font-medium",children:"Size Measurements"}),(0,a.jsxs)("button",{onClick:()=>{let e={size:""};b.forEach(t=>{e[t]=0}),p([...g,e])},className:"flex items-center gap-2 px-3 py-1 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Add Size"]})]}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Size"}),b.map(e=>(0,a.jsxs)("th",{className:"px-4 py-3 text-center text-white font-medium capitalize",children:[e," (cm)"]},e)),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-white font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:g.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-gray-800":"bg-gray-750",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("input",{type:"text",value:e.size,onChange:e=>v(t,"size",e.target.value),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:border-white",placeholder:"Size"})}),b.map(s=>(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("input",{type:"number",value:e[s]||0,onChange:e=>v(t,s,parseFloat(e.target.value)||0),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:border-white text-center",placeholder:"0"})},s)),(0,a.jsx)("td",{className:"px-4 py-3 text-center",children:(0,a.jsx)("button",{onClick:()=>y(t),className:"text-red-400 hover:text-red-300 transition-colors",children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})})]},t))})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-3",children:"Preview"}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-2",children:x}),(0,a.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:h}),(0,a.jsx)("div",{className:"bg-gray-700 rounded overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-600",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-white",children:"Size"}),b.map(e=>(0,a.jsx)("th",{className:"px-3 py-2 text-center text-white capitalize",children:e},e))]})}),(0,a.jsx)("tbody",{children:g.filter(e=>""!==e.size.trim()).map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-gray-700":"bg-gray-600",children:[(0,a.jsx)("td",{className:"px-3 py-2 text-white font-medium",children:e.size}),b.map(t=>(0,a.jsx)("td",{className:"px-3 py-2 text-center text-gray-300",children:e[t]||"-"},t))]},t))})]})})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-800",children:[(0,a.jsx)("button",{onClick:o,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{if(g.some(e=>!e.size)){z("All sizes must have a size name."),P(!0);return}d({title:x,instructions:h,measurements:g.filter(e=>""!==e.size.trim())})},className:"flex items-center gap-2 px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[(0,a.jsx)(en.Z,{className:"w-4 h-4"}),"Save Size Chart"]})]})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Add Measurement Type"}),(0,a.jsx)("button",{onClick:()=>{k(!1),D("")},className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Measurement Name"}),(0,a.jsx)("input",{type:"text",value:S,onChange:e=>D(e.target.value),placeholder:"e.g., waist, sleeve, length",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?Z():"Escape"===e.key&&(k(!1),D(""))}}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:'Enter a measurement type like "chest", "waist", "sleeve", etc.'})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{k(!1),D("")},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:Z,disabled:!S.trim()||b.includes(S.trim()),className:"px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Type"})]})]})]})}),A&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Error"}),(0,a.jsx)("button",{onClick:()=>P(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-300 mb-4",children:O}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"OK"})})]})]})})]})}var ef=s(5109),eN=s(3325);function ew(){let[e,t]=(0,r.useState)("idle"),[s,l]=(0,r.useState)("");return((0,r.useEffect)(()=>{let e=()=>{t("syncing"),setTimeout(()=>{t("success"),l(new Date().toLocaleTimeString()),setTimeout(()=>t("idle"),2e3)},1e3)},s=()=>{t("success"),l(new Date().toLocaleTimeString()),setTimeout(()=>t("idle"),2e3)};return window.addEventListener("data-sync",e),window.addEventListener("data-updated",s),()=>{window.removeEventListener("data-sync",e),window.removeEventListener("data-updated",s)}},[]),"idle"!==e||s)?(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 ".concat("syncing"===e?"bg-blue-600 text-white":"success"===e?"bg-green-600 text-white":"error"===e?"bg-red-600 text-white":"bg-gray-600 text-white"),children:["syncing"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.Z,{size:16,className:"animate-spin"}),(0,a.jsx)("span",{children:"Syncing data..."})]}),"success"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{size:16}),(0,a.jsx)("span",{children:"Data synced"})]}),"error"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.Z,{size:16}),(0,a.jsx)("span",{children:"Sync failed"})]}),"idle"===e&&s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{size:16}),(0,a.jsxs)("span",{children:["Last sync: ",s]})]})]})}):null}function eC(){var e,t,s;let{isAuthenticated:k,logout:S,username:D}=(0,P.useAuth)(),{t:Z}=(0,ed.useLanguage)(),{products:A,addProduct:z,updateProduct:E,deleteProduct:T,initializeDefaultProducts:L}=(0,eo.useProducts)(),[I,M]=(0,r.useState)("dashboard"),[F,_]=(0,r.useState)(""),[U,B]=(0,r.useState)("All"),[q,V]=(0,r.useState)(!1),[X,W]=(0,r.useState)(null),[J,Y]=(0,r.useState)(!1),[G,K]=(0,r.useState)(ef.rA),[et,es]=(0,r.useState)([]),[er,el]=(0,r.useState)([]),[ei,en]=(0,r.useState)(!1),[em,eh]=(0,r.useState)(!1),[eu,eg]=(0,r.useState)(!1),[eb,eC]=(0,r.useState)(!1),[ek,eS]=(0,r.useState)(!1),[eD,eZ]=(0,r.useState)([]),[eA,eP]=(0,r.useState)(!1),{theme:eO}=(0,ex.useTheme)(),[ez,eE]=(0,r.useState)({name:"",price:0,originalPrice:0,image:"",images:[],description:"",category:"T-Shirts",sizes:["S","M","L","XL"],colors:["Black"],inStock:!0,rating:5,reviews:0,stock:{S:{Black:10},M:{Black:15},L:{Black:12},XL:{Black:8}},sku:"",weight:0,tags:[],featured:!1,createdAt:new Date,updatedAt:new Date}),[eT,eL]=(0,r.useState)(""),eI=async()=>{try{eP(!0);let e=await fetch("/api/inventory"),t=await e.json();t.success?eZ(t.data):console.error("Failed to load inventory:",t.error)}catch(e){console.error("Error loading inventory:",e)}finally{eP(!1)}};if((0,r.useEffect)(()=>{(async()=>{try{en(!0);let e=await eN.k.getWilayaTariffs();e.length>0?K(e):(K(ef.rA),eN.k.updateWilayaTariffs(ef.rA)),eg(!0);let t=await eN.k.getOrders();es(t),eg(!1);let s=await eN.k.getCustomers();el(s),await eI()}catch(e){console.error("Error loading data:",e)}finally{en(!1),eg(!1)}})()},[]),!k)return(0,a.jsx)(O,{});let eM=e=>{let t=A.find(t=>t.id===e),s=(null==t?void 0:t.name)||"Unknown Product";if(confirm('Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.')))try{T(e),console.log('"'.concat(s,'" has been deleted successfully.'))}catch(e){console.error("Failed to delete product. Please try again."),console.error("Error deleting product:",e)}},eF=async e=>{let t=et.find(t=>t.id===e),s=(null==t?void 0:t.id)||"Unknown Order";if(confirm('Are you sure you want to delete order "'.concat(s,'"? This action cannot be undone.')))try{await eN.k.deleteOrder(e)?(es(t=>t.filter(t=>t.id!==e)),console.log('Order "'.concat(s,'" has been deleted successfully.'))):console.error("Failed to delete order from database. Please try again.")}catch(e){console.error("Failed to delete order. Please try again."),console.error("Error deleting order:",e)}},eR=async(e,t)=>{es(et.map(s=>s.id===e?{...s,...t}:s)),await eN.k.updateOrder(e,t),console.log("Order #".concat(e," updated successfully"))},e_=async(e,t,s)=>{let a=G.map(a=>{if(a.id===e){let e={...a};switch(t){case"stopDeskEcommerce":e.stopDeskEcommerce=s;break;case"domicileEcommerce":e.domicileEcommerce=s}return e}return a});K(a);try{if(await eN.k.updateWilayaTariffs(a),!(await fetch("/api/wilaya/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Failed to sync wilaya tariffs to static file");console.log("Wilaya tariffs updated and synced to static file")}catch(e){console.error("Error updating wilaya tariffs:",e),K(G)}},eU=async()=>{try{if(K(ef.rA),await eN.k.updateWilayaTariffs(ef.rA),!(await fetch("/api/wilaya/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ef.rA)})).ok)throw Error("Failed to sync wilaya tariffs to static file");alert("Tarifs des wilayas r�initialis�s et synchronis�s !")}catch(e){console.error("Error resetting wilaya tariffs:",e),alert("Erreur lors de la r�initialisation des tarifs")}},eB=[{id:"dashboard",icon:l.Z,label:"Dashboard",color:"text-blue-400",bgColor:"bg-blue-500/20"},{id:"products",icon:i.Z,label:"Products",color:"text-emerald-400",bgColor:"bg-emerald-500/20"},{id:"inventory",icon:n.Z,label:"Inventory",color:"text-cyan-400",bgColor:"bg-cyan-500/20"},{id:"made-to-order",icon:c.Z,label:"Made to Order",color:"text-indigo-400",bgColor:"bg-indigo-500/20"},{id:"orders",icon:d.Z,label:"Orders",color:"text-orange-400",bgColor:"bg-orange-500/20"},{id:"analytics",icon:o.Z,label:"Analytics",color:"text-purple-400",bgColor:"bg-purple-500/20"},{id:"customers",icon:x.Z,label:"Customers",color:"text-pink-400",bgColor:"bg-pink-500/20"},{id:"maintenance",icon:m.Z,label:"Maintenance",color:"text-yellow-400",bgColor:"bg-yellow-500/20"},{id:"wilayas",icon:h.Z,label:"Wilayas",color:"text-red-400",bgColor:"bg-red-500/20"}];A.filter(e=>{let t=e.name.toLowerCase().includes(F.toLowerCase())||e.description.toLowerCase().includes(F.toLowerCase()),s="All"===U||e.category===U;return t&&s});let eq=()=>ei?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-700 rounded w-48 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-32 mb-6"}),(0,a.jsx)(ey,{rows:5,columns:6})]})}):(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:["dashboard"===I&&(0,a.jsx)(R,{products:A,orders:et,customers:er}),"products"===I&&(0,a.jsx)("div",{className:"p-4 sm:p-6",children:em?(0,a.jsx)(ej,{count:8}):(0,a.jsx)(H,{products:A,onAddProduct:()=>V(!0),onEditProduct:e=>{console.log("Editing product:",e),W({...e,useCustomSizeChart:e.useCustomSizeChart||!1,customSizeChart:e.customSizeChart||void 0})},onDeleteProduct:eM,onViewProduct:e=>window.open("/product/".concat(e.id),"_blank")})}),"inventory"===I&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-900/40 to-purple-900/40 rounded-lg p-6 mb-6 border border-blue-500/50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83D\uDCE6 Inventory Management System"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Complete inventory control with real-time database integration"}),(0,a.jsxs)("button",{onClick:()=>{console.log("\uD83D\uDDB1️ Inventory Manager button clicked!"),eC(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-10 py-4 rounded-lg text-xl font-bold shadow-2xl transition-all duration-300 transform hover:scale-105 border-4 border-yellow-400",style:{zIndex:1e3,position:"relative"},children:[(0,a.jsx)(i.Z,{className:"w-6 h-6 mr-3 inline"}),"\uD83D\uDE80 OPEN INVENTORY MANAGER \uD83D\uDE80"]}),(0,a.jsx)("p",{className:"text-gray-400 mt-4 text-sm",children:"Access detailed inventory management, stock editing, and real-time updates"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Inventory Items"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:eA?"...":eD.length})]}),(0,a.jsx)(i.Z,{className:"w-10 h-10 text-blue-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Low Stock Items"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-yellow-400",children:eA?"...":eD.filter(e=>e.available_quantity<=e.min_stock_level&&e.available_quantity>0).length})]}),(0,a.jsx)(m.Z,{className:"w-10 h-10 text-yellow-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Out of Stock"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-400",children:eA?"...":eD.filter(e=>0===e.available_quantity).length})]}),(0,a.jsx)(u.Z,{className:"w-10 h-10 text-red-400"})]})})]}),(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-20 h-20 text-blue-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Use the Inventory Manager Above"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:'Click the "Open Inventory Manager" button above to access detailed inventory management with real-time database integration.'})]})]}),"orders"===I&&(0,a.jsx)("div",{className:"p-4 sm:p-6",children:(0,a.jsx)($,{orders:et,onUpdateOrder:eR,onDeleteOrder:eF,onViewOrder:e=>{let t="\nOrder Details:\nID: #".concat(e.id,"\nCustomer: ").concat(e.customerName,"\nPhone: ").concat(e.customerPhone,"\n").concat(e.customerEmail?"Email: ".concat(e.customerEmail):"","\nAddress: ").concat(e.customerAddress||"No address provided","\nWilaya: ").concat(e.wilayaName,"\n\nProduct: ").concat(e.productName,"\nSize: ").concat(e.selectedSize,"\nColor: ").concat(e.selectedColor,"\nQuantity: ").concat(e.quantity,"\n\nShipping: ").concat("homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk","\nShipping Cost: ").concat(e.shippingCost," DA\nSubtotal: ").concat(e.subtotal," DA\nTotal: ").concat(e.total," DA\n\nOrder Date: ").concat(new Date(e.orderDate).toLocaleString(),"\nStatus: ").concat(e.status,"\nPayment Status: ").concat(e.paymentStatus,"\n                  ");alert(t)}})}),"analytics"===I&&(0,a.jsx)("div",{className:"p-4 sm:p-6",children:(0,a.jsx)(ee,{products:A,orders:et,customers:er})}),"customers"===I&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Customers"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage customer information and order history"})]})}),0===er.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No customers yet"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Customer profiles will appear here after their first order."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:er.map(e=>(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-6 h-6 text-black"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-white font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.phone})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total Orders:"}),(0,a.jsx)("span",{className:"text-white",children:e.totalOrders})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total Spent:"}),(0,a.jsxs)("span",{className:"text-white",children:[e.totalSpent," DZD"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Wilaya:"}),(0,a.jsx)("span",{className:"text-white",children:e.wilayaName})]})]})]},e.id))})]}),"maintenance"===I&&(0,a.jsx)(ea,{}),"made-to-order"===I&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Made to Order"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage custom products and orders"})]}),(0,a.jsxs)("button",{onClick:()=>eS(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2 inline"}),"Open Manager"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Custom Products"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:"∞"})]}),(0,a.jsx)(i.Z,{className:"w-8 h-8 text-blue-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Production Time"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:"20-18 days"})]}),(0,a.jsx)(g.Z,{className:"w-8 h-8 text-yellow-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Deposit Required"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400",children:"50%"})]}),(0,a.jsx)(p.Z,{className:"w-8 h-8 text-green-400"})]})})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Made to Order Management"}),(0,a.jsx)("p",{className:"text-gray-400",children:'Click "Open Manager" to manage custom products and track orders.'})]})]}),"wilayas"===I&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Wilaya Tariffs"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage shipping costs for each wilaya"})]}),(0,a.jsx)("button",{onClick:eU,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Reset to Default"})]}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left text-white font-medium py-4 px-4",children:"Wilaya"}),(0,a.jsx)("th",{className:"text-center text-white font-medium py-4 px-4",children:"Stop Desk E-Commerce"}),(0,a.jsx)("th",{className:"text-center text-white font-medium py-4 px-4",children:"Domicile E-Commerce"})]})}),(0,a.jsx)("tbody",{children:G.map(e=>{let t=e.id,s=e.stopDeskEcommerce||0,r=e.domicileEcommerce||0;return(0,a.jsxs)("tr",{className:"border-t border-gray-800",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["#",t]})]})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsx)("input",{type:"number",value:s,onChange:e=>e_(t,"stopDeskEcommerce",parseInt(e.target.value)||0),className:"w-24 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white"})}),(0,a.jsx)("td",{className:"py-4 px-4 text-center",children:(0,a.jsx)("input",{type:"number",value:r,onChange:e=>e_(t,"domicileEcommerce",parseInt(e.target.value)||0),className:"w-24 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white"})})]},t)})})]})})})]})]});return window.innerWidth<1024?(0,a.jsx)(ep,{activeTab:I,onTabChange:M,onLogout:S,username:D,children:eq()}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row transition-colors duration-300 ".concat("light"===eO?"bg-gradient-to-br from-gray-50 via-white to-gray-100":"bg-gradient-to-br from-gray-900 via-black to-gray-900"),children:[(0,a.jsx)("div",{className:"lg:hidden bg-gray-900 border-b border-gray-800 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"OBSIDIAN"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Panel"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>window.open("/","_blank"),className:"touch-target text-gray-400 hover:text-white transition-colors",title:"Back to Shop",children:(0,a.jsx)(b.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:S,className:"touch-target text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})})]})]})}),(0,a.jsxs)("div",{className:"hidden lg:flex w-64 bg-gradient-to-b from-gray-900 to-black border-r border-gray-700/50 flex-col backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-800",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"OBSIDIAN"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Panel"}),(0,a.jsxs)("button",{onClick:()=>window.open("/","_blank"),className:"mt-4 w-full flex items-center justify-center px-4 py-2 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Back to Shop"]})]}),(0,a.jsx)("nav",{className:"flex-1 p-4",children:(0,a.jsx)("div",{className:"space-y-1",children:eB.map(e=>(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"w-full flex items-center px-4 py-3 rounded-xl text-left transition-all group ".concat(I===e.id?"".concat(e.bgColor," ").concat(e.color," shadow-lg border border-current/20"):"text-gray-300 hover:bg-gray-800/50 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 mr-3 transition-colors ".concat(I===e.id?e.color:e.color+" group-hover:text-white")}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-4 h-4 text-black"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:"Admin"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:D})]})]}),(0,a.jsx)("button",{onClick:S,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Logout",children:(0,a.jsx)(j.Z,{className:"w-4 h-4"})})]})})]}),(0,a.jsx)("div",{className:"lg:hidden bg-gray-900/95 backdrop-blur-sm border-b border-gray-800/50 overflow-x-auto scrollbar-hide",children:(0,a.jsx)("div",{className:"flex space-x-1 p-3 min-w-max",children:eB.map(e=>(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"flex flex-col items-center px-4 py-2 rounded-xl text-xs font-medium whitespace-nowrap transition-all ".concat(I===e.id?"bg-white text-black shadow-lg scale-105":"text-gray-300 hover:bg-gray-800/50 hover:text-white active:scale-95"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 mb-1 ".concat(I===e.id?"text-black":e.color)}),e.label]},e.id))})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-gray-900 border-b border-gray-800 p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:(0,a.jsxs)("div",{className:"relative flex-1 sm:flex-none",children:[(0,a.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search...",value:F,onChange:e=>_(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white w-full sm:w-80 lg:w-96 text-base"})]})}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-4",children:[(0,a.jsxs)("button",{className:"touch-target text-gray-400 hover:text-white transition-colors relative",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:new Date().toLocaleDateString("fr-FR")})]})]})}),eq()]}),(0,a.jsx)(ew,{}),(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:0===A.length&&(0,a.jsx)("button",{onClick:()=>{L(),console.log("Default products have been added to your store")},className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-green-700 transition-colors",children:"\uD83D\uDCE6 Add Sample Products"})}),eb&&(0,a.jsx)("div",{children:(0,a.jsx)(Q,{onClose:()=>{eC(!1)}})}),ek&&(0,a.jsx)("div",{children:(0,a.jsx)(ec,{onClose:()=>{eS(!1)}})}),X&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Edit Product"}),(0,a.jsx)("button",{onClick:()=>W(null),className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),(0,a.jsx)("input",{type:"text",value:X.name,onChange:e=>W({...X,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),(0,a.jsx)("input",{type:"number",value:X.price,onChange:e=>W({...X,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:X.description,onChange:e=>W({...X,description:e.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,a.jsxs)("select",{value:X.category,onChange:e=>W({...X,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,a.jsx)("option",{value:"T-Shirts",children:"T-Shirts"}),(0,a.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,a.jsx)("option",{value:"Pants",children:"Pants"}),(0,a.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,a.jsx)("option",{value:"Accessories",children:"Accessories"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"SKU"}),(0,a.jsx)("input",{type:"text",value:X.sku,onChange:e=>W({...X,sku:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Colors"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(e=X.colors)||void 0===e?void 0:e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-800 rounded-lg px-3 py-1",children:[(0,a.jsx)("span",{className:"text-white text-sm",children:e}),(0,a.jsx)("button",{onClick:()=>{var e;let s=(null===(e=X.colors)||void 0===e?void 0:e.filter((e,s)=>s!==t))||[];W({...X,colors:s})},className:"ml-2 text-red-400 hover:text-red-300",children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:eT,onChange:e=>eL(e.target.value),placeholder:"Add new color",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"}),(0,a.jsx)("button",{onClick:()=>{var e;!eT.trim()||(null===(e=X.colors)||void 0===e?void 0:e.includes(eT.trim()))||(W({...X,colors:[...X.colors||[],eT.trim()]}),eL(""))},className:"px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sizes"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(t=X.sizes)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-800 rounded-lg px-3 py-1",children:[(0,a.jsx)("span",{className:"text-white text-sm",children:e}),(0,a.jsx)("button",{onClick:()=>{var e;let s=(null===(e=X.sizes)||void 0===e?void 0:e.filter((e,s)=>s!==t))||[];W({...X,sizes:s})},className:"ml-2 text-red-400 hover:text-red-300",children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]},t))}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("select",{onChange:e=>{var t;let s=e.target.value;!s||(null===(t=X.sizes)||void 0===t?void 0:t.includes(s))||W({...X,sizes:[...X.sizes||[],s]})},className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,a.jsx)("option",{value:"",children:"Select size to add"}),(0,a.jsx)("option",{value:"XS",children:"XS"}),(0,a.jsx)("option",{value:"S",children:"S"}),(0,a.jsx)("option",{value:"M",children:"M"}),(0,a.jsx)("option",{value:"L",children:"L"}),(0,a.jsx)("option",{value:"XL",children:"XL"}),(0,a.jsx)("option",{value:"XXL",children:"XXL"}),(0,a.jsx)("option",{value:"XXXL",children:"XXXL"})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Size Chart Settings"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"useCustomSizeChart",checked:!0===X.useCustomSizeChart,onChange:e=>{console.log("Checkbox changed:",e.target.checked),W({...X,useCustomSizeChart:e.target.checked})},className:"w-4 h-4 text-white bg-gray-800 border-gray-700 rounded focus:ring-white focus:ring-2"}),(0,a.jsx)("label",{htmlFor:"useCustomSizeChart",className:"text-white text-sm cursor-pointer",children:"Use custom size chart for this product"})]}),X.useCustomSizeChart?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>{console.log("Opening custom size chart editor"),Y(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4"}),X.customSizeChart?"Edit Custom Size Chart":"Create Custom Size Chart"]}),X.customSizeChart&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:X.customSizeChart.title}),(0,a.jsxs)("p",{className:"text-gray-400 text-xs mt-1",children:[(null===(s=X.customSizeChart.measurements)||void 0===s?void 0:s.length)||0," sizes configured"]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("select",{value:X.sizeChartCategory||"T-Shirts",onChange:e=>W({...X,sizeChartCategory:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,a.jsx)("option",{value:"T-Shirts",children:"T-Shirts"}),(0,a.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,a.jsx)("option",{value:"Pants",children:"Pants"}),(0,a.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,a.jsx)("option",{value:"Watches",children:"Watches"})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Select the default size chart category for this product"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-800",children:[(0,a.jsx)("button",{onClick:()=>W(null),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(X)try{let e={...X,updatedAt:new Date};E(X.id,e),W(null),console.log('"'.concat(e.name,'" has been updated successfully!'))}catch(e){console.error("Failed to update product. Please try again."),console.error("Error updating product:",e)}},className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Update Product"})]})]})]})}),J&&X&&(0,a.jsx)(ev,{product:X,onSave:e=>{X&&(console.log("Saving custom size chart:",e),W({...X,customSizeChart:e,useCustomSizeChart:!0}),Y(!1))},onCancel:()=>{console.log("Closing custom size chart editor"),Y(!1)}})]})}},8628:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return c},useAuth:function(){return d}});var a=s(7437),r=s(2265),l=s(2601);let i=(0,r.createContext)(void 0),n={username:l.env.NEXT_PUBLIC_ADMIN_USERNAME||"admin",password:l.env.NEXT_PUBLIC_ADMIN_PASSWORD||"admin123"},c=e=>{let{children:t}=e,[s,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)("");return(0,r.useEffect)(()=>{{let e=localStorage.getItem("obsidian-admin-auth"),t=localStorage.getItem("obsidian-admin-username");"true"===e&&t&&(l(!0),d(t))}},[]),(0,a.jsx)(i.Provider,{value:{isAuthenticated:s,login:(e,t)=>e===n.username&&t===n.password&&(l(!0),d(e),localStorage.setItem("obsidian-admin-auth","true"),localStorage.setItem("obsidian-admin-username",e),!0),logout:()=>{l(!1),d(""),localStorage.removeItem("obsidian-admin-auth"),localStorage.removeItem("obsidian-admin-username")},username:c},children:t})},d=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6713:function(e,t,s){"use strict";s.r(t),s.d(t,{ThemeProvider:function(){return i},useTheme:function(){return n}});var a=s(7437),r=s(2265);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)("dark");return(0,r.useEffect)(()=>{let e=localStorage.getItem("admin-theme");e&&i(e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("admin-theme",s),document.documentElement.setAttribute("data-theme",s);let e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content","dark"===s?"#000000":"#ffffff")},[s]),(0,a.jsx)(l.Provider,{value:{theme:s,toggleTheme:()=>{i(e=>"dark"===e?"light":"dark")},setTheme:e=>{i(e)}},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}},function(e){e.O(0,[300,298,868,472,971,938,744],function(){return e(e.s=74)}),_N_E=e.O()}]);