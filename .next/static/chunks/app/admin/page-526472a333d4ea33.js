(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{74:function(e,t,s){Promise.resolve().then(s.bind(s,423))},423:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var r=s(7437),a=s(2265),l=s(2457),i=s(4322),o=s(890),c=s(3505),n=s(5750),d=s(2894),m=s(6142),x=s(7480),h=s(5883),u=s(1295),g=s(1827),p=s(3021),b=s(2482),j=s(5817),y=s(9670),f=s(9036),v=s(7972),N=s(5589),w=s(7216),k=s(8628);function E(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[c,n]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),{login:x}=(0,k.useAuth)();return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(f.Z,{className:"w-8 h-8 text-black"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"OBSIDIAN WEAR"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Admin Panel"})]}),(0,r.jsx)("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-800 shadow-2xl",children:(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),m(!0),n(""),x(e,s)||n("Invalid username or password"),m(!1)},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(v.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter username"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(N.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:i?"text":"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?(0,r.jsx)(w.Z,{className:"w-5 h-5"}):(0,r.jsx)(y.Z,{className:"w-5 h-5"})})]})]}),c&&(0,r.jsx)("div",{className:"p-3 bg-red-900 border border-red-700 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-300 text-sm",children:c})}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-white text-black py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black mr-2"}),"Signing in..."]}):"Sign In"})]})})]})})}var S=s(9409),D=s(7023);function C(){let{products:e}=(0,D.useProducts)(),t=e.length,s=e.filter(e=>5>Object.values(e.stock||{}).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0)).length,a=e.filter(e=>!e.inStock).length;return(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Welcome back! Here's your store overview."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50 hover:border-gray-700/50 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Total Products"}),(0,r.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:t})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-purple-600",children:(0,r.jsx)(i.Z,{size:24,className:"text-white"})})]})}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50 hover:border-gray-700/50 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Low Stock Items"}),(0,r.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:s})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-yellow-600",children:(0,r.jsx)(o.Z,{size:24,className:"text-white"})})]})}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50 hover:border-gray-700/50 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Out of Stock"}),(0,r.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:a})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-red-600",children:(0,r.jsx)(i.Z,{size:24,className:"text-white"})})]})}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50 hover:border-gray-700/50 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Store Status"}),(0,r.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:"Active"})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-green-600",children:(0,r.jsx)(S.Z,{size:24,className:"text-white"})})]})})]}),(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"products"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(i.Z,{className:"w-8 h-8 text-blue-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Manage Products"})]}),(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"inventory"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(o.Z,{className:"w-8 h-8 text-green-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Inventory"})]}),(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"orders"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(c.Z,{className:"w-8 h-8 text-purple-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Orders"})]}),(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"customers"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(n.Z,{className:"w-8 h-8 text-orange-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Customers"})]}),(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"wilayas"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(S.Z,{className:"w-8 h-8 text-gray-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Settings"})]}),(0,r.jsxs)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"analytics"})),className:"flex flex-col items-center p-4 bg-gray-800/50 rounded-lg hover:bg-gray-800/70 transition-colors group",children:[(0,r.jsx)(l.Z,{className:"w-8 h-8 text-cyan-400 mb-2 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"Analytics"})]})]})]}),s>0&&(0,r.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.Z,{className:"w-6 h-6 text-yellow-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-yellow-300 font-semibold",children:"Low Stock Alert"}),(0,r.jsxs)("p",{className:"text-yellow-200/80 text-sm",children:[s," product",s>1?"s":""," running low on stock. Check inventory to restock."]})]}),(0,r.jsx)("button",{onClick:()=>window.dispatchEvent(new CustomEvent("admin-tab-change",{detail:"inventory"})),className:"ml-auto bg-yellow-600 text-black px-4 py-2 rounded-lg font-medium hover:bg-yellow-500 transition-colors",children:"View Inventory"})]})})]})}var A=s(1541),P=s(9883),Z=s(1138),O=s(3008),I=s(9617),T=s(6224);function z(e){let{onAddProduct:t,onEditProduct:s,onDeleteProduct:l}=e,{products:o}=(0,D.useProducts)(),[c,n]=(0,a.useState)(""),[m,x]=(0,a.useState)("All"),[h,u]=(0,a.useState)([]),[p,f]=(0,a.useState)("name"),[v,N]=(0,a.useState)("asc"),[w,k]=(0,a.useState)(!1),E=o.filter(e=>{var t;let s=e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())||(null===(t=e.sku)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase())),r="All"===m||e.category===m;return s&&r}).sort((e,t)=>{let s=e[p],r=t[p];return void 0===s&&void 0===r?0:void 0===s?1:void 0===r?-1:("string"==typeof s&&"string"==typeof r&&(s=s.toLowerCase(),r=r.toLowerCase()),"asc"===v)?s<r?-1:s>r?1:0:s>r?-1:s<r?1:0}),S=e=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=e=>{if(!e.stock)return{status:"unknown",total:0};let t=Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0);return 0===t?{status:"out",total:t}:t<10?{status:"low",total:t}:{status:"good",total:t}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Products"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage your product catalog"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>k(!w),className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(b.Z,{size:16,className:"mr-2"}),"Filters"]}),(0,r.jsxs)("button",{onClick:()=>{let e=JSON.stringify(o,null,2),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="obsidian-products.json",r.click(),URL.revokeObjectURL(s)},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(j.Z,{size:16,className:"mr-2"}),"Export"]}),(0,r.jsxs)("label",{className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors cursor-pointer",children:[(0,r.jsx)(A.Z,{size:16,className:"mr-2"}),"Import",(0,r.jsx)("input",{type:"file",accept:".json",className:"hidden",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onload=e=>{try{var t;let s=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);console.log("Imported products:",s),alert("Successfully imported ".concat(s.length," products!"))}catch(e){alert("Error importing products. Please check the file format.")}},e.readAsText(s)}}})]}),(0,r.jsxs)("button",{onClick:t,className:"flex items-center px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:[(0,r.jsx)(P.Z,{size:16,className:"mr-2"}),"Add Product"]})]})]}),w&&(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,r.jsx)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:["All","T-Shirts","Hoodies","Pants","Accessories"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sort By"}),(0,r.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,r.jsx)("option",{value:"name",children:"Name"}),(0,r.jsx)("option",{value:"price",children:"Price"}),(0,r.jsx)("option",{value:"createdAt",children:"Date Created"}),(0,r.jsx)("option",{value:"updatedAt",children:"Last Updated"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Order"}),(0,r.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,r.jsx)("option",{value:"asc",children:"Ascending"}),(0,r.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:()=>{n(""),x("All"),f("name"),N("asc")},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Filters"})})]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search products by name, description, or SKU...",value:c,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white"})]}),h.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[h.length," selected"]}),(0,r.jsxs)("button",{onClick:()=>{confirm("Delete ".concat(h.length," selected products?"))&&(h.forEach(e=>l(e)),u([]))},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,r.jsx)(Z.Z,{size:16,className:"mr-2"}),"Delete Selected"]})]})]}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-800/50 overflow-hidden",children:(0,r.jsxs)("div",{className:"overflow-x-auto",children:[(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-800/50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-4",children:(0,r.jsx)("input",{type:"checkbox",checked:h.length===E.length&&E.length>0,onChange:()=>{h.length===E.length?u([]):u(E.map(e=>e.id))},className:"rounded"})}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Product"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"SKU"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Category"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Price"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Stock"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Status"}),(0,r.jsx)("th",{className:"text-left text-white font-medium p-4",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:E.map(e=>{let t=C(e);return(0,r.jsxs)("tr",{className:"border-t border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>S(e.id),className:"rounded"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-gray-400 text-sm line-clamp-1",children:e.description})]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"text-gray-300 font-mono text-sm",children:e.sku||"N/A"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded-full",children:e.category})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"text-white font-semibold",children:[e.price," DZD"]}),e.originalPrice&&(0,r.jsxs)("div",{className:"text-gray-500 text-sm line-through",children:[e.originalPrice," DZD"]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-white",children:t.total}),"out"===t.status&&(0,r.jsx)(d.Z,{size:16,className:"text-red-400"}),"low"===t.status&&(0,r.jsx)(d.Z,{size:16,className:"text-yellow-400"}),"good"===t.status&&(0,r.jsx)(O.Z,{size:16,className:"text-green-400"})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.inStock?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:e.inStock?"Active":"Inactive"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>s(e),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-400/10 rounded-lg transition-all",title:"Edit Product",children:(0,r.jsx)(I.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>window.open("/product/".concat(e.id),"_blank"),className:"p-2 text-gray-400 hover:text-gray-300 hover:bg-gray-400/10 rounded-lg transition-all",title:"View Product",children:(0,r.jsx)(y.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>{s({...e,id:Date.now().toString(),name:"".concat(e.name," (Copy)"),sku:"".concat(e.sku,"-COPY"),createdAt:new Date,updatedAt:new Date})},className:"p-2 text-gray-400 hover:text-gray-300 hover:bg-gray-400/10 rounded-lg transition-all",title:"Duplicate Product",children:(0,r.jsx)(T.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>l(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-lg transition-all",title:"Delete Product",children:(0,r.jsx)(Z.Z,{size:16})})]})})]},e.id)})})]}),0===E.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Try adjusting your search or filters"})]})]})}),E.length>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Showing ",E.length," of ",o.length," products"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{className:"px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 transition-colors",children:"Previous"}),(0,r.jsx)("span",{className:"px-3 py-1 bg-white text-black rounded font-medium",children:"1"}),(0,r.jsx)("button",{className:"px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 transition-colors",children:"Next"})]})]})]})}var L=s(2104),B=s(6245),M=s(4891);function U(){let{products:e,updateProduct:t}=(0,D.useProducts)(),[s,l]=(0,a.useState)(""),[i,c]=(0,a.useState)("all"),[n,m]=(0,a.useState)({}),[x,h]=(0,a.useState)(!1),u=e.filter(e=>{var t;if(!(e.name.toLowerCase().includes(s.toLowerCase())||(null===(t=e.sku)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))))return!1;let r=p(e);switch(i){case"low-stock":return r>0&&r<5;case"out-of-stock":return 0===r||!e.inStock;case"in-stock":return r>=5&&e.inStock;default:return!0}});function p(e){return e.stock?Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0):0}function j(t,s,r){var a,l,i,o;let c=e.find(e=>e.id===t);return(null===(l=n[t])||void 0===l?void 0:null===(a=l[s])||void 0===a?void 0:a[r])!==void 0?n[t][s][r]:(null==c?void 0:null===(o=c.stock)||void 0===o?void 0:null===(i=o[s])||void 0===i?void 0:i[r])||0}function f(e,t,s,r){m(a=>{var l;return{...a,[e]:{...a[e],[t]:{...null===(l=a[e])||void 0===l?void 0:l[t],[s]:Math.max(0,r)}}}}),h(!0)}return(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Inventory Management"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage stock levels for all products by size and color"})]}),x&&(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:function(){m({}),h(!1)},className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(L.Z,{size:16}),(0,r.jsx)("span",{children:"Discard"})]}),(0,r.jsxs)("button",{onClick:function(){if(0===Object.keys(n).length){alert("No stock changes to save.");return}try{Object.entries(n).forEach(s=>{let[r,a]=s,l=e.find(e=>e.id===r);if(!l)return;let i=l.stock?{...l.stock}:{};Object.entries(a).forEach(e=>{let[t,s]=e;Object.entries(s).forEach(e=>{let[s,r]=e;i[t]||(i[t]={}),i[t][s]=r})});let o=Object.values(i).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0);t(r,{...l,stock:i,inStock:o>0,updatedAt:new Date})}),m({}),h(!1),alert("Stock updated successfully!")}catch(e){console.error("Inventory save error",e),alert("Error saving stock. Please refresh and try again.")}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(B.Z,{size:16}),(0,r.jsx)("span",{children:"Save Changes"})]})]})]}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Search products by name or SKU...",value:s,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white transition-colors"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(b.Z,{className:"text-gray-400",size:20}),(0,r.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors",children:[(0,r.jsx)("option",{value:"all",children:"All Products"}),(0,r.jsx)("option",{value:"in-stock",children:"In Stock"}),(0,r.jsx)("option",{value:"low-stock",children:"Low Stock"}),(0,r.jsx)("option",{value:"out-of-stock",children:"Out of Stock"})]})]})]})}),(0,r.jsx)("div",{className:"space-y-4",children:u.map(e=>{let t=p(e),s=e.inStock&&0!==t?t<5?{status:"low-stock",color:"text-yellow-400",bg:"bg-yellow-900/20",icon:d.Z}:{status:"in-stock",color:"text-green-400",bg:"bg-green-900/20",icon:O.Z}:{status:"out-of-stock",color:"text-red-400",bg:"bg-red-900/20",icon:L.Z},a=s.icon;return(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-800/50 overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-800/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded-lg"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.name}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["SKU: ",e.sku||"N/A"]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Price: ",e.price," DZD"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-lg ".concat(s.bg),children:[(0,r.jsx)(a,{size:16,className:s.color}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(s.color),children:[t," items"]})]}),(0,r.jsx)("button",{onClick:()=>window.open("/product/".concat(e.id),"_blank"),className:"p-2 text-gray-400 hover:text-gray-300 hover:bg-gray-800/50 rounded-lg transition-all",title:"View Product",children:(0,r.jsx)(y.Z,{size:16})})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h4",{className:"text-white font-medium mb-4",children:"Stock by Size & Color"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,r.jsx)("th",{className:"text-left text-gray-400 text-sm font-medium py-2",children:"Size"}),e.colors.map(e=>(0,r.jsx)("th",{className:"text-center text-gray-400 text-sm font-medium py-2 min-w-[120px]",children:e},e)),(0,r.jsx)("th",{className:"text-center text-gray-400 text-sm font-medium py-2",children:"Total"})]})}),(0,r.jsx)("tbody",{children:e.sizes.map(t=>{let s=e.colors.reduce((s,r)=>s+j(e.id,t,r),0);return(0,r.jsxs)("tr",{className:"border-b border-gray-800/50",children:[(0,r.jsx)("td",{className:"text-white font-medium py-3",children:t}),e.colors.map(s=>{let a=j(e.id,t,s);return(0,r.jsx)("td",{className:"py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,r.jsx)("button",{onClick:()=>f(e.id,t,s,a-1),className:"p-1 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",disabled:a<=0,children:(0,r.jsx)(M.Z,{size:14})}),(0,r.jsx)("input",{type:"number",value:a,onChange:r=>f(e.id,t,s,parseInt(r.target.value)||0),className:"w-16 text-center bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-white",min:"0"}),(0,r.jsx)("button",{onClick:()=>f(e.id,t,s,a+1),className:"p-1 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:(0,r.jsx)(P.Z,{size:14})})]})},s)}),(0,r.jsx)("td",{className:"text-center text-white font-medium py-3",children:s})]},t)})})]})})]})]},e.id)})}),0===u.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(o.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-gray-500",children:s?"Try adjusting your search terms":"No products match the selected filter"})]})]})}var R=s(8068),F=s(2940),W=s(8203),_=s(6141);function H(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)("00:00");return(0,a.useEffect)(()=>{let e=localStorage.getItem("obsidian-drop-date"),s=localStorage.getItem("obsidian-store-status");if(e){let s=new Date(e);t(s.toISOString().split("T")[0]),o(s.toTimeString().slice(0,5))}else t(new Date(new Date().getTime()+2592e6).toISOString().split("T")[0]),o("00:00");l("false"!==s)},[]),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Maintenance & Store Control"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage store availability and drop dates"})]}),(0,r.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-2 flex items-center",children:[s?(0,r.jsx)(R.Z,{className:"w-6 h-6 text-green-400 mr-2"}):(0,r.jsx)(F.Z,{className:"w-6 h-6 text-red-400 mr-2"}),"Store Status"]}),(0,r.jsx)("p",{className:"text-gray-400",children:s?"Store is currently OPEN - customers can browse and purchase":"Store is in MAINTENANCE MODE - customers see maintenance page"})]}),(0,r.jsx)("button",{onClick:()=>{let e=!s;l(e),localStorage.setItem("obsidian-store-status",e.toString()),e?alert("Store is now OPEN. Customers can shop normally."):alert("Store is now in MAINTENANCE MODE. Customers will see the maintenance page.")},className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(s?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:s?"Turn OFF Store":"Turn ON Store"})]})}),(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,r.jsx)(W.Z,{className:"w-6 h-6 text-blue-400 mr-2"}),"Drop Date Configuration"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Date"}),(0,r.jsx)("input",{type:"date",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Time"}),(0,r.jsx)("input",{type:"time",value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsxs)("button",{onClick:()=>{let t="".concat(e,"T").concat(i,":00");localStorage.setItem("obsidian-drop-date",t),alert("Drop date updated successfully!")},className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(_.Z,{className:"w-5 h-5 mr-2"}),"Update Drop Date"]}),(0,r.jsxs)("button",{onClick:()=>{window.open("/maintenance","_blank")},className:"flex items-center justify-center px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 mr-2"}),"Preview Maintenance Page"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Current Settings"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Store Status"}),(0,r.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(s?"bg-green-900 text-green-300":"bg-red-900 text-red-300"),children:s?"\uD83D\uDFE2 OPEN":"\uD83D\uDD34 MAINTENANCE"})]}),(0,r.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Next Drop"}),(0,r.jsx)("p",{className:"text-gray-300",children:new Date("".concat(e,"T").concat(i)).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,r.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-yellow-300 font-semibold",children:"Important Notes"}),(0,r.jsxs)("ul",{className:"text-yellow-200/80 text-sm mt-2 space-y-1",children:[(0,r.jsx)("li",{children:"• When store is OFF, all visitors see the maintenance page"}),(0,r.jsx)("li",{children:"• Admin panel remains accessible at /admin"}),(0,r.jsx)("li",{children:"• Drop date shows on maintenance page with live countdown"}),(0,r.jsx)("li",{children:"• Changes take effect immediately"})]})]})]})})]})}var J=s(4056),K=s(2549);let X=e=>{let{notification:t,onRemove:s}=e,[l,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(i(!0),0!==t.duration){let e=setTimeout(()=>{i(!1),setTimeout(()=>s(t.id),300)},t.duration||5e3);return()=>clearTimeout(e)}},[t.id,t.duration,s]),(0,r.jsx)("div",{className:"\n        transform transition-all duration-300 ease-in-out\n        ".concat(l?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n        ").concat((()=>{switch(t.type){case"success":return"bg-green-600 border-green-500 text-white";case"error":return"bg-red-600 border-red-500 text-white";case"warning":return"bg-yellow-600 border-yellow-500 text-white";case"info":return"bg-blue-600 border-blue-500 text-white";default:return"bg-gray-600 border-gray-500 text-white"}})(),"\n        rounded-lg border shadow-lg p-4 mb-3 max-w-sm w-full\n        backdrop-blur-sm\n      "),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(t.type){case"success":return(0,r.jsx)(O.Z,{className:"w-5 h-5"});case"error":return(0,r.jsx)(L.Z,{className:"w-5 h-5"});case"warning":return(0,r.jsx)(d.Z,{className:"w-5 h-5"});default:return(0,r.jsx)(J.Z,{className:"w-5 h-5"})}})()}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold",children:t.title}),(0,r.jsx)("p",{className:"text-sm opacity-90 mt-1",children:t.message})]}),(0,r.jsx)("button",{onClick:()=>{i(!1),setTimeout(()=>s(t.id),300)},className:"flex-shrink-0 ml-2 p-1 rounded-full hover:bg-white/20 transition-colors",children:(0,r.jsx)(K.Z,{className:"w-4 h-4"})})]})})};function V(e){let{notifications:t,onRemove:s}=e;return(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 pointer-events-none",children:(0,r.jsx)("div",{className:"pointer-events-auto",children:t.map(e=>(0,r.jsx)(X,{notification:e,onRemove:s},e.id))})})}let q=()=>{let[e,t]=(0,a.useState)([]),s=e=>{let s=Date.now().toString()+Math.random().toString(36).substr(2,9);t(t=>[...t,{...e,id:s}])};return{notifications:e,removeNotification:e=>{t(t=>t.filter(t=>t.id!==e))},showSuccess:(e,t,r)=>{s({type:"success",title:e,message:t,duration:r})},showError:(e,t,r)=>{s({type:"error",title:e,message:t,duration:r})},showWarning:(e,t,r)=>{s({type:"warning",title:e,message:t,duration:r})},showInfo:(e,t,r)=>{s({type:"info",title:e,message:t,duration:r})}}};var G=s(9298);function Q(e){let{value:t,onChange:s,placeholder:l="Enter image URL or upload"}=e,[i,o]=(0,a.useState)(!1),[c,n]=(0,a.useState)(!1),d=(0,a.useRef)(null),m=async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!r.type.startsWith("image/")){alert("Veuillez s\xe9lectionner un fichier image valide");return}if(r.size>5242880){alert("L'image est trop grande. Taille maximum: 5MB");return}o(!0);let a=new FileReader;a.onload=e=>{var t;s(null===(t=e.target)||void 0===t?void 0:t.result),o(!1)},a.readAsDataURL(r)},x=e=>{s(e)};return(0,r.jsxs)("div",{className:"space-y-4",children:[t&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:t,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg border border-gray-700",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=Invalid+Image"}}),(0,r.jsx)("button",{type:"button",onClick:()=>{s("")},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 transition-colors",children:(0,r.jsx)(K.Z,{size:16})})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Image URL"}),(0,r.jsx)("input",{type:"url",value:t,onChange:e=>x(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Or Upload File"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("input",{ref:d,type:"file",accept:"image/*",onChange:m,className:"hidden"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white hover:bg-gray-700 transition-colors",children:[(0,r.jsx)(A.Z,{size:20}),(0,r.jsx)("span",{children:"Choose File"})]}),i&&(0,r.jsx)("span",{className:"text-gray-400",children:"Uploading..."})]})]})]})]})}var Y=s(5109);function $(){let{isAuthenticated:e,logout:t,username:s}=(0,k.useAuth)(),{t:f}=(0,G.useLanguage)(),{products:v,addProduct:N,updateProduct:w,deleteProduct:S}=(0,D.useProducts)(),{notifications:A,removeNotification:P,showSuccess:Z,showError:O,showWarning:I,showInfo:T}=q(),[L,B]=(0,a.useState)("dashboard"),[M,R]=(0,a.useState)(""),[F,W]=(0,a.useState)("All"),[_,J]=(0,a.useState)(!1),[K,X]=(0,a.useState)(null),[$,ee]=(0,a.useState)(Y.rA),[et,es]=(0,a.useState)([]),[er,ea]=(0,a.useState)([]),[el,ei]=(0,a.useState)({name:"",price:0,originalPrice:0,image:"",images:[],description:"",category:"T-Shirts",sizes:["S","M","L","XL"],colors:["Black"],inStock:!0,rating:0,reviews:0,stock:{S:{Black:10},M:{Black:15},L:{Black:12},XL:{Black:8}},sku:"",weight:0,tags:[],featured:!1,createdAt:new Date,updatedAt:new Date}),[eo,ec]=(0,a.useState)("");if((0,a.useEffect)(()=>{{let e=localStorage.getItem("obsidian-wilaya-tariffs");e&&ee(JSON.parse(e));let t=localStorage.getItem("obsidian-orders");t&&es(JSON.parse(t));let s=localStorage.getItem("obsidian-customers");s&&ea(JSON.parse(s));let r=e=>{B(e.detail)};return window.addEventListener("admin-tab-change",r),()=>{window.removeEventListener("admin-tab-change",r)}}},[]),!e)return(0,r.jsx)(E,{});let en=()=>{if(0===et.length){O("No Data","No orders to export");return}let e=[["Order ID","Customer Name","Phone","Email","Address","Wilaya","Product","Size","Color","Quantity","Shipping Type","Shipping Cost","Subtotal","Total","Date"],...et.map(e=>[e.id,e.customerName,e.customerPhone,e.customerEmail||"",e.customerAddress,e.wilayaName,e.productName,e.selectedSize,e.selectedColor,e.quantity,"homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk",e.shippingCost,e.subtotal,e.total,new Date(e.orderDate).toLocaleDateString()])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),r=URL.createObjectURL(t);s.setAttribute("href",r),s.setAttribute("download","orders_".concat(new Date().toISOString().split("T")[0],".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),Z("Export Successful","Orders exported to CSV file")},ed=e=>{let t="\nOrder Details:\nID: #".concat(e.id,"\nCustomer: ").concat(e.customerName,"\nPhone: ").concat(e.customerPhone,"\n").concat(e.customerEmail?"Email: ".concat(e.customerEmail):"","\nAddress: ").concat(e.customerAddress||"No address provided","\nWilaya: ").concat(e.wilayaName,"\n\nProduct: ").concat(e.productName,"\nSize: ").concat(e.selectedSize,"\nColor: ").concat(e.selectedColor,"\nQuantity: ").concat(e.quantity,"\n\nShipping: ").concat("homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk","\nShipping Cost: ").concat(e.shippingCost," DA\nSubtotal: ").concat(e.subtotal," DA\nTotal: ").concat(e.total," DA\n\nOrder Date: ").concat(new Date(e.orderDate).toLocaleString(),"\n    ");alert(t)},em=(e,t)=>{let s=et.map(s=>s.id===e?{...s,status:t}:s);es(s),localStorage.setItem("obsidian-orders",JSON.stringify(s)),Z("Status Updated","Order #".concat(e," status updated to ").concat(t))},ex=(e,t,s)=>{let r=$.map(r=>r.id===e?{...r,[t]:s}:r);ee(r),localStorage.setItem("obsidian-wilaya-tariffs",JSON.stringify(r))},eh=e=>{var t;let s=(null===(t=el.colors)||void 0===t?void 0:t.filter(t=>t!==e))||[],r={...el.stock};Object.keys(r).forEach(t=>{r[t]&&delete r[t][e]}),ei({...el,colors:s,stock:r})},eu=[{id:"dashboard",icon:l.Z,label:"Dashboard",color:"text-blue-400"},{id:"products",icon:i.Z,label:"Products",color:"text-green-400"},{id:"inventory",icon:o.Z,label:"Inventory",color:"text-cyan-400"},{id:"orders",icon:c.Z,label:"Orders",color:"text-orange-400"},{id:"customers",icon:n.Z,label:"Customers",color:"text-purple-400"},{id:"maintenance",icon:d.Z,label:"Maintenance",color:"text-yellow-400"},{id:"wilayas",icon:m.Z,label:"Wilayas",color:"text-red-400"}];return v.filter(e=>{let t=e.name.toLowerCase().includes(M.toLowerCase())||e.description.toLowerCase().includes(M.toLowerCase()),s="All"===F||e.category===F;return t&&s}),(0,r.jsxs)("div",{className:"min-h-screen bg-black flex flex-col lg:flex-row",children:[(0,r.jsx)("div",{className:"lg:hidden bg-gray-900 border-b border-gray-800 p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"OBSIDIAN"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Panel"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>window.open("/","_blank"),className:"touch-target text-gray-400 hover:text-white transition-colors",title:"Back to Shop",children:(0,r.jsx)(x.Z,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:t,className:"touch-target text-gray-400 hover:text-white transition-colors",children:(0,r.jsx)(h.Z,{className:"w-5 h-5"})})]})]})}),(0,r.jsxs)("div",{className:"hidden lg:flex w-64 bg-gray-900 border-r border-gray-800 flex-col",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-800",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"OBSIDIAN"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Admin Panel"}),(0,r.jsxs)("button",{onClick:()=>window.open("/","_blank"),className:"mt-4 w-full flex items-center justify-center px-4 py-2 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Back to Shop"]})]}),(0,r.jsx)("nav",{className:"flex-1 p-4",children:(0,r.jsx)("div",{className:"space-y-1",children:eu.map(e=>(0,r.jsxs)("button",{onClick:()=>B(e.id),className:"w-full flex items-center px-4 py-3 rounded-xl text-left transition-all group ".concat(L===e.id?"bg-white text-black shadow-lg":"text-gray-300 hover:bg-gray-800/50 hover:text-white"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5 mr-3 transition-colors ".concat(L===e.id?"text-black":e.color+" group-hover:text-white")}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"w-4 h-4 text-black"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-white text-sm font-medium",children:"Admin"}),(0,r.jsx)("p",{className:"text-gray-400 text-xs",children:s})]})]}),(0,r.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Logout",children:(0,r.jsx)(h.Z,{className:"w-4 h-4"})})]})})]}),(0,r.jsx)("div",{className:"lg:hidden bg-gray-900/95 backdrop-blur-sm border-b border-gray-800/50 overflow-x-auto scrollbar-hide",children:(0,r.jsx)("div",{className:"flex space-x-1 p-3 min-w-max",children:eu.map(e=>(0,r.jsxs)("button",{onClick:()=>B(e.id),className:"flex flex-col items-center px-4 py-2 rounded-xl text-xs font-medium whitespace-nowrap transition-all ".concat(L===e.id?"bg-white text-black shadow-lg scale-105":"text-gray-300 hover:bg-gray-800/50 hover:text-white active:scale-95"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5 mb-1 ".concat(L===e.id?"text-black":e.color)}),e.label]},e.id))})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsx)("div",{className:"bg-gray-900 border-b border-gray-800 p-3 sm:p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:(0,r.jsxs)("div",{className:"relative flex-1 sm:flex-none",children:[(0,r.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search...",value:M,onChange:e=>R(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white w-full sm:w-80 lg:w-96 text-base"})]})}),(0,r.jsxs)("div",{className:"hidden sm:flex items-center space-x-4",children:[(0,r.jsxs)("button",{className:"touch-target text-gray-400 hover:text-white transition-colors relative",children:[(0,r.jsx)(p.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:new Date().toLocaleDateString("fr-FR")})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-auto",children:["dashboard"===L&&(0,r.jsx)(C,{}),"products"===L&&(0,r.jsx)("div",{className:"p-4 sm:p-6",children:(0,r.jsx)(z,{onAddProduct:()=>J(!0),onEditProduct:e=>X(e),onDeleteProduct:e=>{let t=v.find(t=>t.id===e),s=(null==t?void 0:t.name)||"Unknown Product";if(confirm('Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.')))try{S(e),Z("Product Deleted",'"'.concat(s,'" has been deleted successfully.'))}catch(e){O("Delete Failed","Failed to delete product. Please try again."),console.error("Error deleting product:",e)}}})}),"inventory"===L&&(0,r.jsx)(U,{}),"maintenance"===L&&(0,r.jsx)(H,{}),"orders"===L&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Orders"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage customer orders"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Filter"]}),(0,r.jsxs)("button",{onClick:()=>en(),className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),0===et.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(c.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No orders yet"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Orders will appear here when customers make purchases."})]}):(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-800",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Order ID"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Customer"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Product"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Address"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Shipping"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Total"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Date"}),(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-6",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:et.map(e=>(0,r.jsxs)("tr",{className:"border-t border-gray-800",children:[(0,r.jsxs)("td",{className:"py-4 px-6 text-white font-mono text-sm",children:["#",e.id]}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-medium",children:e.customerName}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:e.customerPhone}),e.customerEmail&&(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:e.customerEmail})]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-medium",children:e.productName}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.selectedSize," - ",e.selectedColor]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Qty: ",e.quantity]})]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-sm",children:e.customerAddress||"No address provided"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:e.wilayaName})]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("homeDelivery"===e.shippingType?"bg-green-900 text-green-300":"bg-blue-900 text-blue-300"),children:"homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk"}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[e.shippingCost," DA"]})]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-white font-semibold",children:[e.total," DA"]}),(0,r.jsxs)("p",{className:"text-gray-400 text-sm",children:["Subtotal: ",e.subtotal," DA"]})]})}),(0,r.jsx)("td",{className:"py-4 px-6 text-gray-400",children:new Date(e.orderDate).toLocaleDateString()}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>ed(e),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"View Details",children:(0,r.jsx)(y.Z,{className:"w-4 h-4"})}),(0,r.jsxs)("select",{value:e.status||"pending",onChange:t=>em(e.id,t.target.value),className:"bg-gray-800 border border-gray-700 rounded text-white text-xs px-2 py-1 focus:outline-none focus:border-white",children:[(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,r.jsx)("option",{value:"processing",children:"Processing"}),(0,r.jsx)("option",{value:"shipped",children:"Shipped"}),(0,r.jsx)("option",{value:"delivered",children:"Delivered"}),(0,r.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})})]},e.id))})]})})})]}),"customers"===L&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Customers"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage your customer base"})]})}),0===er.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(n.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No customers yet"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Customer profiles will appear here after their first order."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:er.map(e=>(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:(0,r.jsx)(n.Z,{className:"w-6 h-6 text-black"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-white font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:e.phone})]})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Total Orders:"}),(0,r.jsx)("span",{className:"text-white",children:e.totalOrders})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Total Spent:"}),(0,r.jsxs)("span",{className:"text-white",children:[e.totalSpent," DZD"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Wilaya:"}),(0,r.jsx)("span",{className:"text-white",children:e.wilayaName})]})]})]},e.id))})]}),"wilayas"===L&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Wilaya Tariffs"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage shipping costs for each wilaya"})]}),(0,r.jsx)("button",{onClick:()=>{ee(Y.rA),localStorage.setItem("obsidian-wilaya-tariffs",JSON.stringify(Y.rA)),alert("Tarifs des wilayas r\xe9initialis\xe9s !")},className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Reset to Default"})]}),(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-gray-800",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left text-white font-medium py-4 px-4",children:"Wilaya"}),(0,r.jsx)("th",{className:"text-center text-white font-medium py-4 px-4",children:"Stop Desk E-Commerce"}),(0,r.jsx)("th",{className:"text-center text-white font-medium py-4 px-4",children:"Domicile E-Commerce"})]})}),(0,r.jsx)("tbody",{children:$.map(e=>(0,r.jsxs)("tr",{className:"border-t border-gray-800",children:[(0,r.jsx)("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-gray-400 text-xs",children:["#",e.id]})]})}),(0,r.jsx)("td",{className:"py-4 px-4 text-center",children:(0,r.jsx)("input",{type:"number",value:e.stopDeskEcommerce,onChange:t=>ex(e.id,"stopDeskEcommerce",parseInt(t.target.value)||0),className:"w-24 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white"})}),(0,r.jsx)("td",{className:"py-4 px-4 text-center",children:(0,r.jsx)("input",{type:"number",value:e.domicileEcommerce,onChange:t=>ex(e.id,"domicileEcommerce",parseInt(t.target.value)||0),className:"w-24 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white"})})]},e.id))})]})})})]})]})]}),_&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-800",children:(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Add New Product"})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name *"}),(0,r.jsx)("input",{type:"text",value:el.name||"",onChange:e=>ei({...el,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"OBSIDIAN HOODIE BLACK"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Price (DZD) *"}),(0,r.jsx)("input",{type:"number",value:el.price||"",onChange:e=>ei({...el,price:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Original Price (DZD)"}),(0,r.jsx)("input",{type:"number",value:el.originalPrice||"",onChange:e=>ei({...el,originalPrice:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:el.description||"",onChange:e=>ei({...el,description:e.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white resize-none",placeholder:"Premium cotton hoodie with embroidered logo..."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Image"}),(0,r.jsx)(Q,{value:el.image||"",onChange:e=>ei({...el,image:e}),placeholder:"Upload product image"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,r.jsxs)("select",{value:el.category||"T-Shirts",onChange:e=>ei({...el,category:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,r.jsx)("option",{value:"T-Shirts",children:"T-Shirts"}),(0,r.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,r.jsx)("option",{value:"Pants",children:"Pants"}),(0,r.jsx)("option",{value:"Accessories",children:"Accessories"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"SKU"}),(0,r.jsx)("input",{type:"text",value:el.sku||"",onChange:e=>ei({...el,sku:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Auto-generated if empty"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Weight (kg)"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:el.weight||"",onChange:e=>ei({...el,weight:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Available Colors"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:(el.colors||[]).map(e=>(0,r.jsxs)("div",{className:"flex items-center bg-gray-800 rounded-lg px-3 py-2",children:[(0,r.jsx)("span",{className:"text-white mr-2",children:e}),(0,r.jsx)("button",{onClick:()=>eh(e),className:"text-red-400 hover:text-red-300 ml-2",title:"Remove color",children:"✕"})]},e))}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:eo,onChange:e=>ec(e.target.value),placeholder:"Add new color (e.g., Red, Blue, White)",className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"}),(0,r.jsx)("button",{onClick:()=>{var e,t;if(eo.trim()&&!(null===(e=el.colors)||void 0===e?void 0:e.includes(eo.trim()))){let e=[...el.colors||[],eo.trim()],s={...el.stock};null===(t=el.sizes)||void 0===t||t.forEach(e=>{s[e]&&(s[e][eo.trim()]=10)}),ei({...el,colors:e,stock:s}),ec("")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Color"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Stock Management by Size & Color"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left text-white font-medium py-2",children:"Size"}),(el.colors||["Black"]).map(e=>(0,r.jsx)("th",{className:"text-center text-white font-medium py-2 min-w-[100px]",children:e},e))]})}),(0,r.jsx)("tbody",{children:["S","M","L","XL"].map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"text-white font-medium py-2",children:e}),(el.colors||["Black"]).map(t=>{var s,a;return(0,r.jsx)("td",{className:"py-2",children:(0,r.jsx)("input",{type:"number",value:(null===(a=el.stock)||void 0===a?void 0:null===(s=a[e])||void 0===s?void 0:s[t])||0,onChange:s=>{var r;let a=parseInt(s.target.value)||0;ei({...el,stock:{...el.stock,[e]:{...null===(r=el.stock)||void 0===r?void 0:r[e],[t]:a}}})},className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white",placeholder:"0",min:"0"})},t)})]},e))})]})})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:()=>J(!1),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{if(!el.name||!el.price){O("Validation Error","Product name and price are required");return}try{var e;let t={id:Date.now().toString(),name:el.name,price:el.price,originalPrice:el.originalPrice,image:el.image||"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500&h=600&fit=crop",images:el.images||[],description:el.description||"",category:el.category||"T-Shirts",sizes:el.sizes||["S","M","L","XL"],colors:el.colors||["Black"],inStock:null===(e=el.inStock)||void 0===e||e,rating:el.rating||0,reviews:el.reviews||0,stock:el.stock||{S:{Black:10},M:{Black:15},L:{Black:12},XL:{Black:8}},sku:el.sku||"OBS-".concat(Date.now()),weight:el.weight||0,dimensions:el.dimensions,tags:el.tags||[],featured:el.featured||!1,createdAt:new Date,updatedAt:new Date};N(t),Z("Product Added",'"'.concat(t.name,'" has been added successfully!')),ei({name:"",price:0,originalPrice:0,image:"",images:[],description:"",category:"T-Shirts",sizes:["S","M","L","XL"],colors:["Black"],inStock:!0,rating:0,reviews:0,stock:{S:{Black:10},M:{Black:15},L:{Black:12},XL:{Black:8}},sku:"",weight:0,tags:[],featured:!1,createdAt:new Date,updatedAt:new Date}),J(!1)}catch(e){O("Error","Failed to add product. Please try again."),console.error("Error adding product:",e)}},className:"px-6 py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:"Add Product"})]})]})}),K&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-800",children:(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Edit Product"})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),(0,r.jsx)("input",{type:"text",value:K.name,onChange:e=>X({...K,name:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),(0,r.jsx)("input",{type:"number",value:K.price,onChange:e=>X({...K,price:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Original Price (DZD)"}),(0,r.jsx)("input",{type:"number",value:K.originalPrice||"",onChange:e=>X({...K,originalPrice:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:K.description,onChange:e=>X({...K,description:e.target.value}),rows:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white resize-none"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Product Image"}),(0,r.jsx)(Q,{value:K.image,onChange:e=>X({...K,image:e}),placeholder:"Upload product image"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,r.jsxs)("select",{value:K.category||"T-Shirts",onChange:e=>X({...K,category:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",children:[(0,r.jsx)("option",{value:"T-Shirts",children:"T-Shirts"}),(0,r.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,r.jsx)("option",{value:"Pants",children:"Pants"}),(0,r.jsx)("option",{value:"Accessories",children:"Accessories"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"SKU"}),(0,r.jsx)("input",{type:"text",value:K.sku||"",onChange:e=>X({...K,sku:e.target.value}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Auto-generated if empty"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Weight (kg)"}),(0,r.jsx)("input",{type:"number",step:"0.1",value:K.weight||"",onChange:e=>X({...K,weight:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Available Colors"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:(K.colors||[]).map(e=>(0,r.jsxs)("div",{className:"flex items-center bg-gray-800 rounded-lg px-3 py-2",children:[(0,r.jsx)("span",{className:"text-white mr-2",children:e}),(0,r.jsx)("button",{onClick:()=>{let t=(K.colors||[]).filter(t=>t!==e);X({...K,colors:t})},className:"text-red-400 hover:text-red-300 ml-2",title:"Remove color",children:"✕"})]},e))}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:eo,onChange:e=>ec(e.target.value),placeholder:"Add new color (e.g., Red, Blue, White)",className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"}),(0,r.jsx)("button",{onClick:()=>{if(eo.trim()&&!(K.colors||[]).includes(eo.trim())){let e=[...K.colors||[],eo.trim()];X({...K,colors:e}),ec("")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Color"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Stock Management by Size & Color"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left text-white font-medium py-2",children:"Size"}),(K.colors||["Black"]).map(e=>(0,r.jsx)("th",{className:"text-center text-white font-medium py-2 min-w-[100px]",children:e},e))]})}),(0,r.jsx)("tbody",{children:["S","M","L","XL"].map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"text-white font-medium py-2",children:e}),(K.colors||["Black"]).map(t=>{var s,a;return(0,r.jsx)("td",{className:"py-2",children:(0,r.jsx)("input",{type:"number",value:(null===(a=K.stock)||void 0===a?void 0:null===(s=a[e])||void 0===s?void 0:s[t])||0,onChange:s=>{var r;let a=parseInt(s.target.value)||0;X({...K,stock:{...K.stock,[e]:{...null===(r=K.stock)||void 0===r?void 0:r[e],[t]:a}}})},className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-white",placeholder:"0",min:"0"})},t)})]},e))})]})})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-800 flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:()=>X(null),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{if(K)try{let e={...K,updatedAt:new Date};w(K.id,e),X(null),Z("Product Updated",'"'.concat(e.name,'" has been updated successfully!')),console.log("Product updated:",e.name)}catch(e){O("Update Failed","Failed to update product. Please try again."),console.error("Error updating product:",e)}},className:"px-6 py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:"Update Product"})]})]})}),(0,r.jsx)(V,{notifications:A,onRemove:P})]})}},5109:function(e,t,s){"use strict";s.d(t,{rA:function(){return r}});let r=[{id:7,name:"Biskra",nameAr:"بسكرة",stopDeskEcommerce:300,domicileEcommerce:500},{id:16,name:"Alger",nameAr:"الجزائر",stopDeskEcommerce:400,domicileEcommerce:700},{id:2,name:"Chlef",nameAr:"الشلف",stopDeskEcommerce:400,domicileEcommerce:700},{id:9,name:"Blida",nameAr:"البليدة",stopDeskEcommerce:400,domicileEcommerce:700},{id:10,name:"Bouira",nameAr:"البويرة",stopDeskEcommerce:400,domicileEcommerce:700},{id:15,name:"Tizi Ouzou",nameAr:"تيزي وزو",stopDeskEcommerce:400,domicileEcommerce:700},{id:19,name:"S\xe9tif",nameAr:"سطيف",stopDeskEcommerce:400,domicileEcommerce:700},{id:25,name:"Constantine",nameAr:"قسنطينة",stopDeskEcommerce:400,domicileEcommerce:700},{id:26,name:"M\xe9d\xe9a",nameAr:"المدية",stopDeskEcommerce:400,domicileEcommerce:700},{id:31,name:"Oran",nameAr:"وهران",stopDeskEcommerce:400,domicileEcommerce:700},{id:34,name:"Bordj Bou Arreridj",nameAr:"برج بوعريريج",stopDeskEcommerce:400,domicileEcommerce:700},{id:35,name:"Boumerd\xe8s",nameAr:"بومرداس",stopDeskEcommerce:400,domicileEcommerce:700},{id:42,name:"Tipaza",nameAr:"تيبازة",stopDeskEcommerce:400,domicileEcommerce:700},{id:44,name:"A\xefn Defla",nameAr:"عين الدفلى",stopDeskEcommerce:400,domicileEcommerce:700},{id:4,name:"Oum El Bouaghi",nameAr:"أم البواقي",stopDeskEcommerce:450,domicileEcommerce:750},{id:5,name:"Batna",nameAr:"باتنة",stopDeskEcommerce:450,domicileEcommerce:750},{id:6,name:"B\xe9ja\xefa",nameAr:"بجاية",stopDeskEcommerce:450,domicileEcommerce:750},{id:13,name:"Tlemcen",nameAr:"تلمسان",stopDeskEcommerce:450,domicileEcommerce:750},{id:14,name:"Tiaret",nameAr:"تيارت",stopDeskEcommerce:450,domicileEcommerce:750},{id:18,name:"Jijel",nameAr:"جيجل",stopDeskEcommerce:450,domicileEcommerce:750},{id:21,name:"Skikda",nameAr:"سكيكدة",stopDeskEcommerce:450,domicileEcommerce:750},{id:22,name:"Sidi Bel Abb\xe8s",nameAr:"سيدي بلعباس",stopDeskEcommerce:450,domicileEcommerce:750},{id:23,name:"Annaba",nameAr:"عنابة",stopDeskEcommerce:450,domicileEcommerce:750},{id:27,name:"Mostaganem",nameAr:"مستغانم",stopDeskEcommerce:450,domicileEcommerce:750},{id:28,name:"M'Sila",nameAr:"المسيلة",stopDeskEcommerce:450,domicileEcommerce:750},{id:38,name:"Tissemsilt",nameAr:"تيسمسيلت",stopDeskEcommerce:450,domicileEcommerce:750},{id:43,name:"Mila",nameAr:"ميلة",stopDeskEcommerce:450,domicileEcommerce:750},{id:48,name:"Relizane",nameAr:"غليزان",stopDeskEcommerce:450,domicileEcommerce:750},{id:17,name:"Djelfa",nameAr:"الجلفة",stopDeskEcommerce:550,domicileEcommerce:800},{id:20,name:"Sa\xefda",nameAr:"سعيدة",stopDeskEcommerce:550,domicileEcommerce:800},{id:24,name:"Guelma",nameAr:"قالمة",stopDeskEcommerce:550,domicileEcommerce:800},{id:29,name:"Mascara",nameAr:"معسكر",stopDeskEcommerce:550,domicileEcommerce:800},{id:40,name:"Khenchela",nameAr:"خنشلة",stopDeskEcommerce:550,domicileEcommerce:800},{id:41,name:"Souk Ahras",nameAr:"سوق أهراس",stopDeskEcommerce:550,domicileEcommerce:800},{id:46,name:"A\xefn T\xe9mouchent",nameAr:"عين تيموشنت",stopDeskEcommerce:550,domicileEcommerce:800},{id:12,name:"T\xe9bessa",nameAr:"تبسة",stopDeskEcommerce:550,domicileEcommerce:850},{id:36,name:"El Tarf",nameAr:"الطارف",stopDeskEcommerce:550,domicileEcommerce:850},{id:3,name:"Laghouat",nameAr:"الأغواط",stopDeskEcommerce:600,domicileEcommerce:900},{id:30,name:"Ouargla",nameAr:"ورقلة",stopDeskEcommerce:600,domicileEcommerce:900},{id:32,name:"El Bayadh",nameAr:"البيض",stopDeskEcommerce:600,domicileEcommerce:900},{id:39,name:"El Oued",nameAr:"الوادي",stopDeskEcommerce:600,domicileEcommerce:900},{id:45,name:"Na\xe2ma",nameAr:"النعامة",stopDeskEcommerce:600,domicileEcommerce:900},{id:47,name:"Gharda\xefa",nameAr:"غرداية",stopDeskEcommerce:600,domicileEcommerce:900},{id:55,name:"Touggourt",nameAr:"تقرت",stopDeskEcommerce:600,domicileEcommerce:900},{id:57,name:"El M'Ghair",nameAr:"المغير",stopDeskEcommerce:600,domicileEcommerce:900},{id:33,name:"Illizi",nameAr:"إليزي",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:1,name:"Adrar",nameAr:"أدرار",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:8,name:"B\xe9char",nameAr:"بشار",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:49,name:"Timimoun",nameAr:"تيميمون",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:52,name:"Beni Abbes",nameAr:"بني عباس",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:11,name:"Tamanrasset",nameAr:"تمنراست",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:37,name:"Tindouf",nameAr:"تندوف",stopDeskEcommerce:700,domicileEcommerce:1e3},{id:50,name:"El Meniaa",nameAr:"المنيعة",stopDeskEcommerce:800,domicileEcommerce:1100},{id:51,name:"Bordj Badji Mokhtar",nameAr:"برج باجي مختار",stopDeskEcommerce:900,domicileEcommerce:1200},{id:53,name:"In Salah",nameAr:"عين صالح",stopDeskEcommerce:900,domicileEcommerce:1200},{id:54,name:"In Guezzam",nameAr:"عين قزام",stopDeskEcommerce:900,domicileEcommerce:1200},{id:56,name:"Djanet",nameAr:"جانت",stopDeskEcommerce:900,domicileEcommerce:1200}].sort((e,t)=>e.id-t.id)}},function(e){e.O(0,[299,9,971,938,744],function(){return e(e.s=74)}),_N_E=e.O()}]);