(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{3920:function(e,t,a){Promise.resolve().then(a.bind(a,8546))},8546:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var i=a(7437),s=a(2265),l=a(4033),n=a(5518),r=a(8722),o=a(9970),c=a(8340),d=a(3067),h=a(2176);function u(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[a,u]=(0,s.useState)(null),[x,m]=(0,s.useState)(!0),[p,j]=(0,s.useState)(""),[b,A]=(0,s.useState)(""),[w,f]=(0,s.useState)(""),[v,g]=(0,s.useState)(1),[N,y]=(0,s.useState)({name:"",phone:"",email:"",address:"",wilaya:""}),[C,D]=(0,s.useState)(!1),[S,k]=(0,s.useState)(""),[B,E]=(0,s.useState)(null),[T,O]=(0,s.useState)(!1),[z,K]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(z>0){let e=setTimeout(()=>{K(e=>e-1)},1e3);return()=>clearTimeout(e)}0===z&&C&&e.push("/")},[z,C,e]),(0,s.useEffect)(()=>{let e=t.get("id"),a=t.get("size"),i=t.get("color");if(e){a&&f(a),i&&A(i),u({id:e,name:"Custom Product",price:0,type:"made-to-order"}),m(!1);return}let s=sessionStorage.getItem("checkoutProduct");if(s)try{let e=JSON.parse(s);u(e),sessionStorage.removeItem("checkoutProduct")}catch(e){}m(!1)},[t]);let M=async()=>{if(T)return;if(!a){alert("No product selected");return}if(!/^0\d{9}$/.test(N.phone)){alert("Please enter a valid phone number");return}if(!N.name||!N.phone||!N.wilaya){alert("Please fill in all required customer information");return}if(!p){alert("Please specify custom size");return}O(!0);let e="\uD83D\uDECD️ *CUSTOM ORDER REQUEST*\n\n\uD83D\uDCE6 *Product:* ".concat(a.name,"\n\uD83D\uDCB0 *Price:* ").concat(a.price.toFixed(0)," DZD\n\uD83D\uDD22 *Quantity:* ").concat(v,"\n\n\uD83D\uDCCF *Custom Size:* ").concat(p,"\n\uD83D\uDCD0 *Size:* ").concat(w||"Not specified","\n\uD83C\uDFA8 *Color:* ").concat(b||"Not specified","\n\n\uD83D\uDC64 *Customer Details:*\n• Name: ").concat(N.name,"\n• Phone: ").concat(N.phone,"\n• Email: ").concat(N.email||"Not provided","\n• Wilaya: ").concat(N.wilaya,"\n\n\uD83D\uDCDD *Additional Notes:* Custom made-to-order item\n\nPlease confirm this order and provide delivery details.");try{let e={product:{name:a.name,price:a.price,customSize:p,customColor:b,selectedSize:w,quantity:v,notes:"Custom made-to-order item"},customer:{name:N.name,phone:N.phone,email:N.email,address:N.address,wilaya:N.wilaya},delivery:{option:"domicile",cost:0}},t=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});(await t.json()).success}catch(e){}let t=encodeURIComponent(e),i="https://wa.me/".concat("213672536920","?text=").concat(t);window.open(i,"_blank"),k("MTO-".concat(Date.now())),E(B),D(!0),K(10),O(!1)};if(x)return(0,i.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,i.jsx)(n.default,{}),(0,i.jsx)("div",{className:"pt-20 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-xl font-black uppercase tracking-wider",children:"Loading custom order..."}),(0,i.jsx)("p",{className:"text-white/70 mt-2",children:"Please wait while we prepare your custom order"})]})})]});if(!a)return(0,i.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,i.jsx)(n.default,{}),(0,i.jsx)("div",{className:"pt-20 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-xl font-black uppercase tracking-wider",children:"No product selected"}),(0,i.jsx)("p",{className:"text-white/70 mt-2",children:"Please go back and select a product to order"}),(0,i.jsx)("button",{onClick:()=>e.back(),className:"mt-4 px-6 py-3 bg-purple-600 text-white rounded font-bold hover:bg-purple-700 transition-colors",children:"Go Back"})]})})]});let R=a.price*v;return(0,i.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,i.jsx)(n.default,{}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-white hover:text-purple-400 transition-colors mb-6",children:[(0,i.jsx)(d.Z,{size:20}),"Back"]}),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsx)("h1",{className:"text-3xl font-black text-white mb-8 text-center",children:"CUSTOM ORDER CHECKOUT"}),(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"bg-white/5 border border-white/20 p-6 rounded-lg",children:[(0,i.jsxs)("h2",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[(0,i.jsx)(h.Z,{size:20}),"CUSTOM ORDER DETAILS"]}),(0,i.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,i.jsx)("div",{className:"w-24 h-24 bg-white/10 rounded overflow-hidden",children:(0,i.jsx)(o.Z,{src:a.image||"",alt:a.name,className:"w-full h-full object-cover"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg font-black text-white",children:a.name}),(0,i.jsx)("p",{className:"text-white/70 text-sm",children:a.description}),(0,i.jsxs)("p",{className:"text-xl font-black text-white mt-2",children:[a.price.toFixed(0)," DZD"]})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-3",children:"Custom Size *"}),(0,i.jsx)("input",{type:"text",required:!0,value:p,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"e.g., L, XL, 42, Custom measurements..."}),(0,i.jsx)("p",{className:"text-white/50 text-xs mt-1",children:"Specify your exact size requirements"})]}),a.colors&&a.colors.length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-3",children:"Choose Color"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3",children:a.colors.map(e=>(0,i.jsx)("button",{onClick:()=>A(e),className:"p-3 border-2 rounded-lg text-center font-medium transition-all duration-200 ".concat(b===e?"border-violet-500 bg-violet-500/20 text-white":"border-white/20 bg-white/5 text-white/70 hover:border-white/40 hover:bg-white/10"),children:e},e))}),(0,i.jsx)("p",{className:"text-white/50 text-xs mt-2",children:"Select your preferred color"})]}),a.sizes&&a.sizes.length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-3",children:"Choose Size"}),(0,i.jsx)("div",{className:"grid grid-cols-3 gap-3",children:a.sizes.map(e=>(0,i.jsx)("button",{onClick:()=>f(e),className:"p-3 border-2 rounded-lg text-center font-medium transition-all duration-200 ".concat(w===e?"border-violet-500 bg-violet-500/20 text-white":"border-white/20 bg-white/5 text-white/70 hover:border-white/40 hover:bg-white/10"),children:e},e))}),(0,i.jsx)("p",{className:"text-white/50 text-xs mt-2",children:"Select your preferred size"})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-3",children:"Quantity"}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("button",{onClick:()=>g(Math.max(1,v-1)),className:"w-10 h-10 border border-white/20 rounded flex items-center justify-center hover:border-purple-400 transition-colors",children:"-"}),(0,i.jsx)("span",{className:"text-xl font-bold text-white min-w-[3rem] text-center",children:v}),(0,i.jsx)("button",{onClick:()=>g(v+1),className:"w-10 h-10 border border-white/20 rounded flex items-center justify-center hover:border-purple-400 transition-colors",children:"+"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white/5 border border-white/20 p-6 rounded-lg",children:[(0,i.jsx)("h2",{className:"text-xl font-black text-white mb-6",children:"CUSTOMER INFORMATION"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Full Name *"}),(0,i.jsx)("input",{type:"text",required:!0,value:N.name,onChange:e=>y({...N,name:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your full name"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,i.jsx)("input",{type:"tel",required:!0,value:N.phone,onChange:e=>y({...N,phone:e.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your phone number"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-white font-medium mb-2",children:"Wilaya *"}),(0,i.jsxs)("select",{required:!0,value:N.wilaya,onChange:e=>y({...N,wilaya:e.target.value}),className:"w-full px-4 py-3 bg-black border border-white/20 rounded text-white focus:border-purple-500 focus:outline-none",children:[(0,i.jsx)("option",{value:"",children:"Select your wilaya"}),(0,i.jsx)("option",{value:"Alger",children:"Alger"}),(0,i.jsx)("option",{value:"Oran",children:"Oran"}),(0,i.jsx)("option",{value:"Constantine",children:"Constantine"}),(0,i.jsx)("option",{value:"Blida",children:"Blida"}),(0,i.jsx)("option",{value:"Setif",children:"Setif"}),(0,i.jsx)("option",{value:"Annaba",children:"Annaba"}),(0,i.jsx)("option",{value:"Batna",children:"Batna"}),(0,i.jsx)("option",{value:"Djelfa",children:"Djelfa"}),(0,i.jsx)("option",{value:"Sidi Bel Abbes",children:"Sidi Bel Abbes"}),(0,i.jsx)("option",{value:"Biskra",children:"Biskra"}),(0,i.jsx)("option",{value:"Tebessa",children:"Tebessa"}),(0,i.jsx)("option",{value:"El Oued",children:"El Oued"}),(0,i.jsx)("option",{value:"Skikda",children:"Skikda"}),(0,i.jsx)("option",{value:"Tiaret",children:"Tiaret"}),(0,i.jsx)("option",{value:"Bejaia",children:"Bejaia"}),(0,i.jsx)("option",{value:"Tlemcen",children:"Tlemcen"}),(0,i.jsx)("option",{value:"Ouargla",children:"Ouargla"}),(0,i.jsx)("option",{value:"Guelma",children:"Guelma"}),(0,i.jsx)("option",{value:"Mostaganem",children:"Mostaganem"}),(0,i.jsx)("option",{value:"M'Sila",children:"M'Sila"}),(0,i.jsx)("option",{value:"Mascara",children:"Mascara"}),(0,i.jsx)("option",{value:"Jijel",children:"Jijel"}),(0,i.jsx)("option",{value:"Tizi Ouzou",children:"Tizi Ouzou"}),(0,i.jsx)("option",{value:"Medea",children:"Medea"}),(0,i.jsx)("option",{value:"Bechar",children:"Bechar"}),(0,i.jsx)("option",{value:"El Tarf",children:"El Tarf"}),(0,i.jsx)("option",{value:"Tindouf",children:"Tindouf"}),(0,i.jsx)("option",{value:"Tissemsilt",children:"Tissemsilt"}),(0,i.jsx)("option",{value:"El Bayadh",children:"El Bayadh"}),(0,i.jsx)("option",{value:"Illizi",children:"Illizi"}),(0,i.jsx)("option",{value:"Bordj Bou Arreridj",children:"Bordj Bou Arreridj"}),(0,i.jsx)("option",{value:"Boumerdes",children:"Boumerdes"}),(0,i.jsx)("option",{value:"Relizane",children:"Relizane"}),(0,i.jsx)("option",{value:"Souk Ahras",children:"Souk Ahras"}),(0,i.jsx)("option",{value:"Tipaza",children:"Tipaza"}),(0,i.jsx)("option",{value:"Mila",children:"Mila"}),(0,i.jsx)("option",{value:"Ain Defla",children:"Ain Defla"}),(0,i.jsx)("option",{value:"Naama",children:"Naama"}),(0,i.jsx)("option",{value:"Ain Temouchent",children:"Ain Temouchent"}),(0,i.jsx)("option",{value:"Ghardaia",children:"Ghardaia"}),(0,i.jsx)("option",{value:"Adrar",children:"Adrar"}),(0,i.jsx)("option",{value:"Chlef",children:"Chlef"}),(0,i.jsx)("option",{value:"Laghouat",children:"Laghouat"}),(0,i.jsx)("option",{value:"Oum El Bouaghi",children:"Oum El Bouaghi"}),(0,i.jsx)("option",{value:"Bouira",children:"Bouira"}),(0,i.jsx)("option",{value:"Tamanrasset",children:"Tamanrasset"}),(0,i.jsx)("option",{value:"Khenchela",children:"Khenchela"})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/5 border border-white/20 p-6 rounded-lg",children:[(0,i.jsx)("h2",{className:"text-xl font-black text-white mb-6",children:"ORDER SUMMARY"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Product:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:a.name})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Custom Size:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:p||"Not specified"})]}),w&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Size:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:w})]}),b&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Color:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:b})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-white/70",children:"Quantity:"}),(0,i.jsx)("span",{className:"text-white font-medium",children:v})]}),(0,i.jsx)("div",{className:"border-t border-white/20 pt-4",children:(0,i.jsxs)("div",{className:"flex justify-between text-xl font-black",children:[(0,i.jsx)("span",{children:"Total:"}),(0,i.jsxs)("span",{children:[R.toFixed(0)," DZD"]})]})}),(0,i.jsx)("button",{onClick:M,disabled:!p||!N.name||!N.phone||!N.wilaya||T,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-black py-4 px-6 rounded transition-colors flex items-center justify-center gap-2",children:T?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"PROCESSING..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{size:20}),"ORDER VIA WHATSAPP"]})}),(0,i.jsx)("p",{className:"text-white/50 text-xs text-center mt-2",children:"You will be redirected to WhatsApp to confirm your custom order"})]})]})]})]})]})]}),(0,i.jsx)(r.default,{}),(0,i.jsx)(c.Z,{isOpen:C,onClose:()=>D(!1),orderId:S,orderData:B,redirectCountdown:z})]})}},9970:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i=a(7437),s=a(2265),l=a(6691),n=a.n(l);function r(e){let{src:t,alt:a,width:l=400,height:r=400,className:o="",priority:c=!1,quality:d=75}=e,[h,u]=(0,s.useState)(!0),[x,m]=(0,s.useState)(!1),p=()=>{u(!1)},j=()=>{u(!1),m(!0)};return!t||""===t.trim()||x?(0,i.jsx)("div",{className:"bg-gray-800 flex items-center justify-center ".concat(o),style:{width:l,height:r},children:(0,i.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCF7"}),(0,i.jsx)("div",{className:"text-sm",children:"Image not available"})]})}):t.startsWith("data:")?(0,i.jsxs)("div",{className:"relative overflow-hidden ".concat(o),children:[h&&(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:l,height:r},children:(0,i.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,i.jsx)("img",{src:t,alt:a,className:"w-full h-full object-cover transition-opacity duration-300 ".concat(h?"opacity-0":"opacity-100"),onLoad:p,onError:j})]}):(0,i.jsxs)("div",{className:"relative overflow-hidden ".concat(o),children:[h&&(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:l,height:r},children:(0,i.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,i.jsx)(n(),{src:t,alt:a,width:l,height:r,quality:d,priority:c,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",className:"transition-opacity duration-300 ".concat(h?"opacity-0":"opacity-100"),onLoad:p,onError:j,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:c?"eager":"lazy"})]})}}},function(e){e.O(0,[192,691,518,994,971,938,744],function(){return e(e.s=3920)}),_N_E=e.O()}]);