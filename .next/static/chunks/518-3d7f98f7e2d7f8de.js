"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{5518:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),s=r(2265),i=r(1396),o=r.n(i),n=r(7480),l=r(2245),c=r(4322),d=r(1827),u=r(6712),h=r(2549),m=r(8004),p=r(9409),x=r(2095),b=r(8460);function f(){let{theme:e,isStreetwear:t}=(0,b.useDesign)(),[r,i]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),[g,v]=(0,s.useState)({}),{getTotalItems:y}=(0,x.useCart)();(0,s.useEffect)(()=>{let e=()=>{w(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let j=y(),N=async(e,t)=>{v(e=>({...e,[t]:!0}));try{await new Promise(e=>setTimeout(e,300)),window.location.href=e}finally{v(e=>({...e,[t]:!1}))}},k=[{name:"Home",href:"/",icon:n.Z,key:"home"},{name:"Custom Order",href:"/made-to-order",icon:l.Z,key:"custom-order"},{name:"Collection",href:"/#products",icon:c.Z,key:"collection"}];return t?(0,a.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(f?"bg-black/95 backdrop-blur-md border-b border-white/10":"bg-transparent"),children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,a.jsxs)(o(),{href:"/",className:"group flex items-center space-x-3",children:[(0,a.jsx)("img",{src:"/Logo Obsidian Wear sur fond noir.png",alt:"Obsidian Wear",className:"w-12 h-12 object-contain group-hover:scale-110 transition-transform"}),(0,a.jsxs)("div",{className:"hidden md:block",children:[(0,a.jsx)("div",{className:"text-white font-black text-xl uppercase tracking-wider",children:"OBSIDIAN"}),(0,a.jsx)("div",{className:"text-purple-500 font-mono text-xs uppercase tracking-widest",children:"WEAR"})]})]}),(0,a.jsx)("nav",{className:"hidden lg:flex items-center space-x-8",children:k.map(e=>(0,a.jsxs)("button",{onClick:()=>N(e.href,e.key),disabled:Object.values(g).some(e=>e),className:"group flex items-center space-x-2 text-white hover:text-purple-500 transition-colors duration-300 font-bold uppercase tracking-wider text-sm disabled:opacity-50 disabled:cursor-not-allowed relative",children:[g[e.key]?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.icon,{className:"w-4 h-4 group-hover:scale-110 transition-transform group-hover:animate-pulse"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 border border-purple-500/50 border-t-transparent rounded-full animate-spin opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,a.jsx)("span",{children:g[e.key]?"Loading...":e.name})]},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:async()=>{v(e=>({...e,search:!0}));try{await new Promise(e=>setTimeout(e,300))}finally{v(e=>({...e,search:!1}))}},disabled:Object.values(g).some(e=>e),className:"group p-2 text-white hover:text-purple-500 transition-colors border border-white/20 hover:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed relative",children:g.search?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 group-hover:animate-pulse"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 border border-purple-500/50 border-t-transparent rounded-full animate-spin opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,a.jsxs)("button",{onClick:async()=>{v(e=>({...e,cart:!0}));try{await new Promise(e=>setTimeout(e,300)),window.location.href="/cart"}finally{v(e=>({...e,cart:!1}))}},disabled:Object.values(g).some(e=>e),className:"relative p-2 text-white hover:text-purple-500 transition-colors border border-white/20 hover:border-purple-500 group disabled:opacity-50 disabled:cursor-not-allowed",children:[g.cart?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 group-hover:scale-110 transition-transform group-hover:animate-pulse"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 border border-purple-500/50 border-t-transparent rounded-full animate-spin opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),j>0&&!g.cart&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-purple-500 text-black text-xs font-black px-1.5 py-0.5 min-w-5 h-5 flex items-center justify-center border border-white",children:j})]}),(0,a.jsx)("button",{onClick:()=>i(!r),className:"lg:hidden p-2 text-white hover:text-purple-500 transition-colors border border-white/20 hover:border-purple-500",children:r?(0,a.jsx)(h.Z,{className:"w-5 h-5"}):(0,a.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),r&&(0,a.jsx)("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10",children:(0,a.jsxs)("div",{className:"px-4 py-6 space-y-4",children:[(0,a.jsxs)("button",{onClick:async()=>{i(!1),await N("/made-to-order","mobile-custom-order")},disabled:Object.values(g).some(e=>e),className:"flex items-center justify-center space-x-3 bg-gradient-to-r from-purple-600 to-purple-800 text-white hover:from-purple-700 hover:to-purple-900 transition-all font-black uppercase tracking-wider text-lg py-4 rounded-lg border-2 border-purple-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:[g["mobile-custom-order"]?(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(l.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:g["mobile-custom-order"]?"Loading...":"\uD83C\uDFA8 Custom Orders"})]}),k.map(e=>(0,a.jsxs)("button",{onClick:async()=>{i(!1),await N(e.href,"mobile-".concat(e.key))},disabled:Object.values(g).some(e=>e),className:"flex items-center space-x-3 text-white hover:text-purple-500 transition-colors font-bold uppercase tracking-wider text-lg py-2 border-b border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",children:[g["mobile-".concat(e.key)]?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:g["mobile-".concat(e.key)]?"Loading...":e.name})]},e.name)),(0,a.jsxs)(o(),{href:"/admin",onClick:()=>i(!1),className:"flex items-center space-x-3 text-gray-400 hover:text-white transition-colors font-bold uppercase tracking-wider text-sm py-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Admin"})]})]})})]}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.1'/%3E%3C/svg%3E\")"}})]}):(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(f?"bg-black/90 backdrop-blur-lg border-b border-gray-800":"bg-transparent"),children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(o(),{href:"/",className:"flex items-center space-x-2 group",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"O"})}),(0,a.jsx)("span",{className:"text-white font-bold text-xl hidden sm:block group-hover:text-blue-400 transition-colors",children:"Obsidian Wear"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-8",children:k.map(e=>(0,a.jsxs)(o(),{href:e.href,className:"flex items-center space-x-1 text-gray-300 hover:text-white transition-colors",children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.name})]},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})}),(0,a.jsxs)(o(),{href:"/cart",className:"relative p-2 text-gray-400 hover:text-white transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5"}),j>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-purple-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:j})]}),(0,a.jsx)("button",{onClick:()=>i(!r),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors",children:r?(0,a.jsx)(h.Z,{className:"w-5 h-5"}):(0,a.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),r&&(0,a.jsx)("div",{className:"md:hidden absolute top-full left-0 right-0 bg-black/95 backdrop-blur-lg border-b border-gray-800",children:(0,a.jsx)("div",{className:"px-4 py-6 space-y-4",children:k.map(e=>(0,a.jsxs)(o(),{href:e.href,onClick:()=>i(!1),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.name})]},e.name))})})]})})}},2095:function(e,t,r){r.r(t),r.d(t,{CartProvider:function(){return o},useCart:function(){return n}});var a=r(7437),s=r(2265);let i=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)([]),[n,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("obsidian-cart");if(e){let t=JSON.parse(e);if(Array.isArray(t)){let e=t.map(e=>({...e,addedAt:e.addedAt||new Date().toISOString()}));o(e)}else localStorage.removeItem("obsidian-cart")}d(null)}catch(e){d("Failed to load cart data"),localStorage.removeItem("obsidian-cart")}finally{l(!0)}})()},[]),(0,s.useEffect)(()=>{if(n)try{localStorage.setItem("obsidian-cart",JSON.stringify(r)),d(null)}catch(e){d("Failed to save cart data")}},[r,n]);let u=async(e,t,r,a)=>{let s="".concat(e.id,"-").concat(t,"-").concat(r);try{let l=!e.stock;if(l){alert('Made-to-order products cannot be added to cart. Please use the "Order Now" button to place your order.');return}if(!l){var i,n;let s=(null===(n=e.stock)||void 0===n?void 0:null===(i=n[t])||void 0===i?void 0:i[r])||0;if(0===s){alert("❌ Size ".concat(t," in ").concat(r," is OUT OF STOCK!"));return}if(a>s){alert("❌ Not enough stock available in ".concat(t," ").concat(r,"! Only ").concat(s," available."));return}}o(i=>{let o=i.find(e=>e.id===s);if(o){let e=o.quantity+a;return i.map(t=>t.id===s?{...t,quantity:e}:t)}{let o={id:s,productId:e.id,name:e.name,price:e.price,image:e.image,selectedSize:t,selectedColor:r,quantity:a,addedAt:new Date().toISOString()};return[...i,o]}})}catch(e){alert("❌ Failed to add item to cart. Please try again.")}},h=async e=>{r.find(t=>t.id===e)&&o(t=>t.filter(t=>t.id!==e))},m=async(e,t)=>{if(t<=0){await h(e);return}let a=r.find(t=>t.id===e);if(a&&0!=t-a.quantity)try{o(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))}catch(e){alert("❌ Failed to update quantity. Please try again.")}},p=async()=>{o([]),localStorage.removeItem("obsidian-cart")};return(0,a.jsx)(i.Provider,{value:{items:r,addToCart:u,removeFromCart:h,updateQuantity:m,clearCart:p,getTotalItems:()=>r.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>r.reduce((e,t)=>e+t.price*t.quantity,0),isCartLoaded:n,cartError:c},children:t})},n=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},8460:function(e,t,r){r.r(t),r.d(t,{DesignProvider:function(){return o},useDesign:function(){return n}});var a=r(7437),s=r(2265);let i=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)("streetwear"),[n,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l(!0);let e=localStorage.getItem("obsidian_design_theme");("classic"===e||"streetwear"===e)&&o(e)},[]),(0,a.jsx)(i.Provider,{value:{theme:r,setTheme:e=>{o(e),n&&localStorage.setItem("obsidian_design_theme",e)},isStreetwear:"streetwear"===r,isClassic:"classic"===r},children:t})},n=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useDesign must be used within a DesignProvider");return e}}}]);