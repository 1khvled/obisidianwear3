(()=>{var e={};e.id=3,e.ids=[3],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},8202:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>n,routeModule:()=>h,tree:()=>c});var a=s(50482),r=s(69108),l=s(62563),i=s.n(l),d=s(68300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85557)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,74322)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,19435)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\not-found.tsx"]}],n=["C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\admin\\page.tsx"],m="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},41201:(e,t,s)=>{Promise.resolve().then(s.bind(s,38364))},7060:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},96885:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},53148:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},70009:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},40626:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},51838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},18822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},38364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ew});var a=s(95344),r=s(3729),l=s(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=s(91917);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var c=s(13746),n=s(12401),m=s(45961);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,l.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var h=s(14513),u=s(6585);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,l.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var g=s(88398),y=s(42002),b=s(23485),j=s(18822);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,l.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),v=(0,l.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var N=s(53148),w=s(86671);function k(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[n,m]=(0,r.useState)(!1),{login:x}=(0,w.useAuth)(),h=async t=>{t.preventDefault(),m(!0),c("");try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),a=await t.json();t.ok&&a.success?x(e,s):c(a.error||"Invalid username or password")}catch(e){c("Network error. Please try again.")}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(b.Z,{className:"w-8 h-8 text-black"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"OBSIDIAN WEAR"}),a.jsx("p",{className:"text-gray-400",children:"Admin Panel"})]}),a.jsx("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-800 shadow-2xl",children:(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter username"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:i?"text":"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>d(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?a.jsx(v,{className:"w-5 h-5"}):a.jsx(N.Z,{className:"w-5 h-5"})})]})]}),o&&a.jsx("div",{className:"p-3 bg-red-900 border border-red-700 rounded-lg",children:a.jsx("p",{className:"text-red-300 text-sm",children:o})}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-white text-black py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:n?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black mr-2"}),"Signing in..."]}):"Sign In"})]})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,l.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),S=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),D=(0,l.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),A=(0,l.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var E=s(76755);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let P=(0,l.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function O({title:e,value:t,change:s,changeType:r="neutral",icon:l,color:i="blue",loading:d=!1}){return d?a.jsx("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-700 rounded w-24"}),a.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"})]}),a.jsx("div",{className:"h-12 w-12 bg-gray-700 rounded-lg"})]})}):a.jsx("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-400 text-sm font-medium",children:e}),a.jsx("div",{className:"text-2xl font-bold text-white",children:t}),void 0!==s&&(0,a.jsxs)("div",{className:`flex items-center text-sm ${{positive:"text-green-400",negative:"text-red-400",neutral:"text-gray-400"}[r]}`,children:[(0,a.jsxs)("span",{className:"font-medium",children:["positive"===r?"+":"negative"===r?"-":"",Math.abs(s),"%"]}),a.jsx("span",{className:"ml-1",children:"vs last month"})]})]}),a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${{blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"}[i]} group-hover:scale-110 transition-transform duration-200`,children:a.jsx(l,{className:"h-6 w-6 text-white"})})]})})}function M({data:e,type:t="bar",height:s=200,className:l=""}){let[i,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>d(!0),100);return()=>clearTimeout(e)},[]);let o=Math.max(...e.map(e=>e.value));if("bar"===t)return a.jsx("div",{className:`space-y-2 ${l}`,style:{height:s},children:e.map((e,t)=>{let s=o>0?e.value/o*100:0;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:e.label}),a.jsx("span",{className:"text-white font-medium",children:e.value.toLocaleString()})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ease-out ${i?"w-full":"w-0"}`,style:{width:i?`${s}%`:"0%",backgroundColor:e.color||"#3b82f6"}})})]},t)})});if("doughnut"===t){let t=e.reduce((e,t)=>e+t.value,0),r=0;return(0,a.jsxs)("div",{className:`relative ${l}`,style:{height:s,width:s},children:[a.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:e.map((e,s)=>{let l=e.value/t*100,d=3.6*r;r+=l;let o=2*Math.PI*40,c=`${l/100*o} ${o}`,n=o-d/360*o;return a.jsx("circle",{cx:"50",cy:"50",r:40,fill:"none",stroke:e.color||"#3b82f6",strokeWidth:"8",strokeDasharray:c,strokeDashoffset:n,className:"transition-all duration-1000 ease-out",style:{strokeDashoffset:i?n:o}},s)})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:t}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total"})]})})]})}return null}function Z({value:e,duration:t=1e3,className:s=""}){let[l,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let s,a;let r=l=>{s||(s=l);let d=Math.min((l-s)/t,1);i(Math.floor(e*(1-Math.pow(1-d,4)))),d<1&&(a=requestAnimationFrame(r))};return a=requestAnimationFrame(r),()=>{a&&cancelAnimationFrame(a)}},[e,t]),a.jsx("span",{className:s,children:l.toLocaleString()})}function z({products:e,orders:t,customers:s}){let[l,i]=(0,r.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,totalCustomers:0,lowStockProducts:0,pendingOrders:0,monthlyRevenue:0,averageOrderValue:0}),[o,c]=(0,r.useState)([]),[x,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{let a=e.length,r=t.length,l=t.reduce((e,t)=>e+t.total,0),d=s.length,o=e.filter(e=>!e.stock||10>Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0)).length,n=t.filter(e=>"pending"===e.status).length,m=new Date;m.setDate(m.getDate()-30),i({totalProducts:a,totalOrders:r,totalRevenue:l,totalCustomers:d,lowStockProducts:o,pendingOrders:n,monthlyRevenue:t.filter(e=>new Date(e.orderDate)>=m).reduce((e,t)=>e+t.total,0),averageOrderValue:r>0?l/r:0}),c(t.slice(0,5)),h(e.map(e=>{let s=t.filter(t=>t.productId===e.id);return{product:e,orders:s.length}}).sort((e,t)=>t.orders-e.orders).slice(0,5))},[e,t,s]);let u=t.length>0?[{label:"This Month",value:l.monthlyRevenue,color:"#10b981"}]:[{label:"No Data",value:0,color:"#6b7280"}],p=Object.entries(e.reduce((e,t)=>{let s=t.category||"Other";return e[s]=(e[s]||0)+1,e},{})).map(([e,t])=>({label:e,value:t,color:`hsl(${360*Math.random()}, 70%, 50%)`}));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(O,{title:"Total Products",value:a.jsx(Z,{value:l.totalProducts}),change:12,changeType:"positive",icon:d.Z,color:"blue"}),a.jsx(O,{title:"Total Orders",value:a.jsx(Z,{value:l.totalOrders}),change:8,changeType:"positive",icon:n.Z,color:"green"}),a.jsx(O,{title:"Total Revenue",value:`${l.totalRevenue.toLocaleString()} DA`,change:15,changeType:"positive",icon:C,color:"purple"}),a.jsx(O,{title:"Total Customers",value:a.jsx(Z,{value:l.totalCustomers}),change:5,changeType:"positive",icon:S,color:"orange"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(O,{title:"Low Stock Products",value:a.jsx(Z,{value:l.lowStockProducts}),icon:m.Z,color:"red"}),a.jsx(O,{title:"Pending Orders",value:a.jsx(Z,{value:l.pendingOrders}),icon:D,color:"orange"}),a.jsx(O,{title:"Monthly Revenue",value:`${l.monthlyRevenue.toLocaleString()} DA`,icon:A,color:"green"}),a.jsx(O,{title:"Avg Order Value",value:`${Math.round(l.averageOrderValue).toLocaleString()} DA`,icon:E.Z,color:"purple"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Revenue Trend"}),(0,a.jsxs)("div",{className:"flex items-center text-green-400 text-sm",children:[a.jsx(P,{className:"w-4 h-4 mr-1"}),"+15% from last month"]})]}),a.jsx(M,{data:u,type:"bar",height:200})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Products by Category"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[e.length," total"]})]}),a.jsx(M,{data:p,type:"doughnut",height:200})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Orders"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",a.jsx(P,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"space-y-4",children:o.length>0?o.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(n.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.customerName}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.productName})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.total.toLocaleString()," DA"]}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.status})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(n.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No recent orders"})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Top Products"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",a.jsx(P,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"space-y-4",children:x.length>0?x.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(d.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.product.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.product.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.orders," orders"]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.product.price.toLocaleString()," DA"]})]})]},e.product.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(d.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No products yet"})]})})]})]})]})}var _=s(51838),T=s(28765);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=(0,l.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),$=(0,l.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),I=(0,l.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var U=s(38271),q=s(7060);function R({children:e,onClick:t,variant:s="primary",size:r="md",disabled:l=!1,loading:i=!1,className:d="",type:o="button"}){return(0,a.jsxs)("button",{type:o,onClick:t,disabled:l||i,className:`inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",outline:"border border-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500"}[s]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r]} ${d}`,children:[i&&a.jsx(p,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function F({isOpen:e,onClose:t,title:s,children:l,size:i="md",className:d=""}){return((0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,r.useEffect)(()=>{let s=e=>{"Escape"===e.key&&t()};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t]),e)?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsx("div",{className:`relative w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]} ${d}`,children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 transform transition-all duration-300 scale-100",children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:s}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-6",children:l})]})})]})}):null}function V({products:e=[],onAddProduct:t=()=>{},onEditProduct:s=()=>{},onDeleteProduct:l=()=>{},onViewProduct:i=()=>{}}){let[o,c]=(0,r.useState)(""),[n,x]=(0,r.useState)("All"),[h,u]=(0,r.useState)("name"),[p,g]=(0,r.useState)("asc"),[y,b]=(0,r.useState)("grid"),[j,f]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[S,D]=(0,r.useState)(null),A=["All",...Array.from(new Set((e||[]).map(e=>e.category)))],P=(e||[]).filter(e=>{let t=(e.name||"").toLowerCase().includes(o.toLowerCase())||(e.description||"").toLowerCase().includes(o.toLowerCase()),s="All"===n||e.category===n;return t&&s}).sort((e,t)=>{let s=e[h],a=t[h];return void 0===s&&void 0===a?0:void 0===s?"asc"===p?-1:1:void 0===a?"asc"===p?1:-1:("string"==typeof s&&(s=s.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase()),s<a)?"asc"===p?-1:1:s>a?"asc"===p?1:-1:0}),O=e=>{if(!e.stock)return{total:0,status:"out"};let t=Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0);return 0===t?{total:t,status:"out"}:t<10?{total:t,status:"low"}:{total:t,status:"good"}},M=e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Z=e=>{D(e),C(!0)};return(0,r.useEffect)(()=>{w(j.length>0)},[j]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Products"}),a.jsx("p",{className:"text-gray-400",children:"Manage your product catalog"})]}),(0,a.jsxs)(R,{onClick:t,className:"flex items-center gap-2",children:[a.jsx(_.Z,{className:"w-4 h-4"}),"Add Product"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),a.jsx("select",{value:n,onChange:e=>x(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:A.map(e=>a.jsx("option",{value:e,children:e},e))}),(0,a.jsxs)("select",{value:`${h}-${p}`,onChange:e=>{let[t,s]=e.target.value.split("-");u(t),g(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"name-asc",children:"Name A-Z"}),a.jsx("option",{value:"name-desc",children:"Name Z-A"}),a.jsx("option",{value:"price-asc",children:"Price Low-High"}),a.jsx("option",{value:"price-desc",children:"Price High-Low"}),a.jsx("option",{value:"createdAt-desc",children:"Newest First"}),a.jsx("option",{value:"createdAt-asc",children:"Oldest First"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded ${"grid"===y?"bg-blue-600 text-white":"text-gray-400"}`,children:a.jsx(L,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded ${"list"===y?"bg-blue-600 text-white":"text-gray-400"}`,children:a.jsx($,{className:"w-4 h-4"})})]})]}),v&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[j.length," product",1!==j.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[a.jsx(R,{variant:"outline",size:"sm",onClick:()=>f([]),children:"Clear"}),a.jsx(R,{variant:"danger",size:"sm",onClick:()=>{j.forEach(e=>l(e)),f([]),w(!1)},children:"Delete Selected"})]})]})]}),P.length>0?a.jsx("div",{className:"grid"===y?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:P.map(e=>{let t=O(e);return"grid"===y?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e.image||"/placeholder-product.jpg",alt:e.name||"Product",className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("input",{type:"checkbox",checked:j.includes(e.id),onChange:()=>M(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[a.jsx("button",{onClick:()=>i(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:a.jsx(N.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:a.jsx(I,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(e),className:"p-1 bg-black/50 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:a.jsx(U.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-white mb-2 line-clamp-2",children:e.name||"Unnamed Product"}),a.jsx("div",{className:"flex items-center gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>a.jsx(E.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:[Number(e.price).toFixed(0)," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["out"===t.status&&a.jsx(m.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&a.jsx(m.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&a.jsx(q.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,a.jsxs)("div",{children:["Category: ",e.category||"Uncategorized"]}),(0,a.jsxs)("div",{children:["Stock: ",t.total," units"]})]})]})]},e.id):a.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"checkbox",checked:j.includes(e.id),onChange:()=>M(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),a.jsx("img",{src:e.image||"/placeholder-product.jpg",alt:e.name||"Product",className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:e.name||"Unnamed Product"}),a.jsx("p",{className:"text-gray-400 text-sm truncate",children:e.description||"No description"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("span",{className:"text-sm text-gray-400",children:e.category||"Uncategorized"}),a.jsx("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>a.jsx(E.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-white",children:[e.price," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["Stock: ",t.total]}),"out"===t.status&&a.jsx(m.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&a.jsx(m.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&a.jsx(q.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>i(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(N.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(I,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(e),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(U.Z,{className:"w-4 h-4"})})]})]})},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No products found"}),a.jsx("p",{className:"text-gray-400 mb-4",children:o||"All"!==n?"Try adjusting your search or filters":"Get started by adding your first product"}),!o&&"All"===n&&(0,a.jsxs)(R,{onClick:t,children:[a.jsx(_.Z,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),a.jsx(F,{isOpen:k,onClose:()=>C(!1),title:"Delete Product",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete ",a.jsx("strong",{children:S?.name}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[a.jsx(R,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),a.jsx(R,{variant:"danger",onClick:()=>{S&&(l(S.id),C(!1),D(null))},children:"Delete Product"})]})]})})]})}var B=s(33733);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let H=(0,l.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),X=(0,l.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);function W({onClose:e}){let[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[n,m]=(0,r.useState)(0),[x,u]=(0,r.useState)(!1),p=async()=>{try{i(!0);let e=await fetch(`/api/inventory?t=${Date.now()}&_cb=${Math.random()}&_force=${Math.random()}&_r=${Math.random()}&_v=${Math.random()}&_vercel=${Math.random()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest","X-Cache-Bust":Date.now().toString(),"X-No-Cache":"true","X-Random":Math.random().toString(),"X-Vercel-Cache":"MISS","X-Vercel-Id":Math.random().toString(36),"CDN-Cache-Control":"no-cache, no-store, must-revalidate, max-age=0","Vercel-CDN-Cache-Control":"no-cache, no-store, must-revalidate, max-age=0"}}),t=await e.json();if(t.success&&t.data){let e=t.data.map(e=>({id:e.id,product_id:e.product_id,product_name:e.products?.name||"Unknown Product",size:e.size,color:e.color,quantity:e.quantity||0,image:e.products?.image}));s(e)}else s([])}catch(e){s([])}finally{i(!1)}},g=async(e,t)=>{try{u(!0);let a=await fetch(`/api/inventory/${e}?t=${Date.now()}&_cb=${Math.random()}&_force=${Math.random()}&_r=${Math.random()}&_v=${Math.random()}&_vercel=${Math.random()}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, s-maxage=0",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest","X-Cache-Bust":Date.now().toString(),"X-No-Cache":"true","X-Random":Math.random().toString(),"X-Vercel-Cache":"MISS","X-Vercel-Id":Math.random().toString(36),"CDN-Cache-Control":"no-cache, no-store, must-revalidate, max-age=0","Vercel-CDN-Cache-Control":"no-cache, no-store, must-revalidate, max-age=0"},body:JSON.stringify({quantity:t,reason:"Manual update",createdBy:"admin"})}),r=await a.json();r.success?(s(s=>s.map(s=>s.id===e?{...s,quantity:t}:s)),c(null),m(0),await new Promise(e=>setTimeout(e,200)),await p(),await new Promise(e=>setTimeout(e,100)),await p()):alert(`Update failed: ${r.error}`)}catch(e){alert(`Error: ${e instanceof Error?e.message:"Unknown error"}`)}finally{u(!1)}},y=e=>{c(e.id),m(e.quantity)},b=()=>{c(null),m(0)},j=()=>{o&&n>=0&&g(o,n)},f=e=>{"Enter"===e.key&&o?j():"Escape"===e.key&&o&&b()};return(0,r.useEffect)(()=>{p()},[]),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(d.Z,{className:"w-8 h-8 text-blue-400"}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Simple Inventory Manager"}),a.jsx("p",{className:"text-gray-400",children:"Edit quantities • Press Enter to save, Escape to cancel"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:p,disabled:l,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx(B.Z,{className:`w-4 h-4 ${l?"animate-spin":""}`}),a.jsx("span",{children:l?"Loading...":"Refresh"})]}),a.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})]})]})}),a.jsx("div",{className:"p-6 overflow-auto max-h-[calc(90vh-140px)]",children:l?a.jsx("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(B.Z,{className:"w-8 h-8 text-blue-400 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading inventory..."})]})}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"No inventory items found"})]}):a.jsx("div",{className:"grid gap-4",children:t.map(e=>a.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[e.image&&a.jsx("img",{src:e.image,alt:e.product_name,className:"w-12 h-12 object-cover rounded"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-white font-medium",children:e.product_name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.size," • ",e.color]})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:o===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"number",value:n,onChange:e=>m(parseInt(e.target.value)||0),onKeyDown:f,className:"w-24 px-3 py-2 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none text-lg",min:"0",autoFocus:!0,placeholder:"0"}),(0,a.jsxs)("button",{onClick:j,disabled:x,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2 font-medium",children:[a.jsx(H,{className:"w-5 h-5"}),a.jsx("span",{children:x?"Saving...":"Save"})]}),(0,a.jsxs)("button",{onClick:b,className:"px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[a.jsx(h.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Cancel"})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-white font-medium text-lg",children:e.quantity}),(0,a.jsxs)("button",{onClick:()=>y(e),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-1",children:[a.jsx(X,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})]})})]})},e.id))})})]})})}var G=s(41223),J=s.n(G),Q=s(25545),K=s(16278);(0,l.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var Y=s(96885),ee=s(40626),et=s(71206),es=s(80508);class ea{constructor(){this.orders=[],this.initializeOrders(),this.setupDataSync()}async initializeOrders(){await this.loadOrders()}async loadOrders(){this.orders=await g.k.getOrders()}setupDataSync(){}generateOrderId(){let e=Date.now().toString(),t=Math.random().toString(36).substr(2,4).toUpperCase();return`OBS${e.slice(-6)}${t}`}async createOrder(e,t){try{let s=!t.stock;if(!s){let s=t.stock?.[e.selectedSize]?.[e.selectedColor]||0;if(s<e.quantity)return{success:!1,error:`Not enough stock available. Only ${s} items available in ${e.selectedSize} ${e.selectedColor}.`}}let a=this.generateOrderId(),r=new Date,l={id:a,customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,customerAddress:e.customerAddress,customerCity:e.customerCity||"",wilayaId:e.wilayaId,wilayaName:e.wilayaName,productId:e.productId,productName:t.name,productImage:t.image,selectedSize:e.selectedSize,selectedColor:e.selectedColor,quantity:e.quantity,subtotal:e.subtotal,shippingCost:e.shippingCost,total:e.total,shippingType:"domicileEcommerce"===e.shippingType?"homeDelivery":"stopDesk",paymentMethod:e.paymentMethod,paymentStatus:"pending",status:"pending",orderDate:r,notes:e.notes||"",trackingNumber:"",estimatedDelivery:this.calculateEstimatedDelivery(e.shippingType),createdAt:r,updatedAt:r};if(await g.k.addOrder(l),this.orders.unshift(l),!s)try{(await fetch("/api/inventory/deduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e.productId,size:e.selectedSize,color:e.selectedColor,quantity:e.quantity})})).ok}catch(e){}return{success:!0,orderId:a}}catch(e){return{success:!1,error:"Failed to create order. Please try again."}}}getOrders(){return this.orders}getOrder(e){return this.orders.find(t=>t.id===e)}async updateOrderStatus(e,t,s){try{let a=this.orders.findIndex(t=>t.id===e);if(-1===a)return!1;let r={...this.orders[a],status:t,trackingNumber:s||this.orders[a].trackingNumber,updatedAt:new Date};return await g.k.updateOrder(e,r),this.orders[a]=r,!0}catch(e){return!1}}calculateEstimatedDelivery(e){let t=new Date;return t.setDate(t.getDate()+("domicileEcommerce"===e?3:2)),t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getOrderStats(){let e=this.orders.length,t=this.orders.filter(e=>"pending"===e.status).length,s=this.orders.filter(e=>"confirmed"===e.status).length,a=this.orders.filter(e=>"shipped"===e.status).length;return{total:e,pending:t,confirmed:s,shipped:a,delivered:this.orders.filter(e=>"delivered"===e.status).length,cancelled:this.orders.filter(e=>"cancelled"===e.status).length,totalRevenue:this.orders.filter(e=>"delivered"===e.status).reduce((e,t)=>e+t.total,0)}}setOrders(e){this.orders=e}exportOrdersCSV(){return[["Order ID","Date","Customer","Email","Phone","Product","Size","Color","Quantity","Total","Status","Wilaya","Shipping"],...this.orders.map(e=>{let t="";try{if(e.orderDate instanceof Date)t=e.orderDate.toISOString().split("T")[0];else if("string"==typeof e.orderDate){let s=new Date(e.orderDate);t=isNaN(s.getTime())?e.orderDate:s.toISOString().split("T")[0]}else t="Unknown"}catch(e){t="Unknown"}return[e.id||"N/A",t,e.customerName||"N/A",e.customerEmail||"N/A",e.customerPhone||"N/A",e.productName||"N/A",e.selectedSize||"N/A",e.selectedColor||"N/A",e.quantity||0,e.total||0,e.status||"N/A",e.wilayaName||"N/A",e.shippingType||"N/A"]})].map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(",")).join("\n")}clearOrders(){this.orders=[]}}let er=new ea;function el({orders:e=[],onUpdateOrder:t=()=>{},onDeleteOrder:s=()=>{},onViewOrder:l=()=>{}}){let[i,o]=(0,r.useState)(null),[c,n]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[u,p]=(0,r.useState)("All"),[y,b]=(0,r.useState)("All"),[f,v]=(0,r.useState)("orderDate"),[w,k]=(0,r.useState)("desc"),[S,D]=(0,r.useState)(!1),[A,E]=(0,r.useState)(!1),[P,O]=(0,r.useState)(e),[M,Z]=(0,r.useState)([]),[z,_]=(0,r.useState)(!1),L=async()=>{try{D(!0);let e=await g.k.getOrders();O(e)}catch(e){}finally{D(!1)}},$=async()=>{try{let e=await fetch("/api/made-to-order/orders"),t=await e.json();Z(t?.orders||[])}catch(e){}},I=async()=>{E(!0);try{await Promise.all([L(),$()])}finally{E(!1)}};(0,r.useEffect)(()=>{L(),$()},[]);let q=e=>e.productImage&&e.productImage.length>100?e.productImage:null,[V,H]=(0,r.useState)([]),[X,W]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(!1),[ea,el]=(0,r.useState)(null),[ei,ed]=(0,r.useState)(null),eo=((z?M:P)||[]).filter(e=>{let t=(e.customerName||e.customer_name||"").toLowerCase().includes(m.toLowerCase())||(e.productName||e.product_name||"").toLowerCase().includes(m.toLowerCase())||(e.id||"").toLowerCase().includes(m.toLowerCase()),s="All"===u||e.status===u,a="All"===y||e.paymentStatus===y;return t&&s&&a}).sort((e,t)=>{let s=e[f],a=t[f];return void 0===s&&void 0===a?0:void 0===s?"asc"===w?-1:1:void 0===a?"asc"===w?1:-1:(s instanceof Date&&a instanceof Date&&(s=s.getTime(),a=a.getTime()),s<a)?"asc"===w?-1:1:s>a?"asc"===w?1:-1:0}),ec=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"processing":return"text-blue-400 bg-blue-900/20";case"shipped":return"text-purple-400 bg-purple-900/20";case"delivered":return"text-green-400 bg-green-900/20";case"cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},en=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"paid":return"text-green-400 bg-green-900/20";case"failed":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},em=e=>{H(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ex=e=>{V.forEach(s=>t(s,{status:e})),H([]),W(!1)},eh=e=>{el(e),Q(!0)},eu=async()=>{if(ea)try{D(!0);let e=await fetch(`/api/orders/${ea.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(e.ok)O(e=>e.filter(e=>e.id!==ea.id)),Z(e=>e.filter(e=>e.id!==ea.id)),s(ea.id);else{let t=await e.json();alert(`Failed to delete order: ${t.error}`)}}catch(e){alert("Failed to delete order. Please try again.")}finally{D(!1),Q(!1),el(null)}},ep=async(e,s)=>{try{let a=await fetch(`/api/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(a.ok)O(t=>t.map(t=>t.id===e?{...t,status:s}:t)),Z(t=>t.map(t=>t.id===e?{...t,status:s}:t)),t(e,{status:s});else{let e=await a.json();alert(`Failed to update order status: ${e.error}`)}}catch(e){alert("Failed to update order status. Please try again.")}},eg=async(e,s)=>{try{let a=await fetch(`/api/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:s})});if(a.ok)O(t=>t.map(t=>t.id===e?{...t,paymentStatus:s}:t)),Z(t=>t.map(t=>t.id===e?{...t,paymentStatus:s}:t)),t(e,{paymentStatus:s});else{let e=await a.json();alert(`Failed to update payment status: ${e.error}`)}}catch(e){alert("Failed to update payment status. Please try again.")}},ey=e=>{o(e),n(!0)};(0,r.useEffect)(()=>{W(V.length>0)},[V]);let eb=[...P,...M],ej={total:eb.length,pending:eb.filter(e=>"pending"===e.status).length,processing:eb.filter(e=>"processing"===e.status||"in_production"===e.status).length,shipped:eb.filter(e=>"shipped"===e.status).length,delivered:eb.filter(e=>"delivered"===e.status).length,totalRevenue:eb.reduce((e,t)=>e+(t.total||t.total_price||0),0),averageOrderValue:eb.length>0?eb.reduce((e,t)=>e+(t.total||t.total_price||0),0)/eb.length:0};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Orders Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage customer orders and track fulfillment"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(R,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{try{let e=z?M:P;if(!e||0===e.length){alert("No orders to export.");return}er.setOrders(e);let t=er.exportOrdersCSV();if(!t||""===t.trim())throw Error("Generated CSV content is empty");let s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(s);a.setAttribute("href",r);let l=z?"made-to-order":"collection";a.setAttribute("download",`${l}-orders-export-${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(r),100)}catch(e){alert(`Failed to export orders: ${e instanceof Error?e.message:"Unknown error"}`)}},children:[a.jsx(Y.Z,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)(R,{className:"flex items-center gap-2",onClick:I,disabled:A,children:[a.jsx(B.Z,{className:`w-4 h-4 ${A?"animate-spin":""}`}),A?"Refreshing...":"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-800 p-1 rounded-lg",children:[(0,a.jsxs)("button",{onClick:()=>_(!1),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${z?"text-gray-300 hover:text-white":"bg-purple-600 text-white"}`,children:["Collection Orders (",P.length,")"]}),(0,a.jsxs)("button",{onClick:()=>_(!0),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${z?"bg-purple-600 text-white":"text-gray-300 hover:text-white"}`,children:["Made-to-Order (",M.length,")"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:ej.total}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:ej.pending}),a.jsx("div",{className:"text-sm text-gray-400",children:"Pending"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:ej.processing}),a.jsx("div",{className:"text-sm text-gray-400",children:"Processing"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:ej.shipped}),a.jsx("div",{className:"text-sm text-gray-400",children:"Shipped"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:ej.delivered}),a.jsx("div",{className:"text-sm text-gray-400",children:"Delivered"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[ej.totalRevenue.toLocaleString()," DA"]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(T.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search orders...",value:m,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"All",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"All",children:"All Payments"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"failed",children:"Failed"})]}),(0,a.jsxs)("select",{value:`${f}-${w}`,onChange:e=>{let[t,s]=e.target.value.split("-");v(t),k(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"orderDate-desc",children:"Newest First"}),a.jsx("option",{value:"orderDate-asc",children:"Oldest First"}),a.jsx("option",{value:"total-desc",children:"Highest Value"}),a.jsx("option",{value:"total-asc",children:"Lowest Value"}),a.jsx("option",{value:"customerName-asc",children:"Customer A-Z"}),a.jsx("option",{value:"customerName-desc",children:"Customer Z-A"})]})]}),X&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[V.length," order",1!==V.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,a.jsxs)("select",{onChange:e=>ex(e.target.value),className:"px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[a.jsx("option",{value:"",children:"Update Status"}),a.jsx("option",{value:"processing",children:"Mark as Processing"}),a.jsx("option",{value:"shipped",children:"Mark as Shipped"}),a.jsx("option",{value:"delivered",children:"Mark as Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancel Orders"})]}),a.jsx(R,{variant:"outline",size:"sm",onClick:()=>H([]),children:"Clear"})]})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:V.length===eo.length&&eo.length>0,onChange:()=>{H(V.length===eo.length?[]:eo.map(e=>e.id))},className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Order ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Shipping"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Payment"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:eo.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700 hover:bg-gray-700/50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:V.includes(e.id),onChange:()=>em(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"text-white font-mono text-sm",children:["#",e.id.slice(-8)]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-white font-medium",children:e.customerName||e.customer_name||"Unknown Customer"}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm flex items-center gap-1",children:[a.jsx(ee.Z,{className:"w-3 h-3"}),e.customerPhone||e.customer_phone||"No phone"]}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs flex items-center gap-1",children:[a.jsx(et.Z,{className:"w-3 h-3"}),e.customerEmail||e.customer_email||"No email"]}),(e.customerCity||e.wilaya_name)&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1 flex items-center gap-1",children:[a.jsx(es.Z,{className:"w-3 h-3"}),e.customerCity||e.wilaya_name]}),(e.customerAddress||e.customer_address)&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1 truncate max-w-[200px]",title:e.customerAddress||e.customer_address,children:["\uD83D\uDCCD ",e.customerAddress||e.customer_address]})]}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[q(e)&&a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:q(e)?.startsWith("data:")?a.jsx("img",{src:q(e),alt:e.productName,className:"w-full h-full object-cover",onLoad:()=>console.log("✅ Order product image loaded:",e.productName),onError:t=>console.error("❌ Order product image failed to load:",e.productName,t)}):a.jsx(J(),{src:q(e),alt:e.productName,width:48,height:48,className:"w-full h-full object-cover",onLoad:()=>console.log("✅ Order product image loaded:",e.productName),onError:t=>console.error("❌ Order product image failed to load:",e.productName,t)})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.productName||e.product_name||"Unknown Product"}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm",children:[e.selectedSize||e.selected_size||"N/A"," • ",e.selectedColor||e.selected_color||"N/A"]}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["Qty: ",e.quantity||1]}),z&&e.deposit_amount&&(0,a.jsxs)("div",{className:"text-yellow-400 text-xs",children:["Deposit: ",e.deposit_amount," DA"]})]})]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-white text-sm",children:"homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk"}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.wilayaName||e.wilaya_name||"Unknown Wilaya"}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.shippingCost||e.shipping_cost||0," DA"]})]}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>ep(e.id,t.target.value),className:`px-2 py-1 rounded text-xs font-medium border-0 ${ec(e.status)}`,children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.paymentStatus,onChange:t=>eg(e.id,t.target.value),className:`px-2 py-1 rounded text-xs font-medium border-0 ${en(e.paymentStatus)}`,children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"failed",children:"Failed"})]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsxs)("div",{className:"text-white font-semibold",children:[(e.total||e.total_price||0).toLocaleString()," DA"]}),z&&e.remaining_amount&&(0,a.jsxs)("div",{className:"text-yellow-400 text-xs",children:["Remaining: ",e.remaining_amount," DA"]})]}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-gray-300 text-sm",children:e.orderDate||e.order_date?new Date(e.orderDate||e.order_date).toLocaleDateString():"Unknown Date"}),z&&e.estimated_completion_date&&(0,a.jsxs)("div",{className:"text-blue-400 text-xs",children:["Est: ",new Date(e.estimated_completion_date).toLocaleDateString()]})]}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>ey(e),className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Order",children:a.jsx(N.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>eh(e),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Delete Order",children:a.jsx(U.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),0===eo.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No orders found"}),a.jsx("p",{className:"text-gray-400",children:m||"All"!==u||"All"!==y?"Try adjusting your search or filters":"Orders will appear here when customers make purchases"})]}),a.jsx(F,{isOpen:G,onClose:()=>Q(!1),title:"Delete Order",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete order ",a.jsx("strong",{children:ea?.id}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[a.jsx(R,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),a.jsx(R,{variant:"danger",onClick:eu,children:"Delete Order"})]})]})}),c&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-4xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Order Details"}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(d.Z,{className:"w-5 h-5"}),"Order Information"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order ID:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:["#",i.id.slice(-8)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order Date:"}),a.jsx("span",{className:"text-white",children:new Date(i.orderDate).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ec(i.status)}`,children:i.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Payment Status:"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${en(i.paymentStatus)}`,children:i.paymentStatus})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(C,{className:"w-5 h-5"}),"Payment Details"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"text-white",children:[i.subtotal.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Shipping Cost:"}),(0,a.jsxs)("span",{className:"text-white",children:[i.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between border-t border-gray-700 pt-2",children:[a.jsx("span",{className:"text-white font-semibold",children:"Total:"}),(0,a.jsxs)("span",{className:"text-white font-semibold text-lg",children:[i.total.toLocaleString()," DA"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(j.Z,{className:"w-5 h-5"}),"Customer Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Name"}),a.jsx("div",{className:"text-white font-medium",children:i.customerName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Phone"}),a.jsx("div",{className:"text-white",children:i.customerPhone})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Email"}),a.jsx("div",{className:"text-white",children:i.customerEmail||"Not provided"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"City"}),a.jsx("div",{className:"text-white",children:i.customerCity||"Not provided"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Address"}),a.jsx("div",{className:"text-white",children:i.customerAddress||"Not provided"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(d.Z,{className:"w-5 h-5"}),"Product Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Product Name"}),a.jsx("div",{className:"text-white font-medium",children:i.productName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Size & Color"}),(0,a.jsxs)("div",{className:"text-white",children:[i.selectedSize," • ",i.selectedColor]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Quantity"}),a.jsx("div",{className:"text-white",children:i.quantity})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Unit Price"}),(0,a.jsxs)("div",{className:"text-white",children:[(i.subtotal/i.quantity).toLocaleString()," DA"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(K.Z,{className:"w-5 h-5"}),"Shipping Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Shipping Type"}),a.jsx("div",{className:"text-white",children:"homeDelivery"===i.shippingType?"Home Delivery":"Stop Desk"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Wilaya"}),a.jsx("div",{className:"text-white",children:i.wilayaName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Shipping Cost"}),(0,a.jsxs)("div",{className:"text-white",children:[i.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Payment Method"}),a.jsx("div",{className:"text-white",children:"cod"===i.paymentMethod?"Cash on Delivery":"Bank Transfer"})]})]})]}),(i.notes||i.trackingNumber||i.estimatedDelivery)&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-semibold mb-3",children:"Additional Information"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[i.trackingNumber&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Tracking Number"}),a.jsx("div",{className:"text-white font-mono",children:i.trackingNumber})]}),i.estimatedDelivery&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Estimated Delivery"}),a.jsx("div",{className:"text-white",children:i.estimatedDelivery})]}),i.notes&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Notes"}),a.jsx("div",{className:"text-white",children:i.notes})]})]})]})]}),a.jsx("div",{className:"flex justify-end p-6 border-t border-gray-800",children:a.jsx("button",{onClick:()=>n(!1),className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ei=(0,l.Z)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ed=(0,l.Z)("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function eo(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(!0),[i,d]=(0,r.useState)("00:00"),[o,c]=(0,r.useState)(!0),[n,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{h()},[]);let h=async()=>{try{c(!0);let e=await fetch("/api/maintenance"),s=await e.json();if(s.drop_date){let e=new Date(s.drop_date);t(e.toISOString().split("T")[0]),d(e.toTimeString().slice(0,5))}else{let e=new Date,s=new Date(e.getTime()+2592e6);t(s.toISOString().split("T")[0]),d("00:00")}l(!1===s.is_maintenance_mode)}catch(e){t(new Date(new Date().getTime()+2592e6).toISOString().split("T")[0]),d("00:00"),l(!0)}finally{c(!1)}},u=async()=>{try{x(!0);let t=`${e}T${i}:00`;if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drop_date:t})})).ok)alert("Drop date updated successfully!");else throw Error("Failed to update drop date")}catch(e){alert("Failed to update drop date. Please try again.")}finally{x(!1)}},g=async()=>{try{x(!0);let e=!s;if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_maintenance_mode:!e})})).ok)l(e),e?alert("Store is now OPEN. Customers can shop normally."):alert("Store is now in MAINTENANCE MODE. Customers will see the maintenance page.");else throw Error("Failed to update store status")}catch(e){alert("Failed to update store status. Please try again.")}finally{x(!1)}};return o?a.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(p,{className:"w-6 h-6 animate-spin text-blue-400"}),a.jsx("span",{className:"text-gray-400",children:"Loading maintenance settings..."})]})}):(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Maintenance & Store Control"}),a.jsx("p",{className:"text-gray-400",children:"Manage store availability and drop dates"})]}),a.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-2 flex items-center",children:[s?a.jsx(ei,{className:"w-6 h-6 text-green-400 mr-2"}):a.jsx(ed,{className:"w-6 h-6 text-red-400 mr-2"}),"Store Status"]}),a.jsx("p",{className:"text-gray-400",children:s?"Store is currently OPEN - customers can browse and purchase":"Store is in MAINTENANCE MODE - customers see maintenance page"})]}),(0,a.jsxs)("button",{onClick:g,disabled:n,className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 ${s?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800"}`,children:[n&&a.jsx(p,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:s?"Turn OFF Store":"Turn ON Store"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(D,{className:"w-6 h-6 text-blue-400 mr-2"}),"Drop Date Configuration"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Date"}),a.jsx("input",{type:"date",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Time"}),a.jsx("input",{type:"time",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("button",{onClick:u,disabled:n,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-blue-800",children:[n?a.jsx(p,{className:"w-5 h-5 mr-2 animate-spin"}):a.jsx(Q.Z,{className:"w-5 h-5 mr-2"}),"Update Drop Date"]}),(0,a.jsxs)("button",{onClick:()=>{window.open("/maintenance","_blank")},className:"flex items-center justify-center px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:[a.jsx(N.Z,{className:"w-5 h-5 mr-2"}),"Preview Maintenance Page"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Current Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Store Status"}),a.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:s?"\uD83D\uDFE2 OPEN":"\uD83D\uDD34 MAINTENANCE"})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Next Drop"}),a.jsx("p",{className:"text-gray-300",children:new Date(`${e}T${i}`).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx(m.Z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-yellow-300 font-semibold",children:"Important Notes"}),(0,a.jsxs)("ul",{className:"text-yellow-200/80 text-sm mt-2 space-y-1",children:[a.jsx("li",{children:"• When store is OFF, all visitors see the maintenance page"}),a.jsx("li",{children:"• Admin panel remains accessible at /admin"}),a.jsx("li",{children:"• Drop date shows on maintenance page with live countdown"}),a.jsx("li",{children:"• Changes take effect immediately"})]})]})]})})]})}var ec=s(90472),en=s(37216),em=s(37602),ex=s(15731),eh=s(47704);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eu=(0,l.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function ep({value:e,onChange:t,placeholder:s="Enter image URL or upload"}){let[l,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),c=(0,r.useRef)(null),n=async e=>{let s=e.target.files?.[0];if(s){if(!s.type.startsWith("image/")){alert("Veuillez s\xe9lectionner un fichier image valide");return}if(s.size>2097152){alert("Image is too large. Maximum size: 2MB");return}i(!0),((e,t=600,s=.5)=>new Promise(a=>{let r=document.createElement("canvas"),l=r.getContext("2d"),i=new Image;i.onload=()=>{let{width:e,height:d}=i;e>t&&(d=d*t/e,e=t),r.width=e,r.height=d,l.drawImage(i,0,0,e,d),a(r.toDataURL("image/jpeg",s))},i.src=URL.createObjectURL(e)}))(s).then(e=>{if(e.length>1048576){alert("Image is still too large after compression. Please choose a smaller image."),i(!1);return}t(e),i(!1)}).catch(e=>{alert("Error processing image. Please try again."),i(!1)})}},m=e=>{t(e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[e&&(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg border border-gray-700",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=Invalid+Image"}}),a.jsx("button",{type:"button",onClick:()=>{t("")},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 transition-colors",children:a.jsx(h.Z,{size:16})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Image URL"}),a.jsx("input",{type:"url",value:e,onChange:e=>m(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Or Upload File"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:n,className:"hidden"}),(0,a.jsxs)("button",{type:"button",onClick:()=>c.current?.click(),className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white hover:bg-gray-700 transition-colors",children:[a.jsx(eu,{size:20}),a.jsx("span",{children:"Choose File"})]}),l&&a.jsx("span",{className:"text-gray-400",children:"Uploading..."})]})]})]})]})}function eg({value:e=[],onChange:t,placeholder:s="Upload multiple images",maxImages:l=5}){let[i,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),n=(0,r.useRef)(null),m=async s=>{if(!s)return;let a=Array.from(s).filter(e=>e.type.startsWith("image/")?!(e.size>2097152)||(alert(`File ${e.name} is too large. Maximum size: 2MB`),!1):(alert(`File ${e.name} is not a valid image`),!1));if(0!==a.length){if(e.length+a.length>l){alert(`Maximum ${l} images allowed`);return}d(!0);try{let s=[],r=(e,t=600,s=.5)=>new Promise(a=>{let r=document.createElement("canvas"),l=r.getContext("2d"),i=new Image;i.onload=()=>{let{width:e,height:d}=i;e>t&&(d=d*t/e,e=t),r.width=e,r.height=d,l.drawImage(i,0,0,e,d);let o=r.toDataURL("image/jpeg",s);a(o)},i.src=URL.createObjectURL(e)});for(let e of a){let t=await r(e);if(t.length>1048576){alert(`Image ${e.name} is still too large after compression. Please choose a smaller image.`);continue}s.push(t)}t([...e,...s])}catch(e){alert("Error uploading some files. Please try again.")}finally{d(!1)}}},x=s=>{t(e.filter((e,t)=>t!==s))},u=(s,a)=>{let r=[...e],[l]=r.splice(s,1);r.splice(a,0,l),t(r)};return(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((t,s)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("img",{src:t,alt:`Product image ${s+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-700",onError:e=>{e.currentTarget.src="https://via.placeholder.com/200x200?text=Invalid+Image"}}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[s>0&&a.jsx("button",{type:"button",onClick:()=>u(s,s-1),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Move left",children:"←"}),s<e.length-1&&a.jsx("button",{type:"button",onClick:()=>u(s,s+1),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Move right",children:"→"}),a.jsx("button",{type:"button",onClick:()=>x(s),className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"Remove image",children:a.jsx(h.Z,{size:16})})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:s+1})]},s))}),e.length<l&&a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${o?"border-white bg-white bg-opacity-10":"border-gray-700 hover:border-gray-600"}`,onDrop:e=>{e.preventDefault(),c(!1),m(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:i?a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}):a.jsx(eu,{className:"w-12 h-12 text-gray-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium mb-2",children:i?"Uploading...":"Upload Images"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Drag and drop images here, or click to select files"}),(0,a.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[e.length,"/",l," images • Max 2MB each"]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>n.current?.click(),disabled:i,className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white hover:bg-gray-700 transition-colors disabled:opacity-50",children:[a.jsx(eu,{size:16}),a.jsx("span",{children:"Choose Files"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{let s=prompt("Enter image URL:");if(s&&s.trim()){if(e.length>=l){alert(`Maximum ${l} images allowed`);return}t([...e,s.trim()])}},disabled:i,className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white hover:bg-gray-700 transition-colors disabled:opacity-50",children:[a.jsx(_.Z,{size:16}),a.jsx("span",{children:"Add URL"})]})]})]})}),a.jsx("input",{ref:n,type:"file",accept:"image/*",multiple:!0,onChange:e=>{m(e.target.files)},className:"hidden"}),e.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Image URLs"}),a.jsx("div",{className:"space-y-2",children:e.map((s,r)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-gray-400 text-sm w-8",children:[r+1,"."]}),a.jsx("input",{type:"url",value:s,onChange:s=>{let a=[...e];a[r]=s.target.value,t(a)},className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:border-white",placeholder:"https://example.com/image.jpg"}),a.jsx("button",{type:"button",onClick:()=>x(r),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(h.Z,{size:16})})]},r))})]})]})}let ey=[{id:1,name:"Adrar",nameAr:"أدرار",stopDeskEcommerce:800,domicileEcommerce:1200},{id:2,name:"Chlef",nameAr:"الشلف",stopDeskEcommerce:300,domicileEcommerce:500},{id:3,name:"Laghouat",nameAr:"الأغواط",stopDeskEcommerce:500,domicileEcommerce:800},{id:4,name:"Oum El Bouaghi",nameAr:"أم البواقي",stopDeskEcommerce:450,domicileEcommerce:700},{id:5,name:"Batna",nameAr:"باتنة",stopDeskEcommerce:500,domicileEcommerce:800},{id:6,name:"B\xe9ja\xefa",nameAr:"بجاية",stopDeskEcommerce:400,domicileEcommerce:600},{id:7,name:"Biskra",nameAr:"بسكرة",stopDeskEcommerce:600,domicileEcommerce:900},{id:8,name:"B\xe9char",nameAr:"بشار",stopDeskEcommerce:1e3,domicileEcommerce:1500},{id:9,name:"Blida",nameAr:"البليدة",stopDeskEcommerce:250,domicileEcommerce:400},{id:10,name:"Bouira",nameAr:"البويرة",stopDeskEcommerce:300,domicileEcommerce:500},{id:11,name:"Tamanrasset",nameAr:"تمنراست",stopDeskEcommerce:1300,domicileEcommerce:2e3},{id:12,name:"T\xe9bessa",nameAr:"تبسة",stopDeskEcommerce:650,domicileEcommerce:1e3},{id:13,name:"Tlemcen",nameAr:"تلمسان",stopDeskEcommerce:450,domicileEcommerce:700},{id:14,name:"Tiaret",nameAr:"تيارت",stopDeskEcommerce:400,domicileEcommerce:600},{id:15,name:"Tizi Ouzou",nameAr:"تيزي وزو",stopDeskEcommerce:300,domicileEcommerce:450},{id:16,name:"Alger",nameAr:"الجزائر",stopDeskEcommerce:200,domicileEcommerce:300},{id:17,name:"Djelfa",nameAr:"الجلفة",stopDeskEcommerce:450,domicileEcommerce:700},{id:18,name:"Jijel",nameAr:"جيجل",stopDeskEcommerce:350,domicileEcommerce:550},{id:19,name:"S\xe9tif",nameAr:"سطيف",stopDeskEcommerce:400,domicileEcommerce:600},{id:20,name:"Sa\xefda",nameAr:"سعيدة",stopDeskEcommerce:400,domicileEcommerce:600},{id:21,name:"Skikda",nameAr:"سكيكدة",stopDeskEcommerce:400,domicileEcommerce:650},{id:22,name:"Sidi Bel Abb\xe8s",nameAr:"سيدي بلعباس",stopDeskEcommerce:450,domicileEcommerce:700},{id:23,name:"Annaba",nameAr:"عنابة",stopDeskEcommerce:450,domicileEcommerce:700},{id:24,name:"Guelma",nameAr:"قالمة",stopDeskEcommerce:400,domicileEcommerce:650},{id:25,name:"Constantine",nameAr:"قسنطينة",stopDeskEcommerce:400,domicileEcommerce:600},{id:26,name:"M\xe9d\xe9a",nameAr:"المدية",stopDeskEcommerce:300,domicileEcommerce:500},{id:27,name:"Mostaganem",nameAr:"مستغانم",stopDeskEcommerce:400,domicileEcommerce:600},{id:28,name:"M'Sila",nameAr:"المسيلة",stopDeskEcommerce:450,domicileEcommerce:700},{id:29,name:"Mascara",nameAr:"معسكر",stopDeskEcommerce:400,domicileEcommerce:650},{id:30,name:"Ouargla",nameAr:"ورقلة",stopDeskEcommerce:650,domicileEcommerce:1e3},{id:31,name:"Oran",nameAr:"وهران",stopDeskEcommerce:250,domicileEcommerce:400},{id:32,name:"El Bayadh",nameAr:"البيض",stopDeskEcommerce:500,domicileEcommerce:800},{id:33,name:"Illizi",nameAr:"إليزي",stopDeskEcommerce:1200,domicileEcommerce:1800},{id:34,name:"Bordj Bou Arr\xe9ridj",nameAr:"برج بوعريريج",stopDeskEcommerce:400,domicileEcommerce:600},{id:35,name:"Boumerd\xe8s",nameAr:"بومرداس",stopDeskEcommerce:300,domicileEcommerce:450},{id:36,name:"El Tarf",nameAr:"الطارف",stopDeskEcommerce:450,domicileEcommerce:700},{id:37,name:"Tindouf",nameAr:"تندوف",stopDeskEcommerce:1200,domicileEcommerce:1800},{id:38,name:"Tissemsilt",nameAr:"تيسمسيلت",stopDeskEcommerce:350,domicileEcommerce:550},{id:39,name:"El Oued",nameAr:"الوادي",stopDeskEcommerce:600,domicileEcommerce:900},{id:40,name:"Khenchela",nameAr:"خنشلة",stopDeskEcommerce:500,domicileEcommerce:800},{id:41,name:"Souk Ahras",nameAr:"سوق أهراس",stopDeskEcommerce:450,domicileEcommerce:700},{id:42,name:"Tipaza",nameAr:"تيبازة",stopDeskEcommerce:250,domicileEcommerce:400},{id:43,name:"Mila",nameAr:"ميلة",stopDeskEcommerce:400,domicileEcommerce:600},{id:44,name:"A\xefn Defla",nameAr:"عين الدفلى",stopDeskEcommerce:300,domicileEcommerce:500},{id:45,name:"Na\xe2ma",nameAr:"النعامة",stopDeskEcommerce:500,domicileEcommerce:800},{id:46,name:"A\xefn T\xe9mouchent",nameAr:"عين تيموشنت",stopDeskEcommerce:400,domicileEcommerce:650},{id:47,name:"Gharda\xefa",nameAr:"غرداية",stopDeskEcommerce:650,domicileEcommerce:1e3},{id:48,name:"Relizane",nameAr:"غليزان",stopDeskEcommerce:400,domicileEcommerce:600},{id:49,name:"Timimoun",nameAr:"تيميمون",stopDeskEcommerce:900,domicileEcommerce:1400},{id:50,name:"Bordj Badji Mokhtar",nameAr:"برج باجي مختار",stopDeskEcommerce:1100,domicileEcommerce:1600},{id:51,name:"Ouled Djellal",nameAr:"أولاد جلال",stopDeskEcommerce:700,domicileEcommerce:1100},{id:52,name:"Beni Abbes",nameAr:"بني عباس",stopDeskEcommerce:850,domicileEcommerce:1300},{id:53,name:"In Salah",nameAr:"عين صالح",stopDeskEcommerce:1150,domicileEcommerce:1700},{id:54,name:"In Guezzam",nameAr:"عين قزام",stopDeskEcommerce:1250,domicileEcommerce:1900},{id:55,name:"Touggourt",nameAr:"تقرت",stopDeskEcommerce:600,domicileEcommerce:950},{id:56,name:"Djanet",nameAr:"جانت",stopDeskEcommerce:1300,domicileEcommerce:2e3},{id:57,name:"El M'Ghair",nameAr:"المغير",stopDeskEcommerce:800,domicileEcommerce:1200},{id:58,name:"El Meniaa",nameAr:"المنيعة",stopDeskEcommerce:900,domicileEcommerce:1400}].sort((e,t)=>e.id-t.id),eb=[{id:"hoodies",name:"hoodies",displayName:"Hoodies",description:"Comfortable and stylish hoodies"},{id:"tshirts",name:"tshirts",displayName:"T-Shirts",description:"Classic and trendy t-shirts"},{id:"pants",name:"pants",displayName:"Pants",description:"Various styles of pants and trousers"},{id:"shoes",name:"shoes",displayName:"Shoes",description:"Footwear for every occasion"},{id:"accessories",name:"accessories",displayName:"Accessories",description:"Stylish accessories to complete your look"},{id:"underwear",name:"underwear",displayName:"Underwear",description:"Comfortable and quality underwear"}];var ej=s(70009);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ef=(0,l.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ev=(0,l.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function eN({onClose:e}){let[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[m,x]=(0,r.useState)("products"),[p,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[j,f]=(0,r.useState)({name:"",description:"",price:0,image:"",images:[],colors:["Noir"],sizes:["S","M","L","XL"],category:"Custom",tags:[],isActive:!0,displayOrder:0}),[v,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),D=e=>e.image&&e.image.length>100?e.image:e.images&&e.images.length>0&&e.images[0].length>100?e.images[0]:null,A=e=>t.find(t=>t.id===e),E=e=>e.made_to_order_products?{id:e.made_to_order_products.id,name:e.made_to_order_products.name,image:e.made_to_order_products.image,images:e.made_to_order_products.images,description:e.made_to_order_products.description,price:e.made_to_order_products.price,colors:e.made_to_order_products.colors||[],sizes:e.made_to_order_products.sizes||[],category:e.made_to_order_products.category||"",isActive:void 0===e.made_to_order_products.isActive||e.made_to_order_products.isActive,displayOrder:e.made_to_order_products.displayOrder||0,tags:e.made_to_order_products.tags||[],createdAt:e.made_to_order_products.createdAt||new Date,updatedAt:e.made_to_order_products.updatedAt||new Date}:A(e.productId);(0,r.useEffect)(()=>{P()},[]);let P=async()=>{try{c(!0);let e=await fetch("/api/made-to-order"),t=await e.json(),a=t.success&&Array.isArray(t.data)?t.data:[];s(a);let r=await fetch("/api/made-to-order/orders"),l=await r.json(),d=Array.isArray(l)?l:l.success&&Array.isArray(l.data)?l.data:[];i(d)}catch(e){}finally{c(!1)}},O=async()=>{try{let e=await fetch("/api/made-to-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(e.ok){let a=await e.json();s([...t,a]),g(!1),T(),alert("Product added successfully!")}else throw Error("Failed to add product")}catch(e){alert("Failed to add product. Please try again.")}},M=async()=>{if(y)try{let e=await fetch("/api/made-to-order",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(e.ok){let a=await e.json();s(t.map(e=>e.id===y.id?a:e)),b(null),alert("Product updated successfully!")}else throw Error("Failed to update product")}catch(e){alert("Failed to update product. Please try again.")}},Z=async e=>{if(confirm("Are you sure you want to delete this product?"))try{if((await fetch(`/api/made-to-order?id=${e}`,{method:"DELETE"})).ok)s(t.filter(t=>t.id!==e)),alert("Product deleted successfully!");else throw Error("Failed to delete product")}catch(e){alert("Failed to delete product. Please try again.")}},z=async(e,t)=>{try{let s=await fetch("/api/made-to-order/orders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})});if(s.ok){let t=await s.json();i(l.map(s=>s.id===e?t:s)),alert("Order status updated successfully!")}else throw Error("Failed to update order status")}catch(e){alert("Failed to update order status. Please try again.")}},T=()=>{f({name:"",description:"",price:0,image:"",images:[],colors:["Noir"],sizes:["S","M","L","XL"],category:"Custom",tags:[],isActive:!0,displayOrder:0})},L=e=>{f({...j,colors:j.colors?.filter(t=>t!==e)||[]})},$=e=>{f({...j,sizes:j.sizes?.filter(t=>t!==e)||[]})},R=e=>{f({...j,tags:j.tags?.filter(t=>t!==e)||[]})},F=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"confirmed":return"text-blue-400 bg-blue-900/20";case"in_production":return"text-orange-400 bg-orange-900/20";case"ready":return"text-green-400 bg-green-900/20";case"shipped":return"text-purple-400 bg-purple-900/20";case"delivered":return"text-emerald-400 bg-emerald-900/20";case"cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}};return o?a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-white",children:"Loading..."})]})}):(0,a.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-7xl h-[90vh] flex flex-col relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Made to Order Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage custom products and orders"})]}),a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"flex border-b border-gray-800",children:[(0,a.jsxs)("button",{onClick:()=>x("products"),className:`px-6 py-4 font-medium transition-colors ${"products"===m?"text-white border-b-2 border-white":"text-gray-400 hover:text-white"}`,children:[a.jsx(d.Z,{className:"w-5 h-5 inline mr-2"}),"Products (",t.length,")"]}),(0,a.jsxs)("button",{onClick:()=>x("orders"),className:`px-6 py-4 font-medium transition-colors ${"orders"===m?"text-white border-b-2 border-white":"text-gray-400 hover:text-white"}`,children:[a.jsx(n.Z,{className:"w-5 h-5 inline mr-2"}),"Orders (",l.length,")"]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:["products"===m&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Made to Order Products"}),(0,a.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(_.Z,{className:"w-5 h-5 mr-2"}),"Add Product"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-semibold text-lg mb-2",children:e.name}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:e.description}),(0,a.jsxs)("p",{className:"text-blue-400 font-bold text-xl",children:[e.price," DZD"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>b(e),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",children:a.jsx(I,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(e.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:a.jsx(U.Z,{className:"w-4 h-4"})})]})]}),D(e)&&a.jsx("div",{className:"mb-4",children:D(e)?.startsWith("data:")?a.jsx("img",{src:D(e),alt:e.name,className:"w-full h-32 object-cover rounded-lg",onLoad:()=>console.log("✅ Image loaded in manager for product:",e.name),onError:t=>console.error("❌ Image failed to load in manager for product:",e.name,t)}):a.jsx(J(),{src:D(e),alt:e.name,width:400,height:300,className:"w-full h-32 object-cover rounded-lg",onLoad:()=>console.log("✅ Image loaded in manager for product:",e.name),onError:t=>console.error("❌ Image failed to load in manager for product:",e.name,t)})}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[a.jsx(ej.Z,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:e.colors.join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[a.jsx(u.Z,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:e.sizes.join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-400",children:[a.jsx(ef,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:e.category})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[e.isActive?a.jsx(q.Z,{className:"w-4 h-4 text-green-400 mr-2"}):a.jsx(ev,{className:"w-4 h-4 text-red-400 mr-2"}),a.jsx("span",{className:e.isActive?"text-green-400":"text-red-400",children:e.isActive?"Active":"Inactive"})]})]})]},e.id))}),0===t.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No products yet"}),a.jsx("p",{className:"text-gray-400",children:"Add your first made-to-order product to get started."})]})]}),"orders"===m&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Made to Order Orders"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-800",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Order ID"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Customer"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Product"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Size/Color"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Total"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Date"}),a.jsx("th",{className:"text-left text-white font-medium py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:l.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-800",children:[(0,a.jsxs)("td",{className:"py-3 px-4 text-white font-mono",children:["#",e.id.slice(-8)]}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.customerName}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.customerPhone})]})}),a.jsx("td",{className:"py-3 px-4",children:(()=>{if(o)return a.jsx("div",{className:"text-gray-400",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full"}),a.jsx("span",{children:"Loading..."})]})});let t=E(e);return t?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[D(t)&&a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:D(t)?.startsWith("data:")?a.jsx("img",{src:D(t),alt:t.name,className:"w-full h-full object-cover",onLoad:()=>console.log("✅ Order product image loaded:",t.name),onError:e=>console.error("❌ Order product image failed to load:",t.name,e)}):a.jsx(J(),{src:D(t),alt:t.name,width:48,height:48,className:"w-full h-full object-cover",onLoad:()=>console.log("✅ Order product image loaded:",t.name),onError:e=>console.error("❌ Order product image failed to load:",t.name,e)})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:t.name}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["ID: ",e.productId]})]})]}):(0,a.jsxs)("div",{className:"text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(d.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Product not found"})]}),(0,a.jsxs)("div",{className:"text-xs mt-1",children:["ID: ",e.productId]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Loading products..."})]})})()}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"text-white",children:e.selectedSize}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.selectedColor})]}),(0,a.jsxs)("td",{className:"py-3 px-4 text-white",children:[e.totalPrice," DZD"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(e.status)}`,children:e.status.replace("_"," ")})}),a.jsx("td",{className:"py-3 px-4 text-gray-400",children:new Date(e.orderDate).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>z(e.id,t.target.value),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-xs",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"in_production",children:"In Production"}),a.jsx("option",{value:"ready",children:"Ready"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]},e.id))})]})}),0===l.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(n.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No orders yet"}),a.jsx("p",{className:"text-gray-400",children:"Orders will appear here when customers place made-to-order requests."})]})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Made to Order Product"}),a.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),a.jsx("input",{type:"text",value:j.name||"",onChange:e=>f({...j,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Enter product name"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),a.jsx("input",{type:"number",value:j.price||"",onChange:e=>f({...j,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Description"}),a.jsx("textarea",{value:j.description||"",onChange:e=>f({...j,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",rows:3,placeholder:"Enter product description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Category"}),a.jsx("input",{type:"text",value:j.category||"",onChange:e=>f({...j,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"e.g., Hoodies, T-Shirts"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:j.displayOrder||"",onChange:e=>f({...j,displayOrder:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Main Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=e.target?.result;f({...j,image:t})},e.readAsDataURL(t)}},className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),j.image&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:j.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg"})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Additional Images"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(t.length>0){let e=[];t.forEach(s=>{let a=new FileReader;a.onload=s=>{e.push(s.target?.result),e.length===t.length&&f({...j,images:[...j.images||[],...e]})},a.readAsDataURL(s)})}},className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-600 file:text-white hover:file:bg-green-700"}),j.images&&j.images.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:j.images.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:`Preview ${t+1}`,className:"w-16 h-16 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>{let e=j.images?.filter((e,s)=>s!==t)||[];f({...j,images:e})},className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-700",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},t))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Colors"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:j.colors?.map(e=>a.jsxs("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>L(e),className:"ml-2 text-blue-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add color"}),a.jsx("button",{onClick:()=>{v.trim()&&!j.colors?.includes(v.trim())&&(f({...j,colors:[...j.colors||[],v.trim()]}),N(""))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:j.sizes?.map(e=>a.jsxs("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>$(e),className:"ml-2 text-green-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:e=>k(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add size"}),a.jsx("button",{onClick:()=>{w.trim()&&!j.sizes?.includes(w.trim())&&(f({...j,sizes:[...j.sizes||[],w.trim()]}),k(""))},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:j.tags?.map(e=>a.jsxs("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>R(e),className:"ml-2 text-purple-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:e=>S(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add tag"}),a.jsx("button",{onClick:()=>{C.trim()&&!j.tags?.includes(C.trim())&&(f({...j,tags:[...j.tags||[],C.trim()]}),S(""))},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:j.isActive||!1,onChange:e=>f({...j,isActive:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 text-white",children:"Product is active"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-800",children:[a.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(H,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-60 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Product"}),a.jsx("button",{onClick:()=>b(null),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Product Name"}),a.jsx("input",{type:"text",value:y.name,onChange:e=>b({...y,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Price (DZD)"}),a.jsx("input",{type:"number",value:y.price,onChange:e=>b({...y,price:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:e=>b({...y,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Category"}),a.jsx("input",{type:"text",value:y.category,onChange:e=>b({...y,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"e.g., Hoodies, T-Shirts"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Display Order"}),a.jsx("input",{type:"number",value:y.displayOrder,onChange:e=>b({...y,displayOrder:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"0"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Main Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=e.target?.result;b({...y,image:t})},e.readAsDataURL(t)}},className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),y.image&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:y.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg"})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Additional Images"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(t.length>0){let e=[];t.forEach(s=>{let a=new FileReader;a.onload=s=>{e.push(s.target?.result),e.length===t.length&&b({...y,images:[...y.images||[],...e]})},a.readAsDataURL(s)})}},className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-600 file:text-white hover:file:bg-green-700"}),y.images&&y.images.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:y.images.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:`Preview ${t+1}`,className:"w-16 h-16 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>{let e=y.images?.filter((e,s)=>s!==t)||[];b({...y,images:e})},className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-700",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},t))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Colors"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.colors?.map(e=>a.jsxs("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>{let t=y.colors?.filter(t=>t!==e)||[];b({...y,colors:t})},className:"ml-2 text-blue-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add color"}),a.jsx("button",{onClick:()=>{if(v.trim()&&!y.colors?.includes(v.trim())){let e=[...y.colors||[],v.trim()];b({...y,colors:e}),N("")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.sizes?.map(e=>a.jsxs("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>{let t=y.sizes?.filter(t=>t!==e)||[];b({...y,sizes:t})},className:"ml-2 text-green-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:e=>k(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add size"}),a.jsx("button",{onClick:()=>{if(w.trim()&&!y.sizes?.includes(w.trim())){let e=[...y.sizes||[],w.trim()];b({...y,sizes:e}),k("")}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.tags?.map(e=>a.jsxs("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center",children:[e,a.jsx("button",{onClick:()=>{let t=y.tags?.filter(t=>t!==e)||[];b({...y,tags:t})},className:"ml-2 text-purple-200 hover:text-white",children:a.jsx(h.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:e=>S(e.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white",placeholder:"Add tag"}),a.jsx("button",{onClick:()=>{if(C.trim()&&!y.tags?.includes(C.trim())){let e=[...y.tags||[],C.trim()];b({...y,tags:e}),S("")}},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"editIsActive",checked:y.isActive,onChange:e=>b({...y,isActive:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"editIsActive",className:"ml-2 text-white",children:"Product is active"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-800",children:[a.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(H,{className:"w-4 h-4 mr-2"}),"Update Product"]})]})]})})]})}function ew(){let{isStreetwear:e}=(0,en.useDesign)(),{isAuthenticated:t,logout:s,username:l}=(0,w.useAuth)(),{t:g}=(0,em.useLanguage)(),{products:b,addProduct:j,updateProduct:f,deleteProduct:v,initializeDefaultProducts:N,refreshProducts:C}=(0,ex.R)(),{theme:S}=(0,eh.useTheme)(),[D,A]=(0,r.useState)("dashboard"),[E,P]=(0,r.useState)(ey.map(e=>({...e,tariff:0}))),[O,M]=(0,r.useState)([]),[Z,_]=(0,r.useState)([]),[T,L]=(0,r.useState)([]),[$,I]=(0,r.useState)(!1),[U,q]=(0,r.useState)(null),[R,F]=(0,r.useState)(!1),[B,H]=(0,r.useState)({orders:void 0,madeToOrderProducts:void 0,madeToOrderOrders:void 0,wilayaTariffs:void 0}),[X,G]=(0,r.useState)(!1),[J,Q]=(0,r.useState)(null),[K,Y]=(0,r.useState)({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",createdAt:new Date,updatedAt:new Date}),[ee,et]=(0,r.useState)(!1);(0,r.useEffect)(()=>{},[D,t,B]);let es=async e=>{e.preventDefault(),F(!0);try{let e={...K,id:`product_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,updatedAt:new Date};await j(e),G(!1),Y({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",createdAt:new Date,updatedAt:new Date})}catch(e){}finally{F(!1)}},ea=async e=>{if(e.preventDefault(),J){F(!0);try{let e={...J,...K,updatedAt:new Date};await f(J.id,e),Q(null),Y({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",createdAt:new Date,updatedAt:new Date})}catch(e){}finally{F(!1)}}},er=async e=>{try{await v(e)}catch(e){}};if(!t)return a.jsx(k,{});let ei=[{id:"dashboard",label:"Dashboard",icon:i},{id:"products",label:"Products",icon:d.Z},{id:"inventory",label:"Inventory",icon:o},{id:"made-to-order",label:"Made-to-Order",icon:c.Z},{id:"orders",label:"Orders",icon:n.Z},{id:"maintenance",label:"Maintenance",icon:m.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),a.jsx("div",{className:"h-1 w-20 bg-purple-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-gray-300",children:["Welcome, ",l]}),(0,a.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[a.jsx(x,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("nav",{className:"flex space-x-8",children:ei.map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>A(e.id),className:`flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${D===e.id?"border-purple-500 text-purple-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"}`,children:[a.jsx(t,{className:"w-4 h-4"}),a.jsx("span",{children:e.label})]},e.id)})})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(()=>{switch(D){case"dashboard":default:return a.jsx(z,{products:b,orders:O,customers:[]});case"products":return a.jsx(V,{products:b,onAddProduct:()=>{G(!0)},onEditProduct:e=>{Q(e),Y(e),G(!0)},onDeleteProduct:er,onViewProduct:e=>console.log("View product:",e)});case"inventory":return a.jsx(W,{onClose:()=>A("dashboard")});case"made-to-order":return a.jsx(eN,{onClose:()=>A("dashboard")});case"orders":return a.jsx(el,{orders:O});case"maintenance":return a.jsx(eo,{})}})()}),X&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:J?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:()=>{G(!1),Q(null),Y({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",createdAt:new Date,updatedAt:new Date})},className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),J?ea(e):es(e)},className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",value:K.name||"",onChange:e=>Y({...K,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter product name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price (DZD) *"}),a.jsx("input",{type:"number",value:K.price||0,onChange:e=>Y({...K,price:Number(e.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter price",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:K.description||"",onChange:e=>Y({...K,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Enter product description"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),(0,a.jsxs)("select",{value:K.category||"",onChange:e=>Y({...K,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Category"}),eb.map(e=>a.jsx("option",{value:e.name,children:e.displayName},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Images"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Main Image"}),a.jsx(ep,{value:K.image||"",onChange:e=>Y({...K,image:e}),placeholder:"Enter image URL or upload"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Additional Images"}),a.jsx(eg,{value:K.images||[],onChange:e=>Y({...K,images:e}),placeholder:"Upload multiple images",maxImages:5})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Sizes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["XS","S","M","L","XL","XXL"].map(e=>a.jsx("button",{type:"button",onClick:()=>{let t=K.sizes||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e];Y({...K,sizes:s})},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${(K.sizes||[]).includes(e)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Colors"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Black","White","Gray","Red","Blue","Green","Yellow","Pink","Purple","Orange"].map(e=>a.jsx("button",{type:"button",onClick:()=>{let t=K.colors||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e];Y({...K,colors:s})},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${(K.colors||[]).includes(e)?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Management"}),(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Stock will be automatically managed based on selected sizes and colors."}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"inStock",checked:!1!==K.inStock,onChange:e=>Y({...K,inStock:e.target.checked}),className:"w-4 h-4 text-purple-600 bg-gray-700 border-gray-600 rounded focus:ring-purple-500"}),a.jsx("label",{htmlFor:"inStock",className:"text-sm text-gray-300",children:"Product is in stock"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart"}),(0,a.jsxs)("button",{type:"button",onClick:()=>et(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[a.jsx(u.Z,{className:"w-4 h-4"}),"Edit Size Chart"]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-800",children:[a.jsx("button",{type:"button",onClick:()=>{G(!1),Q(null),Y({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",createdAt:new Date,updatedAt:new Date})},className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:R,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors disabled:opacity-50 flex items-center space-x-2",children:[R&&a.jsx(p,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:R?"Saving...":J?"Update Product":"Add Product"})]})]})]})]})}),a.jsx(ec.Z,{category:J?J.sizeChartCategory||J.category||"t-shirts":K.sizeChartCategory||K.category||"t-shirts",isOpen:ee,onClose:()=>et(!1),customSizeChart:J?.customSizeChart?{...J.customSizeChart,category:J.sizeChartCategory||J.category||"t-shirts"}:void 0,onSave:async e=>{try{if(J){let t=await (0,y.nM)(J.id,{customSizeChart:e,useCustomSizeChart:!0,sizeChartCategory:e.category});t&&(Q(t),C())}else Y(t=>({...t,customSizeChart:e,useCustomSizeChart:!0,sizeChartCategory:e.category}));et(!1)}catch(e){}}})]})}},85557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`C:\Users\HP\Desktop\Obsidian wear\projectt\src\app\admin\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,2207,1223,1685,8056],()=>s(8202));module.exports=a})();