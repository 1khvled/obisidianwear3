(()=>{var e={};e.id=285,e.ids=[285],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},44536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),l=s.n(i),o=s(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4123)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,74322)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,19435)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\checkout\\page.tsx"],u="/checkout/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},92075:(e,t,s)=>{Promise.resolve().then(s.bind(s,58542))},58542:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(95344),a=s(3729),i=s(22254),l=s(22041),o=s(84192),n=s(96304),d=s(729),c=s(63024),u=s(62312);function x(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[p,m]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[f,g]=(0,a.useState)(1),[w,A]=(0,a.useState)(!0),[v,N]=(0,a.useState)(""),[y,k]=(0,a.useState)({name:"",phone:"",email:"",address:"",wilaya:""}),[C,E]=(0,a.useState)(!1),[S,D]=(0,a.useState)(""),[O,P]=(0,a.useState)(null),[B,_]=(0,a.useState)(!1),[T,K]=(0,a.useState)(0);(0,a.useEffect)(()=>{if(T>0){let e=setTimeout(()=>{K(e=>e-1)},1e3);return()=>clearTimeout(e)}0===T&&C&&e.push("/")},[T,C,e]),(0,a.useEffect)(()=>{A(!1)},[]);let q=(e,t)=>{if(!x)return!0;let s=x.stock?.[t]?.[e];return s&&s>0},R=async e=>{if(e.preventDefault(),B)return;if(!t){alert("No product selected");return}if(!p||!b){alert("Please select size and color");return}if(!q(b,p)){alert("Sorry, this item is out of stock. Please select a different size or color.");return}let s=x?.stock?.[p]?.[b]||0;if(f>s){alert(`Sorry, only ${s} items are available in this size and color.`);return}if(!/^0\d{9}$/.test(y.phone)){alert("Please enter a valid phone number");return}if(!y.name||!y.phone||!y.wilaya){alert("Please fill in all required customer information");return}if(!v){alert("Please select a delivery option");return}if("domicile"===v&&!y.address){alert("Please provide your address for home delivery");return}_(!0);let r=F(),a=t.price*f;try{let e={product:{id:t.id,name:t.name,price:t.price,type:t.type||"collection",selectedSize:p,selectedColor:b,quantity:f,subtotal:a,total:a+r},customer:{name:y.name,phone:y.phone,email:y.email,address:y.address,wilaya:y.wilaya},delivery:{option:v,cost:r}},s=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await s.json();i.success?(D(i.order.id),P(e),E(!0),K(10)):alert("Failed to place order: "+i.error)}catch(e){alert("Failed to place order. Please try again.")}finally{_(!1)}},F=()=>y.wilaya&&v&&({Alger:{domicile:400,stop_desk:200},Oran:{domicile:600,stop_desk:300},Constantine:{domicile:800,stop_desk:400},Blida:{domicile:500,stop_desk:250},Setif:{domicile:700,stop_desk:350},Annaba:{domicile:900,stop_desk:450},Batna:{domicile:1e3,stop_desk:500},Djelfa:{domicile:1200,stop_desk:600},"Sidi Bel Abbes":{domicile:800,stop_desk:400},Biskra:{domicile:1e3,stop_desk:500},Tebessa:{domicile:1100,stop_desk:550},"El Oued":{domicile:1200,stop_desk:600},Khenchela:{domicile:1100,stop_desk:550},"Oum El Bouaghi":{domicile:1e3,stop_desk:500},Bouira:{domicile:500,stop_desk:250},Tamanrasset:{domicile:2500,stop_desk:1250}})[y.wilaya]?.[v]||0;if(w)return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[r.jsx(l.default,{}),r.jsx("div",{className:"pt-20 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-xl font-black uppercase tracking-wider",children:"Loading checkout..."})})})]});if(!t)return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[r.jsx(l.default,{}),(0,r.jsxs)("div",{className:"pt-20 flex flex-col items-center justify-center p-4",children:[r.jsx("h1",{className:"text-2xl font-black uppercase tracking-wider mb-4 text-center",children:"No Product Selected"}),r.jsx("p",{className:"text-white/70 mb-6 text-center",children:"Please go back and select a product to order."}),(0,r.jsxs)("button",{onClick:()=>e.push("/"),className:"bg-purple-600 hover:bg-purple-700 text-white font-black py-3 px-6 rounded transition-colors flex items-center gap-2",children:[r.jsx(c.Z,{size:20}),"Go Back"]})]})]});let I=F(),U=t.price*f;return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[r.jsx(l.default,{}),r.jsx("div",{className:"pt-20 pb-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-white hover:text-purple-400 transition-colors mb-6",children:[r.jsx(c.Z,{size:20}),"Back"]}),r.jsx("h1",{className:"text-2xl font-black text-white mb-6 text-center",children:"CHECKOUT"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[t.image&&r.jsx(n.Z,{src:t.image,alt:t.name,width:120,height:120,className:"w-24 h-24 object-cover rounded border border-white/20"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-black text-white",children:t.name}),(0,r.jsxs)("p",{className:"text-xl font-black text-purple-400",children:[t.price.toFixed(0)," DZD"]}),t.category&&r.jsx("span",{className:"text-xs text-purple-400 font-black uppercase tracking-wider",children:t.category})]})]})}),t.sizes&&t.sizes.length>0&&(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-3",children:"SELECT SIZE"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.sizes.map(e=>{let t=(b?x?.stock?.[e]?.[b]||0:x?1:0)>0;return(0,r.jsxs)("button",{onClick:()=>{t&&m(e)},disabled:!t,className:`p-2 border-2 rounded text-center font-black transition-colors relative ${p===e?"border-purple-500 bg-purple-500/20 text-purple-400":t?"border-white/20 text-white hover:border-purple-400":"bg-red-900/50 text-red-400 border-red-500 cursor-not-allowed opacity-75"}`,children:[e,!t&&b&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"\xd7"})})]},e)})})]}),t.colors&&t.colors.length>0&&(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-3",children:"SELECT COLOR"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.colors.map(e=>r.jsx("button",{onClick:()=>{j(e),p&&x?.stock?.[p]?.[e]===0&&m("")},className:`p-2 border-2 rounded text-center font-black transition-colors ${b===e?"border-purple-500 bg-purple-500/20 text-purple-400":"border-white/20 text-white hover:border-purple-400"}`,children:e},e))}),r.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Color selection is for visual reference only"})]}),p&&b&&(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-3",children:"STOCK STATUS"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-medium",children:"Availability:"}),r.jsx("div",{className:"flex items-center gap-2",children:q(b,p)?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-green-400 font-bold",children:"In Stock"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-red-400 font-bold",children:"Out of Stock"})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-3",children:"QUANTITY"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>g(Math.max(1,f-1)),className:"w-8 h-8 border border-white/20 rounded flex items-center justify-center text-white hover:border-purple-400",children:"-"}),r.jsx("span",{className:"text-lg font-black text-white",children:f}),r.jsx("button",{onClick:()=>g(f+1),className:"w-8 h-8 border border-white/20 rounded flex items-center justify-center text-white hover:border-purple-400",children:"+"})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-3",children:"DELIVERY OPTIONS"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("button",{onClick:()=>N("domicile"),className:`w-full p-3 border-2 rounded text-left transition-colors ${"domicile"===v?"border-purple-500 bg-purple-500/20 text-purple-400":"border-white/20 text-white hover:border-purple-400"}`,children:[r.jsx("div",{className:"font-black",children:"\uD83C\uDFE0 HOME DELIVERY"}),r.jsx("div",{className:"text-sm",children:"Delivered to your address"})]}),(0,r.jsxs)("button",{onClick:()=>N("stop_desk"),className:`w-full p-3 border-2 rounded text-left transition-colors ${"stop_desk"===v?"border-purple-500 bg-purple-500/20 text-purple-400":"border-white/20 text-white hover:border-purple-400"}`,children:[r.jsx("div",{className:"font-black",children:"\uD83D\uDCE6 STOP DESK"}),r.jsx("div",{className:"text-sm",children:"Pick up from nearest location"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-4",children:"CUSTOMER INFORMATION"}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",required:!0,value:y.name,onChange:e=>k({...y,name:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your full name"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",required:!0,value:y.phone,onChange:e=>k({...y,phone:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your phone number"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1",children:"Email (Optional)"}),r.jsx("input",{type:"email",value:y.email,onChange:e=>k({...y,email:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your email address"})]}),"domicile"===v&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1",children:"Address *"}),r.jsx("textarea",{required:!0,value:y.address,onChange:e=>k({...y,address:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:border-purple-500 focus:outline-none",placeholder:"Enter your full address",rows:2})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1",children:"Wilaya *"}),(0,r.jsxs)("select",{required:!0,value:y.wilaya,onChange:e=>k({...y,wilaya:e.target.value}),className:"w-full px-3 py-2 bg-black border border-white/20 rounded text-white focus:border-purple-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Select your wilaya"}),r.jsx("option",{value:"Alger",children:"Alger"}),r.jsx("option",{value:"Oran",children:"Oran"}),r.jsx("option",{value:"Constantine",children:"Constantine"}),r.jsx("option",{value:"Blida",children:"Blida"}),r.jsx("option",{value:"Setif",children:"Setif"}),r.jsx("option",{value:"Annaba",children:"Annaba"}),r.jsx("option",{value:"Batna",children:"Batna"}),r.jsx("option",{value:"Djelfa",children:"Djelfa"}),r.jsx("option",{value:"Sidi Bel Abbes",children:"Sidi Bel Abbes"}),r.jsx("option",{value:"Biskra",children:"Biskra"}),r.jsx("option",{value:"Tebessa",children:"Tebessa"}),r.jsx("option",{value:"El Oued",children:"El Oued"}),r.jsx("option",{value:"Khenchela",children:"Khenchela"}),r.jsx("option",{value:"Oum El Bouaghi",children:"Oum El Bouaghi"}),r.jsx("option",{value:"Bouira",children:"Bouira"}),r.jsx("option",{value:"Tamanrasset",children:"Tamanrasset"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 border border-white/20 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-black text-white mb-4",children:"ORDER SUMMARY"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Product:"}),r.jsx("span",{className:"text-white font-medium",children:t.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Size:"}),r.jsx("span",{className:"text-white font-medium",children:p||"Not selected"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Color:"}),r.jsx("span",{className:"text-white font-medium",children:b||"Not selected"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Quantity:"}),r.jsx("span",{className:"text-white font-medium",children:f})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white/70",children:"Subtotal:"}),(0,r.jsxs)("span",{className:"text-white font-medium",children:[U.toFixed(0)," DZD"]})]}),v&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-white/70",children:["Delivery (","domicile"===v?"Home":"Stop Desk","):"]}),(0,r.jsxs)("span",{className:"text-white font-medium",children:[I.toFixed(0)," DZD"]})]}),r.jsx("div",{className:"border-t border-white/20 pt-2",children:(0,r.jsxs)("div",{className:"flex justify-between text-lg font-black",children:[r.jsx("span",{children:"Total:"}),(0,r.jsxs)("span",{children:[(U+I).toFixed(0)," DZD"]})]})})]})]}),r.jsx("button",{onClick:R,disabled:!p||!b||!v||!q(b,p)||B,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white font-black py-3 px-6 rounded transition-colors flex items-center justify-center gap-2 disabled:cursor-not-allowed",children:B?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"PLACING ORDER..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{size:20}),p&&b?q(b,p)?v?"PLACE ORDER":"SELECT DELIVERY OPTION":"OUT OF STOCK":"SELECT SIZE & COLOR"]})})]})]})]})}),r.jsx(o.default,{}),r.jsx(d.Z,{isOpen:C,onClose:()=>E(!1),orderId:S,orderData:O,redirectCountdown:T})]})}},96304:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(95344),a=s(3729),i=s(41223),l=s.n(i);function o({src:e,alt:t,width:s=400,height:i=400,className:o="",priority:n=!1,quality:d=75}){let[c,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),p=()=>{u(!1)},m=()=>{u(!1),h(!0)};return!e||""===e.trim()||x?r.jsx("div",{className:`bg-gray-800 flex items-center justify-center ${o}`,style:{width:s,height:i},children:(0,r.jsxs)("div",{className:"text-gray-400 text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"\uD83D\uDCF7"}),r.jsx("div",{className:"text-sm",children:"Image not available"})]})}):e.startsWith("data:")?(0,r.jsxs)("div",{className:`relative overflow-hidden ${o}`,children:[c&&r.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:s,height:i},children:r.jsx("div",{className:"text-gray-400",children:"Loading..."})}),r.jsx("img",{src:e,alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${c?"opacity-0":"opacity-100"}`,onLoad:p,onError:m})]}):(0,r.jsxs)("div",{className:`relative overflow-hidden ${o}`,children:[c&&r.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center",style:{width:s,height:i},children:r.jsx("div",{className:"text-gray-400",children:"Loading..."})}),r.jsx(l(),{src:e,alt:t,width:s,height:i,quality:d,priority:n,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",className:`transition-opacity duration-300 ${c?"opacity-0":"opacity-100"}`,onLoad:p,onError:m,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:n?"eager":"lazy"})]})}},4123:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,s(86843).createProxy)(String.raw`C:\Users\HP\Desktop\Obsidian wear\projectt\src\app\checkout\page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1638,2207,1223,1685,5581],()=>s(44536));module.exports=r})();