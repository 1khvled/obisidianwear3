"use strict";(()=>{var r={};r.id=636,r.ids=[636],r.modules={517:r=>{r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:r=>{r.exports=require("http")},5687:r=>{r.exports=require("https")},5477:r=>{r.exports=require("punycode")},2781:r=>{r.exports=require("stream")},7310:r=>{r.exports=require("url")},9796:r=>{r.exports=require("zlib")},6342:(r,e,t)=>{t.r(e),t.d(e,{headerHooks:()=>y,originalPathname:()=>S,patchFetch:()=>b,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>h});var o={};t.r(o),t.d(o,{GET:()=>i,POST:()=>l});var s=t(5419),a=t(9108),n=t(9678),u=t(8070),c=t(4750);async function i(){try{let r=await (0,c.OL)();return console.log("Customers API: GET request - returning",r.length,"customers"),u.Z.json({success:!0,data:r,count:r.length,timestamp:Date.now()})}catch(r){return console.error("Customers API: GET error:",r),u.Z.json({success:!1,error:"Failed to fetch customers"},{status:500})}}async function l(r){try{let e=await r.json();if(!e.name||!e.email||!e.phone)return u.Z.json({success:!1,error:"Name, email, and phone are required"},{status:400});if((await (0,c.OL)()).find(r=>r.email===e.email))return u.Z.json({success:!1,error:"Customer with this email already exists"},{status:409});let t={id:`CUST-${Date.now()}`,...e,createdAt:new Date,updatedAt:new Date},o=await (0,c.Sy)(t);return console.log("Customers API: POST request - created customer:",t.id),u.Z.json({success:!0,data:o,message:"Customer created successfully",timestamp:Date.now()},{status:201})}catch(r){return console.error("Customers API: POST error:",r),u.Z.json({success:!1,error:"Failed to create customer"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/customers/route",pathname:"/api/customers",filename:"route",bundlePath:"app/api/customers/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\customers\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:y,staticGenerationBailout:h}=d,S="/api/customers/route";function b(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},4750:(r,e,t)=>{t.d(e,{AU:()=>p,Cs:()=>y,Ir:()=>d,OL:()=>S,Sy:()=>b,Xp:()=>u,co:()=>f,fS:()=>m,gK:()=>i,ix:()=>w,n3:()=>g,nM:()=>l,wH:()=>h,wv:()=>c});var o=t(2409);let s=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://zrmxcjklkthpyanfslsw.supabase.co",a=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpybXhjamtsa3RocHlhbmZzbHN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MDYxMzAsImV4cCI6MjA3MjQ4MjEzMH0.2Tjh9pPzc6BUGoV3lDUBymXzE_dvAGs1O_WewTdetE0",n=(0,o.eI)(s,a);async function u(){try{let{data:r,error:e}=await n.from("products").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getProducts error:",e),[];return r||[]}catch(r){return console.error("Supabase getProducts error:",r),[]}}async function c(r){try{let{data:e,error:t}=await n.from("products").select("*").eq("id",r).single();if(t)return console.error("Supabase getProduct error:",t),null;return e}catch(r){return console.error("Supabase getProduct error:",r),null}}async function i(r){try{let{data:e,error:t}=await n.from("products").insert([r]).select().single();if(t)throw console.error("Supabase addProduct error:",t),t;return console.log("Supabase: Added product:",r.id),e}catch(r){throw console.error("Supabase addProduct error:",r),r}}async function l(r,e){try{let{data:t,error:o}=await n.from("products").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateProduct error:",o),null;return console.log("Supabase: Updated product:",r),t}catch(r){return console.error("Supabase updateProduct error:",r),null}}async function d(r){try{let{error:e}=await n.from("products").delete().eq("id",r);if(e)return console.error("Supabase deleteProduct error:",e),!1;return console.log("Supabase: Deleted product:",r),!0}catch(r){return console.error("Supabase deleteProduct error:",r),!1}}async function p(){try{let{data:r,error:e}=await n.from("orders").select("*").order("order_date",{ascending:!1});if(e)return console.error("Supabase getOrders error:",e),[];return r||[]}catch(r){return console.error("Supabase getOrders error:",r),[]}}async function f(r){try{let{data:e,error:t}=await n.from("orders").select("*").eq("id",r).single();if(t)return console.error("Supabase getOrder error:",t),null;return e}catch(r){return console.error("Supabase getOrder error:",r),null}}async function m(r){try{let{data:e,error:t}=await n.from("orders").insert([r]).select().single();if(t)throw console.error("Supabase addOrder error:",t),t;return console.log("Supabase: Added order:",r.id),e}catch(r){throw console.error("Supabase addOrder error:",r),r}}async function y(r,e){try{let{data:t,error:o}=await n.from("orders").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateOrder error:",o),null;return console.log("Supabase: Updated order:",r),t}catch(r){return console.error("Supabase updateOrder error:",r),null}}async function h(r){try{let{error:e}=await n.from("orders").delete().eq("id",r);if(e)return console.error("Supabase deleteOrder error:",e),!1;return console.log("Supabase: Deleted order:",r),!0}catch(r){return console.error("Supabase deleteOrder error:",r),!1}}async function S(){try{let{data:r,error:e}=await n.from("customers").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getCustomers error:",e),[];return r||[]}catch(r){return console.error("Supabase getCustomers error:",r),[]}}async function b(r){try{let{data:e,error:t}=await n.from("customers").insert([r]).select().single();if(t)throw console.error("Supabase addCustomer error:",t),t;return e}catch(r){throw console.error("Supabase addCustomer error:",r),r}}async function g(){try{let{data:r,error:e}=await n.from("wilaya_tariffs").select("*").order("order",{ascending:!0});if(e)return console.error("Supabase getWilayaTariffs error:",e),[];return r||[]}catch(r){return console.error("Supabase getWilayaTariffs error:",r),[]}}async function w(r){try{if(await n.from("wilaya_tariffs").delete().neq("id",0),r.length>0){let{error:e}=await n.from("wilaya_tariffs").insert(r);if(e)throw console.error("Supabase updateWilayaTariffs error:",e),e}console.log("Supabase: Updated wilaya tariffs")}catch(r){throw console.error("Supabase updateWilayaTariffs error:",r),r}}}};var e=require("../../../webpack-runtime.js");e.C(r);var t=r=>e(e.s=r),o=e.X(0,[638,206,409],()=>t(6342));module.exports=o})();