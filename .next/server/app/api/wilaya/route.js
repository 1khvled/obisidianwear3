"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/wilaya/route";
exports.ids = ["app/api/wilaya/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwilaya%2Froute&page=%2Fapi%2Fwilaya%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwilaya%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwilaya%2Froute&page=%2Fapi%2Fwilaya%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwilaya%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_HP_Desktop_Obsidian_wear_projectt_src_app_api_wilaya_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/wilaya/route.ts */ \"(rsc)/./src/app/api/wilaya/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/wilaya/route\",\n        pathname: \"/api/wilaya\",\n        filename: \"route\",\n        bundlePath: \"app/api/wilaya/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\HP\\\\Desktop\\\\Obsidian wear\\\\projectt\\\\src\\\\app\\\\api\\\\wilaya\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_HP_Desktop_Obsidian_wear_projectt_src_app_api_wilaya_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/wilaya/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ3aWxheWElMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRndpbGF5YSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRndpbGF5YSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIUCU1Q0Rlc2t0b3AlNUNPYnNpZGlhbiUyMHdlYXIlNUNwcm9qZWN0dCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSFAlNUNEZXNrdG9wJTVDT2JzaWRpYW4lMjB3ZWFyJTVDcHJvamVjdHQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2dDO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2JzaWRpYW4td2Vhci8/NTlhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIUFxcXFxEZXNrdG9wXFxcXE9ic2lkaWFuIHdlYXJcXFxccHJvamVjdHRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcd2lsYXlhXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvd2lsYXlhL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvd2lsYXlhXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS93aWxheWEvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxIUFxcXFxEZXNrdG9wXFxcXE9ic2lkaWFuIHdlYXJcXFxccHJvamVjdHRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcd2lsYXlhXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3dpbGF5YS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwilaya%2Froute&page=%2Fapi%2Fwilaya%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwilaya%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/wilaya/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/wilaya/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabaseDatabase */ \"(rsc)/./src/lib/supabaseDatabase.ts\");\n\n\n// GET /api/wilaya - Get all wilaya tariffs\nasync function GET() {\n    try {\n        console.log(\"\\uD83D\\uDD27 Wilaya API: GET request received\");\n        const wilayaTariffs = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.getWilayaTariffs)();\n        console.log(\"\\uD83D\\uDD27 Wilaya API: Retrieved\", wilayaTariffs.length, \"wilaya tariffs from database\");\n        console.log(\"\\uD83D\\uDD27 Wilaya API: Sample tariff:\", wilayaTariffs[0]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: wilayaTariffs,\n            count: wilayaTariffs.length,\n            timestamp: Date.now()\n        });\n    } catch (error) {\n        console.error(\"❌ Wilaya API: GET error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch wilaya tariffs\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT /api/wilaya - Update wilaya tariffs\nasync function PUT(request) {\n    try {\n        const newTariffs = await request.json();\n        // Validate data structure\n        if (!Array.isArray(newTariffs)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Data must be an array of wilaya tariffs\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate each tariff\n        for (const tariff of newTariffs){\n            if (!tariff.name || typeof tariff.homeDelivery !== \"number\" || typeof tariff.stopDesk !== \"number\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    success: false,\n                    error: \"Each tariff must have name, homeDelivery, and stopDesk\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.updateWilayaTariffs)(newTariffs);\n        const updatedTariffs = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.getWilayaTariffs)();\n        console.log(\"Wilaya API: PUT request - updated\", updatedTariffs.length, \"wilaya tariffs\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: updatedTariffs,\n            message: \"Wilaya tariffs updated successfully\",\n            timestamp: Date.now()\n        });\n    } catch (error) {\n        console.error(\"Wilaya API: PUT error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to update wilaya tariffs\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS93aWxheWEvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUN1QjtBQUUvRSwyQ0FBMkM7QUFDcEMsZUFBZUc7SUFDcEIsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNQyxnQkFBZ0IsTUFBTUwsdUVBQWdCQTtRQUM1Q0csUUFBUUMsR0FBRyxDQUFDLHNDQUE0QkMsY0FBY0MsTUFBTSxFQUFFO1FBQzlESCxRQUFRQyxHQUFHLENBQUMsMkNBQWlDQyxhQUFhLENBQUMsRUFBRTtRQUM3RCxPQUFPTixrRkFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU1KO1lBQ05LLE9BQU9MLGNBQWNDLE1BQU07WUFDM0JLLFdBQVdDLEtBQUtDLEdBQUc7UUFDckI7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZFgsUUFBUVcsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT2Ysa0ZBQVlBLENBQUNRLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPTSxPQUFPO1FBQWlDLEdBQzFEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsMENBQTBDO0FBQ25DLGVBQWVDLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNQyxhQUFhLE1BQU1ELFFBQVFWLElBQUk7UUFFckMsMEJBQTBCO1FBQzFCLElBQUksQ0FBQ1ksTUFBTUMsT0FBTyxDQUFDRixhQUFhO1lBQzlCLE9BQU9uQixrRkFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT00sT0FBTztZQUEwQyxHQUNuRTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsdUJBQXVCO1FBQ3ZCLEtBQUssTUFBTU0sVUFBVUgsV0FBWTtZQUMvQixJQUFJLENBQUNHLE9BQU9DLElBQUksSUFBSSxPQUFPRCxPQUFPRSxZQUFZLEtBQUssWUFBWSxPQUFPRixPQUFPRyxRQUFRLEtBQUssVUFBVTtnQkFDbEcsT0FBT3pCLGtGQUFZQSxDQUFDUSxJQUFJLENBQ3RCO29CQUFFQyxTQUFTO29CQUFPTSxPQUFPO2dCQUF5RCxHQUNsRjtvQkFBRUMsUUFBUTtnQkFBSTtZQUVsQjtRQUNGO1FBRUEsTUFBTWQsMEVBQW1CQSxDQUFDaUI7UUFFMUIsTUFBTU8saUJBQWlCLE1BQU16Qix1RUFBZ0JBO1FBQzdDRyxRQUFRQyxHQUFHLENBQUMscUNBQXFDcUIsZUFBZW5CLE1BQU0sRUFBRTtRQUV4RSxPQUFPUCxrRkFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU1nQjtZQUNOQyxTQUFTO1lBQ1RmLFdBQVdDLEtBQUtDLEdBQUc7UUFDckI7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZFgsUUFBUVcsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT2Ysa0ZBQVlBLENBQUNRLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPTSxPQUFPO1FBQWtDLEdBQzNEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2JzaWRpYW4td2Vhci8uL3NyYy9hcHAvYXBpL3dpbGF5YS9yb3V0ZS50cz9kN2JiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRXaWxheWFUYXJpZmZzLCB1cGRhdGVXaWxheWFUYXJpZmZzIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VEYXRhYmFzZSc7XG5cbi8vIEdFVCAvYXBpL3dpbGF5YSAtIEdldCBhbGwgd2lsYXlhIHRhcmlmZnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgV2lsYXlhIEFQSTogR0VUIHJlcXVlc3QgcmVjZWl2ZWQnKTtcbiAgICBjb25zdCB3aWxheWFUYXJpZmZzID0gYXdhaXQgZ2V0V2lsYXlhVGFyaWZmcygpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SnIFdpbGF5YSBBUEk6IFJldHJpZXZlZCcsIHdpbGF5YVRhcmlmZnMubGVuZ3RoLCAnd2lsYXlhIHRhcmlmZnMgZnJvbSBkYXRhYmFzZScpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SnIFdpbGF5YSBBUEk6IFNhbXBsZSB0YXJpZmY6Jywgd2lsYXlhVGFyaWZmc1swXSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB3aWxheWFUYXJpZmZzLFxuICAgICAgY291bnQ6IHdpbGF5YVRhcmlmZnMubGVuZ3RoLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFdpbGF5YSBBUEk6IEdFVCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggd2lsYXlhIHRhcmlmZnMnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIFBVVCAvYXBpL3dpbGF5YSAtIFVwZGF0ZSB3aWxheWEgdGFyaWZmc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IG5ld1RhcmlmZnMgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBkYXRhIHN0cnVjdHVyZVxuICAgIGlmICghQXJyYXkuaXNBcnJheShuZXdUYXJpZmZzKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0RhdGEgbXVzdCBiZSBhbiBhcnJheSBvZiB3aWxheWEgdGFyaWZmcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGVhY2ggdGFyaWZmXG4gICAgZm9yIChjb25zdCB0YXJpZmYgb2YgbmV3VGFyaWZmcykge1xuICAgICAgaWYgKCF0YXJpZmYubmFtZSB8fCB0eXBlb2YgdGFyaWZmLmhvbWVEZWxpdmVyeSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHRhcmlmZi5zdG9wRGVzayAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRWFjaCB0YXJpZmYgbXVzdCBoYXZlIG5hbWUsIGhvbWVEZWxpdmVyeSwgYW5kIHN0b3BEZXNrJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHVwZGF0ZVdpbGF5YVRhcmlmZnMobmV3VGFyaWZmcyk7XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZFRhcmlmZnMgPSBhd2FpdCBnZXRXaWxheWFUYXJpZmZzKCk7XG4gICAgY29uc29sZS5sb2coJ1dpbGF5YSBBUEk6IFBVVCByZXF1ZXN0IC0gdXBkYXRlZCcsIHVwZGF0ZWRUYXJpZmZzLmxlbmd0aCwgJ3dpbGF5YSB0YXJpZmZzJyk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB1cGRhdGVkVGFyaWZmcyxcbiAgICAgIG1lc3NhZ2U6ICdXaWxheWEgdGFyaWZmcyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdXaWxheWEgQVBJOiBQVVQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSB3aWxheWEgdGFyaWZmcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRXaWxheWFUYXJpZmZzIiwidXBkYXRlV2lsYXlhVGFyaWZmcyIsIkdFVCIsImNvbnNvbGUiLCJsb2ciLCJ3aWxheWFUYXJpZmZzIiwibGVuZ3RoIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwiY291bnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZXJyb3IiLCJzdGF0dXMiLCJQVVQiLCJyZXF1ZXN0IiwibmV3VGFyaWZmcyIsIkFycmF5IiwiaXNBcnJheSIsInRhcmlmZiIsIm5hbWUiLCJob21lRGVsaXZlcnkiLCJzdG9wRGVzayIsInVwZGF0ZWRUYXJpZmZzIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/wilaya/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabaseDatabase.ts":
/*!*************************************!*\
  !*** ./src/lib/supabaseDatabase.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCustomer: () => (/* binding */ addCustomer),\n/* harmony export */   addOrder: () => (/* binding */ addOrder),\n/* harmony export */   addProduct: () => (/* binding */ addProduct),\n/* harmony export */   clearProductsCache: () => (/* binding */ clearProductsCache),\n/* harmony export */   deductStockFromOrder: () => (/* binding */ deductStockFromOrder),\n/* harmony export */   deleteOrder: () => (/* binding */ deleteOrder),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   getCustomers: () => (/* binding */ getCustomers),\n/* harmony export */   getInventory: () => (/* binding */ getInventory),\n/* harmony export */   getMaintenanceSettings: () => (/* binding */ getMaintenanceSettings),\n/* harmony export */   getOrder: () => (/* binding */ getOrder),\n/* harmony export */   getOrders: () => (/* binding */ getOrders),\n/* harmony export */   getProduct: () => (/* binding */ getProduct),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getWilayaTariffs: () => (/* binding */ getWilayaTariffs),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   updateInventory: () => (/* binding */ updateInventory),\n/* harmony export */   updateMaintenanceSettings: () => (/* binding */ updateMaintenanceSettings),\n/* harmony export */   updateOrder: () => (/* binding */ updateOrder),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   updateWilayaTariffs: () => (/* binding */ updateWilayaTariffs)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n// Database service using Supabase (free tier)\n// This provides persistent storage with a real database\n\n// Supabase configuration - MUST use environment variables\nconst supabaseUrl = \"https://twlegtqcyydgjkycxngw.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3bGVndHFjeXlkZ2preWN4bmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNzQ2MDAsImV4cCI6MjA3Mjc1MDYwMH0.uD9GD_ksHCDgmmPAgR7fcLUAJHRJtTkT-J-SVjU-WR0\";\nif (!supabaseUrl || !supabaseKey) {\n    throw new Error(\"Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n// Export the supabase client for direct use\n\n// Helper function to convert database product to Product interface\nfunction convertDbProductToProduct(dbProduct) {\n    // Debug logging\n    console.log(\"\\uD83D\\uDD0D DEBUG: Raw price from DB:\", dbProduct.price, \"Type:\", typeof dbProduct.price);\n    console.log(\"\\uD83D\\uDD0D DEBUG: Parsed price:\", parseFloat(dbProduct.price), \"Type:\", typeof parseFloat(dbProduct.price));\n    const convertedProduct = {\n        id: dbProduct.id,\n        name: dbProduct.name,\n        description: dbProduct.description,\n        price: parseFloat(dbProduct.price),\n        originalPrice: dbProduct.original_price ? parseFloat(dbProduct.original_price) : undefined,\n        image: dbProduct.image,\n        images: dbProduct.images || [],\n        stock: dbProduct.stock || {},\n        category: dbProduct.category,\n        sizes: dbProduct.sizes || [],\n        colors: dbProduct.colors || [],\n        inStock: dbProduct.in_stock,\n        rating: parseFloat(dbProduct.rating || 0),\n        reviews: dbProduct.reviews || 0,\n        sku: dbProduct.sku,\n        weight: dbProduct.weight ? parseFloat(dbProduct.weight) : undefined,\n        dimensions: dbProduct.dimensions,\n        tags: dbProduct.tags || [],\n        featured: dbProduct.featured || false,\n        sizeChartCategory: dbProduct.size_chart_category || \"T-Shirts\",\n        customSizeChart: dbProduct.custom_size_chart || undefined,\n        useCustomSizeChart: dbProduct.use_custom_size_chart || false,\n        createdAt: new Date(dbProduct.created_at),\n        updatedAt: new Date(dbProduct.updated_at)\n    };\n    console.log(\"\\uD83D\\uDD0D DEBUG: Final converted product price:\", convertedProduct.price, \"Type:\", typeof convertedProduct.price);\n    return convertedProduct;\n}\n// Cache for products to reduce database calls\nlet productsCache = null;\nlet productsCacheTime = 0;\nconst CACHE_DURATION = 30000; // 30 seconds\n// Clear cache function\nfunction clearProductsCache() {\n    productsCache = null;\n    productsCacheTime = 0;\n    console.log(\"Supabase: Products cache cleared\");\n}\n// Force clear cache immediately to fix price formatting issue\nclearProductsCache();\n// Add timestamp to force cache invalidation\nconst CACHE_BUSTER = Date.now();\nconsole.log(\"\\uD83D\\uDE80 Cache buster timestamp:\", CACHE_BUSTER);\n// Products operations\nasync function getProducts() {\n    try {\n        // Return cached data if still fresh\n        if (productsCache && Date.now() - productsCacheTime < CACHE_DURATION) {\n            console.log(\"Supabase: Returning cached products\");\n            return productsCache;\n        }\n        const { data, error } = await supabase.from(\"products\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getProducts error:\", error);\n            return productsCache || [];\n        }\n        const products = (data || []).map(convertDbProductToProduct);\n        // Update cache\n        productsCache = products;\n        productsCacheTime = Date.now();\n        return products;\n    } catch (error) {\n        console.error(\"Supabase getProducts error:\", error);\n        return productsCache || [];\n    }\n}\nasync function getProduct(id) {\n    try {\n        const { data, error } = await supabase.from(\"products\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            console.error(\"Supabase getProduct error:\", error);\n            return null;\n        }\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase getProduct error:\", error);\n        return null;\n    }\n}\nasync function addProduct(product) {\n    try {\n        console.log(\"\\uD83D\\uDD27 Supabase addProduct: Starting to add product:\", product.id, product.name);\n        // Check if Supabase is properly configured\n        if (!supabase) {\n            console.error(\"❌ Supabase: Client not initialized\");\n            throw new Error(\"Supabase client not initialized\");\n        }\n        // Convert camelCase to snake_case for database\n        // Only include columns that exist in the current database schema\n        const dbProduct = {\n            id: product.id,\n            name: product.name,\n            description: product.description,\n            price: product.price,\n            original_price: product.originalPrice,\n            image: product.image,\n            images: product.images || [],\n            stock: product.stock,\n            category: product.category,\n            sizes: product.sizes || [],\n            colors: product.colors || [],\n            in_stock: product.inStock,\n            rating: product.rating,\n            reviews: product.reviews,\n            sku: product.sku,\n            weight: product.weight,\n            dimensions: product.dimensions,\n            tags: product.tags || [],\n            featured: product.featured || false,\n            custom_size_chart: product.customSizeChart || null,\n            use_custom_size_chart: product.useCustomSizeChart || false,\n            size_chart_category: product.sizeChartCategory || product.category\n        };\n        console.log(\"\\uD83D\\uDD27 Supabase addProduct: Database product object:\", JSON.stringify(dbProduct, null, 2));\n        console.log(\"\\uD83D\\uDD27 Supabase addProduct: Attempting to insert into products table...\");\n        const { data, error } = await supabase.from(\"products\").insert([\n            dbProduct\n        ]).select().single();\n        console.log(\"\\uD83D\\uDD27 Supabase addProduct: Insert result - data:\", data);\n        console.log(\"\\uD83D\\uDD27 Supabase addProduct: Insert result - error:\", error);\n        if (error) {\n            console.error(\"❌ Supabase addProduct error:\", error);\n            console.error(\"❌ Supabase addProduct error details:\", JSON.stringify(error, null, 2));\n            console.error(\"❌ Supabase addProduct error code:\", error.code);\n            console.error(\"❌ Supabase addProduct error message:\", error.message);\n            console.error(\"❌ Supabase addProduct error hint:\", error.hint);\n            throw new Error(`Supabase insert failed: ${error.message} (Code: ${error.code})`);\n        }\n        console.log(\"Supabase: Added product:\", product.id);\n        // Initialize inventory for the new product\n        try {\n            const { initializeProductInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n            await initializeProductInventory(product.id);\n            console.log(\"Supabase: Initialized inventory for product:\", product.id);\n        } catch (inventoryError) {\n            console.error(\"Supabase: Failed to initialize inventory for product:\", product.id, inventoryError);\n        // Don't throw error here, product creation should still succeed\n        }\n        // Invalidate cache\n        productsCache = null;\n        // Convert back to camelCase\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase addProduct error:\", error);\n        throw error;\n    }\n}\nasync function updateProduct(id, product) {\n    try {\n        // Convert camelCase to snake_case for database\n        const dbProduct = {};\n        if (product.name !== undefined) dbProduct.name = product.name;\n        if (product.description !== undefined) dbProduct.description = product.description;\n        if (product.price !== undefined) dbProduct.price = product.price;\n        if (product.originalPrice !== undefined) dbProduct.original_price = product.originalPrice;\n        if (product.image !== undefined) dbProduct.image = product.image;\n        if (product.images !== undefined) dbProduct.images = product.images;\n        if (product.stock !== undefined) dbProduct.stock = product.stock;\n        if (product.category !== undefined) dbProduct.category = product.category;\n        if (product.sizes !== undefined) dbProduct.sizes = product.sizes;\n        if (product.colors !== undefined) dbProduct.colors = product.colors;\n        if (product.inStock !== undefined) dbProduct.in_stock = product.inStock;\n        if (product.rating !== undefined) dbProduct.rating = product.rating;\n        if (product.reviews !== undefined) dbProduct.reviews = product.reviews;\n        if (product.sku !== undefined) dbProduct.sku = product.sku;\n        if (product.weight !== undefined) dbProduct.weight = product.weight;\n        if (product.dimensions !== undefined) dbProduct.dimensions = product.dimensions;\n        if (product.tags !== undefined) dbProduct.tags = product.tags;\n        if (product.featured !== undefined) dbProduct.featured = product.featured;\n        if (product.sizeChartCategory !== undefined) dbProduct.size_chart_category = product.sizeChartCategory;\n        if (product.customSizeChart !== undefined) dbProduct.custom_size_chart = product.customSizeChart;\n        if (product.useCustomSizeChart !== undefined) dbProduct.use_custom_size_chart = product.useCustomSizeChart;\n        const { data, error } = await supabase.from(\"products\").update(dbProduct).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Supabase updateProduct error:\", error);\n            return null;\n        }\n        console.log(\"Supabase: Updated product:\", id);\n        // Invalidate cache\n        productsCache = null;\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase updateProduct error:\", error);\n        return null;\n    }\n}\nasync function deleteProduct(id) {\n    try {\n        const { error } = await supabase.from(\"products\").delete().eq(\"id\", id);\n        if (error) {\n            console.error(\"Supabase deleteProduct error:\", error);\n            return false;\n        }\n        console.log(\"Supabase: Deleted product:\", id);\n        // Invalidate cache\n        productsCache = null;\n        return true;\n    } catch (error) {\n        console.error(\"Supabase deleteProduct error:\", error);\n        return false;\n    }\n}\n// Helper function to convert database order to Order interface\nfunction convertDbOrderToOrder(dbOrder) {\n    // Extract customer info from items or use defaults\n    const firstItem = dbOrder.items && dbOrder.items.length > 0 ? dbOrder.items[0] : {};\n    return {\n        id: dbOrder.id,\n        productId: firstItem.productId || \"\",\n        productName: firstItem.productName || \"\",\n        productImage: firstItem.productImage || \"\",\n        customerName: firstItem.customerName || \"\",\n        customerPhone: firstItem.customerPhone || \"\",\n        customerEmail: firstItem.customerEmail || \"\",\n        customerAddress: firstItem.customerAddress || \"\",\n        customerCity: firstItem.customerCity || \"\",\n        wilayaId: firstItem.wilayaId || 0,\n        wilayaName: firstItem.wilayaName || \"\",\n        shippingType: dbOrder.shipping_type || \"homeDelivery\",\n        shippingCost: Number(dbOrder.shipping_cost) || 0,\n        quantity: firstItem.quantity || 1,\n        selectedSize: firstItem.selectedSize || \"\",\n        selectedColor: firstItem.selectedColor || \"\",\n        subtotal: Number(dbOrder.total) - Number(dbOrder.shipping_cost) || 0,\n        total: Number(dbOrder.total) || 0,\n        orderDate: new Date(dbOrder.order_date),\n        status: dbOrder.status || \"pending\",\n        trackingNumber: dbOrder.tracking_number,\n        notes: firstItem.notes,\n        paymentMethod: dbOrder.payment_method || \"cod\",\n        paymentStatus: dbOrder.payment_status || \"pending\",\n        estimatedDelivery: firstItem.estimatedDelivery,\n        createdAt: new Date(dbOrder.created_at),\n        updatedAt: new Date(dbOrder.updated_at)\n    };\n}\n// Cache for orders to reduce database calls\nlet ordersCache = null;\nlet ordersCacheTime = 0;\n// Orders operations\nasync function getOrders() {\n    try {\n        // Return cached data if still fresh\n        if (ordersCache && Date.now() - ordersCacheTime < CACHE_DURATION) {\n            console.log(\"Supabase: Returning cached orders\");\n            return ordersCache;\n        }\n        const { data, error } = await supabase.from(\"orders\").select(\"*\").order(\"order_date\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getOrders error:\", error);\n            return ordersCache || [];\n        }\n        const orders = (data || []).map(convertDbOrderToOrder);\n        // Update cache\n        ordersCache = orders;\n        ordersCacheTime = Date.now();\n        return orders;\n    } catch (error) {\n        console.error(\"Supabase getOrders error:\", error);\n        return ordersCache || [];\n    }\n}\nasync function getOrder(id) {\n    try {\n        const { data, error } = await supabase.from(\"orders\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            console.error(\"Supabase getOrder error:\", error);\n            return null;\n        }\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase getOrder error:\", error);\n        return null;\n    }\n}\nasync function addOrder(order) {\n    try {\n        // Convert Order interface to database format\n        const dbOrder = {\n            id: order.id,\n            customer_id: `CUST-${Date.now()}`,\n            items: [\n                {\n                    productId: order.productId,\n                    productName: order.productName,\n                    productImage: order.productImage,\n                    customerName: order.customerName,\n                    customerPhone: order.customerPhone,\n                    customerEmail: order.customerEmail,\n                    customerAddress: order.customerAddress,\n                    customerCity: order.customerCity,\n                    wilayaId: order.wilayaId,\n                    wilayaName: order.wilayaName,\n                    quantity: order.quantity,\n                    selectedSize: order.selectedSize,\n                    selectedColor: order.selectedColor,\n                    notes: order.notes,\n                    estimatedDelivery: order.estimatedDelivery\n                }\n            ],\n            total: order.total,\n            shipping_cost: order.shippingCost,\n            shipping_type: order.shippingType,\n            payment_method: order.paymentMethod,\n            payment_status: order.paymentStatus,\n            status: order.status,\n            tracking_number: order.trackingNumber,\n            order_date: order.orderDate.toISOString(),\n            created_at: order.createdAt.toISOString(),\n            updated_at: order.updatedAt.toISOString()\n        };\n        const { data, error } = await supabase.from(\"orders\").insert([\n            dbOrder\n        ]).select().single();\n        if (error) {\n            console.error(\"Supabase addOrder error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Added order:\", order.id);\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase addOrder error:\", error);\n        throw error;\n    }\n}\nasync function updateOrder(id, order) {\n    try {\n        // Convert partial Order to database format\n        const updateData = {\n            updated_at: new Date().toISOString()\n        };\n        if (order.status !== undefined) updateData.status = order.status;\n        if (order.paymentStatus !== undefined) updateData.payment_status = order.paymentStatus;\n        if (order.trackingNumber !== undefined) updateData.tracking_number = order.trackingNumber;\n        if (order.shippingType !== undefined) updateData.shipping_type = order.shippingType;\n        if (order.shippingCost !== undefined) updateData.shipping_cost = order.shippingCost;\n        if (order.total !== undefined) updateData.total = order.total;\n        if (order.paymentMethod !== undefined) updateData.payment_method = order.paymentMethod;\n        const { data, error } = await supabase.from(\"orders\").update(updateData).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Supabase updateOrder error:\", error);\n            return null;\n        }\n        console.log(\"Supabase: Updated order:\", id);\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase updateOrder error:\", error);\n        return null;\n    }\n}\nasync function deleteOrder(id) {\n    try {\n        // First, get the order details to restore inventory\n        const order = await getOrder(id);\n        if (!order) {\n            console.error(\"Supabase deleteOrder: Order not found:\", id);\n            return false;\n        }\n        // Restore inventory quantity\n        if (order.productId && order.selectedSize && order.selectedColor && order.quantity) {\n            try {\n                const { addInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n                const inventoryRestored = await addInventory(order.productId, order.selectedSize, order.selectedColor, order.quantity, `Order ${id} deleted - inventory restored`, \"admin\");\n                if (inventoryRestored) {\n                    console.log(\"Supabase deleteOrder: Inventory restored for order:\", id);\n                } else {\n                    console.warn(\"Supabase deleteOrder: Failed to restore inventory for order:\", id);\n                }\n            } catch (inventoryError) {\n                console.error(\"Supabase deleteOrder: Inventory restoration error:\", inventoryError);\n            // Continue with order deletion even if inventory restoration fails\n            }\n        }\n        // Delete the order\n        const { error } = await supabase.from(\"orders\").delete().eq(\"id\", id);\n        if (error) {\n            console.error(\"Supabase deleteOrder error:\", error);\n            return false;\n        }\n        console.log(\"Supabase: Deleted order:\", id);\n        return true;\n    } catch (error) {\n        console.error(\"Supabase deleteOrder error:\", error);\n        return false;\n    }\n}\n// Wilaya operations\nasync function getWilayaTariffs() {\n    try {\n        const { data, error } = await supabase.from(\"wilaya_tariffs\").select(\"*\").order(\"order\", {\n            ascending: true\n        });\n        if (error) {\n            console.error(\"Supabase getWilayaTariffs error:\", error);\n            return [];\n        }\n        // Transform the data to match the expected format\n        const transformedData = (data || []).map((tariff)=>({\n                id: tariff.id.toString(),\n                wilaya_id: tariff.wilaya_id,\n                name: tariff.name,\n                domicile_ecommerce: tariff.domicile_ecommerce,\n                stop_desk_ecommerce: tariff.stop_desk_ecommerce,\n                order: tariff.order,\n                // Legacy compatibility for backward compatibility\n                home_delivery: tariff.domicile_ecommerce,\n                stop_desk: tariff.stop_desk_ecommerce,\n                homeDelivery: tariff.domicile_ecommerce,\n                stopDesk: tariff.stop_desk_ecommerce,\n                domicileEcommerce: tariff.domicile_ecommerce,\n                stopDeskEcommerce: tariff.stop_desk_ecommerce\n            }));\n        return transformedData;\n    } catch (error) {\n        console.error(\"Supabase getWilayaTariffs error:\", error);\n        return [];\n    }\n}\nasync function updateWilayaTariffs(tariffs) {\n    try {\n        // Delete all existing tariffs\n        await supabase.from(\"wilaya_tariffs\").delete().neq(\"id\", 0); // Delete all records\n        // Insert new tariffs\n        if (tariffs.length > 0) {\n            // Transform the data to match database structure\n            const transformedTariffs = tariffs.map((tariff)=>({\n                    wilaya_id: tariff.wilaya_id || tariff.id,\n                    name: tariff.name,\n                    domicile_ecommerce: tariff.domicile_ecommerce || tariff.domicileEcommerce || tariff.home_delivery || tariff.homeDelivery || 0,\n                    stop_desk_ecommerce: tariff.stop_desk_ecommerce || tariff.stopDeskEcommerce || tariff.stop_desk || tariff.stopDesk || 0,\n                    order: tariff.order || 1\n                }));\n            const { error } = await supabase.from(\"wilaya_tariffs\").insert(transformedTariffs);\n            if (error) {\n                console.error(\"Supabase updateWilayaTariffs error:\", error);\n                throw error;\n            }\n        }\n        console.log(\"Supabase: Updated wilaya tariffs\");\n    } catch (error) {\n        console.error(\"Supabase updateWilayaTariffs error:\", error);\n        throw error;\n    }\n}\n// Inventory operations\nasync function getInventory() {\n    try {\n        const { data, error } = await supabase.from(\"products\").select(\"id, name, sku, stock, sizes, colors, in_stock, category\").order(\"name\");\n        if (error) {\n            console.error(\"Supabase getInventory error:\", error);\n            return [];\n        }\n        // Transform data for inventory management\n        return (data || []).map((product)=>({\n                id: product.id,\n                name: product.name,\n                sku: product.sku,\n                category: product.category,\n                inStock: product.in_stock,\n                stock: product.stock || {},\n                sizes: product.sizes || [],\n                colors: product.colors || [],\n                totalStock: calculateTotalStock(product.stock || {}),\n                stockBySize: calculateStockBySize(product.stock || {}, product.sizes || [], product.colors || [])\n            }));\n    } catch (error) {\n        console.error(\"Supabase getInventory error:\", error);\n        return [];\n    }\n}\nasync function updateInventory(productId, stockData) {\n    try {\n        const updateObj = {\n            updated_at: new Date().toISOString()\n        };\n        if (stockData.stock) {\n            updateObj.stock = stockData.stock;\n        }\n        if (stockData.inStock !== undefined) {\n            updateObj.in_stock = stockData.inStock;\n        }\n        const { data, error } = await supabase.from(\"products\").update(updateObj).eq(\"id\", productId).select().single();\n        if (error) {\n            console.error(\"Supabase updateInventory error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Updated inventory for product:\", productId);\n        return {\n            id: data.id,\n            name: data.name,\n            stock: data.stock,\n            inStock: data.in_stock,\n            totalStock: calculateTotalStock(data.stock)\n        };\n    } catch (error) {\n        console.error(\"Supabase updateInventory error:\", error);\n        throw error;\n    }\n}\n// Helper functions for inventory calculations\nfunction calculateTotalStock(stock) {\n    if (!stock || typeof stock !== \"object\") return 0;\n    let total = 0;\n    for(const size in stock){\n        if (typeof stock[size] === \"object\") {\n            for(const color in stock[size]){\n                total += Number(stock[size][color]) || 0;\n            }\n        }\n    }\n    return total;\n}\nfunction calculateStockBySize(stock, sizes, colors) {\n    const result = {};\n    sizes.forEach((size)=>{\n        result[size] = {};\n        colors.forEach((color)=>{\n            result[size][color] = Number(stock[size]?.[color]) || 0;\n        });\n    });\n    return result;\n}\n// Stock deduction function for orders\nasync function deductStockFromOrder(order) {\n    try {\n        console.log(\"Supabase: Deducting stock for order:\", order.id);\n        // Get the product\n        const product = await getProduct(order.productId);\n        if (!product) {\n            console.error(\"Supabase: Product not found for order:\", order.productId);\n            return false;\n        }\n        // Check if we have enough stock\n        const currentStock = product.stock?.[order.selectedSize]?.[order.selectedColor] || 0;\n        if (currentStock < order.quantity) {\n            console.error(\"Supabase: Insufficient stock for order:\", {\n                productId: order.productId,\n                size: order.selectedSize,\n                color: order.selectedColor,\n                requested: order.quantity,\n                available: currentStock\n            });\n            return false;\n        }\n        // Deduct the stock from product\n        const newStock = {\n            ...product.stock,\n            [order.selectedSize]: {\n                ...product.stock?.[order.selectedSize],\n                [order.selectedColor]: currentStock - order.quantity\n            }\n        };\n        // Update the product stock\n        const updatedProduct = await updateProduct(order.productId, {\n            stock: newStock,\n            inStock: calculateTotalStock(newStock) > 0\n        });\n        if (!updatedProduct) {\n            console.error(\"Supabase: Failed to update product stock for order:\", order.id);\n            return false;\n        }\n        // Also deduct from inventory system\n        try {\n            const { addInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n            const inventoryDeducted = await addInventory(order.productId, order.selectedSize, order.selectedColor, -order.quantity, `Order ${order.id} created - stock deducted`, \"system\");\n            if (inventoryDeducted) {\n                console.log(\"Supabase: Successfully deducted inventory for order:\", order.id);\n            } else {\n                console.warn(\"Supabase: Failed to deduct inventory for order:\", order.id);\n            }\n        } catch (inventoryError) {\n            console.error(\"Supabase: Inventory deduction error:\", inventoryError);\n        // Continue even if inventory update fails\n        }\n        console.log(\"Supabase: Successfully deducted stock for order:\", order.id);\n        return true;\n    } catch (error) {\n        console.error(\"Supabase: Error deducting stock for order:\", error);\n        return false;\n    }\n}\n// Maintenance settings operations\nasync function getMaintenanceSettings() {\n    try {\n        const { data, error } = await supabase.from(\"maintenance_settings\").select(\"*\").eq(\"id\", \"maintenance\").single();\n        if (error) {\n            console.error(\"Supabase getMaintenanceSettings error:\", error);\n            // If table doesn't exist, return default settings\n            if (error.code === \"PGRST205\") {\n                console.log(\"Maintenance settings table not found, using default settings\");\n            }\n            // Return default settings if no data exists\n            return {\n                id: \"maintenance\",\n                is_maintenance_mode: false,\n                drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n                maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n        }\n        return data || {\n            id: \"maintenance\",\n            is_maintenance_mode: false,\n            drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n            maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n    } catch (error) {\n        console.error(\"Supabase getMaintenanceSettings error:\", error);\n        return {\n            id: \"maintenance\",\n            is_maintenance_mode: false,\n            drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n            maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n    }\n}\nasync function updateMaintenanceSettings(settings) {\n    try {\n        const updateData = {\n            updated_at: new Date().toISOString()\n        };\n        if (settings.is_maintenance_mode !== undefined) {\n            updateData.is_maintenance_mode = settings.is_maintenance_mode;\n        }\n        if (settings.drop_date !== undefined) {\n            updateData.drop_date = settings.drop_date;\n        }\n        if (settings.maintenance_message !== undefined) {\n            updateData.maintenance_message = settings.maintenance_message;\n        }\n        console.log(\"Updating maintenance settings with:\", updateData);\n        // Try update first\n        const { data: updateResult, error: updateError } = await supabase.from(\"maintenance_settings\").update(updateData).eq(\"id\", \"maintenance\").select().single();\n        if (updateError) {\n            console.error(\"Update error:\", updateError);\n            // If update fails, try insert\n            const { data: insertResult, error: insertError } = await supabase.from(\"maintenance_settings\").insert([\n                {\n                    id: \"maintenance\",\n                    is_maintenance_mode: settings.is_maintenance_mode ?? false,\n                    drop_date: settings.drop_date ?? new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n                    maintenance_message: settings.maintenance_message ?? \"We are currently performing maintenance. Please check back later.\",\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                }\n            ]).select().single();\n            if (insertError) {\n                console.error(\"Insert error:\", insertError);\n                throw insertError;\n            }\n            console.log(\"Supabase: Created maintenance settings\");\n            return insertResult;\n        }\n        console.log(\"Supabase: Updated maintenance settings\");\n        return updateResult;\n    } catch (error) {\n        console.error(\"Supabase updateMaintenanceSettings error:\", error);\n        throw error;\n    }\n}\n// Customers methods\nasync function getCustomers() {\n    try {\n        const { data, error } = await supabase.from(\"customers\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getCustomers error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Fetched\", data?.length || 0, \"customers\");\n        return data || [];\n    } catch (error) {\n        console.error(\"Supabase getCustomers error:\", error);\n        throw error;\n    }\n}\nasync function addCustomer(customerData) {\n    try {\n        const now = new Date().toISOString();\n        const customer = {\n            ...customerData,\n            id: `customer_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            created_at: now,\n            updated_at: now\n        };\n        const { data, error } = await supabase.from(\"customers\").insert([\n            customer\n        ]).select().single();\n        if (error) {\n            console.error(\"Supabase addCustomer error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Created customer:\", data.id);\n        return {\n            id: data.id,\n            name: data.name,\n            email: data.email,\n            phone: data.phone,\n            address: data.address,\n            city: data.city,\n            wilaya: data.wilaya,\n            createdAt: new Date(data.created_at),\n            updatedAt: new Date(data.updated_at)\n        };\n    } catch (error) {\n        console.error(\"Supabase addCustomer error:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TEEsSUFBSXVDLEtBQUt2QyxFQUFFO1lBQ1hDLE1BQU1zQyxLQUFLdEMsSUFBSTtZQUNmc0ssT0FBT2hJLEtBQUtnSSxLQUFLO1lBQ2pCQyxPQUFPakksS0FBS2lJLEtBQUs7WUFDakJDLFNBQVNsSSxLQUFLa0ksT0FBTztZQUNyQkMsTUFBTW5JLEtBQUttSSxJQUFJO1lBQ2ZDLFFBQVFwSSxLQUFLb0ksTUFBTTtZQUNuQmhKLFdBQVcsSUFBSUMsS0FBS1csS0FBS1YsVUFBVTtZQUNuQ0MsV0FBVyxJQUFJRixLQUFLVyxLQUFLUixVQUFVO1FBQ3JDO0lBQ0YsRUFBRSxPQUFPUyxPQUFPO1FBQ2Q3QyxRQUFRNkMsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2JzaWRpYW4td2Vhci8uL3NyYy9saWIvc3VwYWJhc2VEYXRhYmFzZS50cz9mNDI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERhdGFiYXNlIHNlcnZpY2UgdXNpbmcgU3VwYWJhc2UgKGZyZWUgdGllcilcbi8vIFRoaXMgcHJvdmlkZXMgcGVyc2lzdGVudCBzdG9yYWdlIHdpdGggYSByZWFsIGRhdGFiYXNlXG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBQcm9kdWN0LCBPcmRlciB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyBDdXN0b21lciBpbnRlcmZhY2VcbmludGVyZmFjZSBDdXN0b21lciB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgcGhvbmU6IHN0cmluZztcbiAgYWRkcmVzczogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIHdpbGF5YTogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuLy8gU3VwYWJhc2UgY29uZmlndXJhdGlvbiAtIE1VU1QgdXNlIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG5jb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzLiBQbGVhc2Ugc2V0IE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBhbmQgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVknKTtcbn1cblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KTtcblxuLy8gRXhwb3J0IHRoZSBzdXBhYmFzZSBjbGllbnQgZm9yIGRpcmVjdCB1c2VcbmV4cG9ydCB7IHN1cGFiYXNlIH07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IGRhdGFiYXNlIHByb2R1Y3QgdG8gUHJvZHVjdCBpbnRlcmZhY2VcbmZ1bmN0aW9uIGNvbnZlcnREYlByb2R1Y3RUb1Byb2R1Y3QoZGJQcm9kdWN0OiBhbnkpOiBQcm9kdWN0IHtcbiAgLy8gRGVidWcgbG9nZ2luZ1xuICBjb25zb2xlLmxvZygn8J+UjSBERUJVRzogUmF3IHByaWNlIGZyb20gREI6JywgZGJQcm9kdWN0LnByaWNlLCAnVHlwZTonLCB0eXBlb2YgZGJQcm9kdWN0LnByaWNlKTtcbiAgY29uc29sZS5sb2coJ/CflI0gREVCVUc6IFBhcnNlZCBwcmljZTonLCBwYXJzZUZsb2F0KGRiUHJvZHVjdC5wcmljZSksICdUeXBlOicsIHR5cGVvZiBwYXJzZUZsb2F0KGRiUHJvZHVjdC5wcmljZSkpO1xuICBcbiAgY29uc3QgY29udmVydGVkUHJvZHVjdCA9IHtcbiAgICBpZDogZGJQcm9kdWN0LmlkLFxuICAgIG5hbWU6IGRiUHJvZHVjdC5uYW1lLFxuICAgIGRlc2NyaXB0aW9uOiBkYlByb2R1Y3QuZGVzY3JpcHRpb24sXG4gICAgcHJpY2U6IHBhcnNlRmxvYXQoZGJQcm9kdWN0LnByaWNlKSxcbiAgICBvcmlnaW5hbFByaWNlOiBkYlByb2R1Y3Qub3JpZ2luYWxfcHJpY2UgPyBwYXJzZUZsb2F0KGRiUHJvZHVjdC5vcmlnaW5hbF9wcmljZSkgOiB1bmRlZmluZWQsXG4gICAgaW1hZ2U6IGRiUHJvZHVjdC5pbWFnZSxcbiAgICBpbWFnZXM6IGRiUHJvZHVjdC5pbWFnZXMgfHwgW10sXG4gICAgc3RvY2s6IGRiUHJvZHVjdC5zdG9jayB8fCB7fSxcbiAgICBjYXRlZ29yeTogZGJQcm9kdWN0LmNhdGVnb3J5LFxuICAgIHNpemVzOiBkYlByb2R1Y3Quc2l6ZXMgfHwgW10sXG4gICAgY29sb3JzOiBkYlByb2R1Y3QuY29sb3JzIHx8IFtdLFxuICAgIGluU3RvY2s6IGRiUHJvZHVjdC5pbl9zdG9jayxcbiAgICByYXRpbmc6IHBhcnNlRmxvYXQoZGJQcm9kdWN0LnJhdGluZyB8fCAwKSxcbiAgICByZXZpZXdzOiBkYlByb2R1Y3QucmV2aWV3cyB8fCAwLFxuICAgIHNrdTogZGJQcm9kdWN0LnNrdSxcbiAgICB3ZWlnaHQ6IGRiUHJvZHVjdC53ZWlnaHQgPyBwYXJzZUZsb2F0KGRiUHJvZHVjdC53ZWlnaHQpIDogdW5kZWZpbmVkLFxuICAgIGRpbWVuc2lvbnM6IGRiUHJvZHVjdC5kaW1lbnNpb25zLFxuICAgIHRhZ3M6IGRiUHJvZHVjdC50YWdzIHx8IFtdLFxuICAgIGZlYXR1cmVkOiBkYlByb2R1Y3QuZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgc2l6ZUNoYXJ0Q2F0ZWdvcnk6IGRiUHJvZHVjdC5zaXplX2NoYXJ0X2NhdGVnb3J5IHx8ICdULVNoaXJ0cycsXG4gICAgY3VzdG9tU2l6ZUNoYXJ0OiBkYlByb2R1Y3QuY3VzdG9tX3NpemVfY2hhcnQgfHwgdW5kZWZpbmVkLFxuICAgIHVzZUN1c3RvbVNpemVDaGFydDogZGJQcm9kdWN0LnVzZV9jdXN0b21fc2l6ZV9jaGFydCB8fCBmYWxzZSxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRiUHJvZHVjdC5jcmVhdGVkX2F0KSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKGRiUHJvZHVjdC51cGRhdGVkX2F0KVxuICB9O1xuICBcbiAgY29uc29sZS5sb2coJ/CflI0gREVCVUc6IEZpbmFsIGNvbnZlcnRlZCBwcm9kdWN0IHByaWNlOicsIGNvbnZlcnRlZFByb2R1Y3QucHJpY2UsICdUeXBlOicsIHR5cGVvZiBjb252ZXJ0ZWRQcm9kdWN0LnByaWNlKTtcbiAgcmV0dXJuIGNvbnZlcnRlZFByb2R1Y3Q7XG59XG5cbi8vIENhY2hlIGZvciBwcm9kdWN0cyB0byByZWR1Y2UgZGF0YWJhc2UgY2FsbHNcbmxldCBwcm9kdWN0c0NhY2hlOiBQcm9kdWN0W10gfCBudWxsID0gbnVsbDtcbmxldCBwcm9kdWN0c0NhY2hlVGltZSA9IDA7XG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDMwMDAwOyAvLyAzMCBzZWNvbmRzXG5cbi8vIENsZWFyIGNhY2hlIGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJQcm9kdWN0c0NhY2hlKCk6IHZvaWQge1xuICBwcm9kdWN0c0NhY2hlID0gbnVsbDtcbiAgcHJvZHVjdHNDYWNoZVRpbWUgPSAwO1xuICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFByb2R1Y3RzIGNhY2hlIGNsZWFyZWQnKTtcbn1cblxuLy8gRm9yY2UgY2xlYXIgY2FjaGUgaW1tZWRpYXRlbHkgdG8gZml4IHByaWNlIGZvcm1hdHRpbmcgaXNzdWVcbmNsZWFyUHJvZHVjdHNDYWNoZSgpO1xuXG4vLyBBZGQgdGltZXN0YW1wIHRvIGZvcmNlIGNhY2hlIGludmFsaWRhdGlvblxuY29uc3QgQ0FDSEVfQlVTVEVSID0gRGF0ZS5ub3coKTtcbmNvbnNvbGUubG9nKCfwn5qAIENhY2hlIGJ1c3RlciB0aW1lc3RhbXA6JywgQ0FDSEVfQlVTVEVSKTtcblxuLy8gUHJvZHVjdHMgb3BlcmF0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3RzKCk6IFByb21pc2U8UHJvZHVjdFtdPiB7XG4gIHRyeSB7XG4gICAgLy8gUmV0dXJuIGNhY2hlZCBkYXRhIGlmIHN0aWxsIGZyZXNoXG4gICAgaWYgKHByb2R1Y3RzQ2FjaGUgJiYgRGF0ZS5ub3coKSAtIHByb2R1Y3RzQ2FjaGVUaW1lIDwgQ0FDSEVfRFVSQVRJT04pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogUmV0dXJuaW5nIGNhY2hlZCBwcm9kdWN0cycpO1xuICAgICAgcmV0dXJuIHByb2R1Y3RzQ2FjaGU7XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldFByb2R1Y3RzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBwcm9kdWN0c0NhY2hlIHx8IFtdO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm9kdWN0cyA9IChkYXRhIHx8IFtdKS5tYXAoY29udmVydERiUHJvZHVjdFRvUHJvZHVjdCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgcHJvZHVjdHNDYWNoZSA9IHByb2R1Y3RzO1xuICAgIHByb2R1Y3RzQ2FjaGVUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICByZXR1cm4gcHJvZHVjdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0UHJvZHVjdHMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBwcm9kdWN0c0NhY2hlIHx8IFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPFByb2R1Y3QgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldFByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjb252ZXJ0RGJQcm9kdWN0VG9Qcm9kdWN0KGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldFByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRQcm9kdWN0KHByb2R1Y3Q6IFByb2R1Y3QpOiBQcm9taXNlPFByb2R1Y3Q+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBhZGRQcm9kdWN0OiBTdGFydGluZyB0byBhZGQgcHJvZHVjdDonLCBwcm9kdWN0LmlkLCBwcm9kdWN0Lm5hbWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIFN1cGFiYXNlIGlzIHByb3Blcmx5IGNvbmZpZ3VyZWRcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU3VwYWJhc2U6IENsaWVudCBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDb252ZXJ0IGNhbWVsQ2FzZSB0byBzbmFrZV9jYXNlIGZvciBkYXRhYmFzZVxuICAgIC8vIE9ubHkgaW5jbHVkZSBjb2x1bW5zIHRoYXQgZXhpc3QgaW4gdGhlIGN1cnJlbnQgZGF0YWJhc2Ugc2NoZW1hXG4gICAgY29uc3QgZGJQcm9kdWN0ID0ge1xuICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcbiAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgb3JpZ2luYWxfcHJpY2U6IHByb2R1Y3Qub3JpZ2luYWxQcmljZSxcbiAgICAgIGltYWdlOiBwcm9kdWN0LmltYWdlLFxuICAgICAgaW1hZ2VzOiBwcm9kdWN0LmltYWdlcyB8fCBbXSxcbiAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrLFxuICAgICAgY2F0ZWdvcnk6IHByb2R1Y3QuY2F0ZWdvcnksXG4gICAgICBzaXplczogcHJvZHVjdC5zaXplcyB8fCBbXSxcbiAgICAgIGNvbG9yczogcHJvZHVjdC5jb2xvcnMgfHwgW10sXG4gICAgICBpbl9zdG9jazogcHJvZHVjdC5pblN0b2NrLFxuICAgICAgcmF0aW5nOiBwcm9kdWN0LnJhdGluZyxcbiAgICAgIHJldmlld3M6IHByb2R1Y3QucmV2aWV3cyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICB3ZWlnaHQ6IHByb2R1Y3Qud2VpZ2h0LFxuICAgICAgZGltZW5zaW9uczogcHJvZHVjdC5kaW1lbnNpb25zLFxuICAgICAgdGFnczogcHJvZHVjdC50YWdzIHx8IFtdLFxuICAgICAgZmVhdHVyZWQ6IHByb2R1Y3QuZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICBjdXN0b21fc2l6ZV9jaGFydDogcHJvZHVjdC5jdXN0b21TaXplQ2hhcnQgfHwgbnVsbCxcbiAgICAgIHVzZV9jdXN0b21fc2l6ZV9jaGFydDogcHJvZHVjdC51c2VDdXN0b21TaXplQ2hhcnQgfHwgZmFsc2UsXG4gICAgICBzaXplX2NoYXJ0X2NhdGVnb3J5OiBwcm9kdWN0LnNpemVDaGFydENhdGVnb3J5IHx8IHByb2R1Y3QuY2F0ZWdvcnlcbiAgICAgIC8vIGNyZWF0ZWRfYXQgYW5kIHVwZGF0ZWRfYXQgYXJlIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBkYXRhYmFzZVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBhZGRQcm9kdWN0OiBEYXRhYmFzZSBwcm9kdWN0IG9iamVjdDonLCBKU09OLnN0cmluZ2lmeShkYlByb2R1Y3QsIG51bGwsIDIpKTtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBhZGRQcm9kdWN0OiBBdHRlbXB0aW5nIHRvIGluc2VydCBpbnRvIHByb2R1Y3RzIHRhYmxlLi4uJyk7XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5pbnNlcnQoW2RiUHJvZHVjdF0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBhZGRQcm9kdWN0OiBJbnNlcnQgcmVzdWx0IC0gZGF0YTonLCBkYXRhKTtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBhZGRQcm9kdWN0OiBJbnNlcnQgcmVzdWx0IC0gZXJyb3I6JywgZXJyb3IpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFN1cGFiYXNlIGFkZFByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFN1cGFiYXNlIGFkZFByb2R1Y3QgZXJyb3IgZGV0YWlsczonLCBKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMikpO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFN1cGFiYXNlIGFkZFByb2R1Y3QgZXJyb3IgY29kZTonLCBlcnJvci5jb2RlKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTdXBhYmFzZSBhZGRQcm9kdWN0IGVycm9yIG1lc3NhZ2U6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU3VwYWJhc2UgYWRkUHJvZHVjdCBlcnJvciBoaW50OicsIGVycm9yLmhpbnQpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdXBhYmFzZSBpbnNlcnQgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9IChDb2RlOiAke2Vycm9yLmNvZGV9KWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IEFkZGVkIHByb2R1Y3Q6JywgcHJvZHVjdC5pZCk7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBpbnZlbnRvcnkgZm9yIHRoZSBuZXcgcHJvZHVjdFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGluaXRpYWxpemVQcm9kdWN0SW52ZW50b3J5IH0gPSBhd2FpdCBpbXBvcnQoJy4vaW52ZW50b3J5U2VydmljZScpO1xuICAgICAgYXdhaXQgaW5pdGlhbGl6ZVByb2R1Y3RJbnZlbnRvcnkocHJvZHVjdC5pZCk7XG4gICAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IEluaXRpYWxpemVkIGludmVudG9yeSBmb3IgcHJvZHVjdDonLCBwcm9kdWN0LmlkKTtcbiAgICB9IGNhdGNoIChpbnZlbnRvcnlFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2U6IEZhaWxlZCB0byBpbml0aWFsaXplIGludmVudG9yeSBmb3IgcHJvZHVjdDonLCBwcm9kdWN0LmlkLCBpbnZlbnRvcnlFcnJvcik7XG4gICAgICAvLyBEb24ndCB0aHJvdyBlcnJvciBoZXJlLCBwcm9kdWN0IGNyZWF0aW9uIHNob3VsZCBzdGlsbCBzdWNjZWVkXG4gICAgfVxuICAgIFxuICAgIC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICBwcm9kdWN0c0NhY2hlID0gbnVsbDtcbiAgICBcbiAgICAvLyBDb252ZXJ0IGJhY2sgdG8gY2FtZWxDYXNlXG4gICAgcmV0dXJuIGNvbnZlcnREYlByb2R1Y3RUb1Byb2R1Y3QoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYWRkUHJvZHVjdCBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3QoaWQ6IHN0cmluZywgcHJvZHVjdDogUGFydGlhbDxQcm9kdWN0Pik6IFByb21pc2U8UHJvZHVjdCB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBDb252ZXJ0IGNhbWVsQ2FzZSB0byBzbmFrZV9jYXNlIGZvciBkYXRhYmFzZVxuICAgIGNvbnN0IGRiUHJvZHVjdDogYW55ID0ge307XG4gICAgXG4gICAgaWYgKHByb2R1Y3QubmFtZSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QubmFtZSA9IHByb2R1Y3QubmFtZTtcbiAgICBpZiAocHJvZHVjdC5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuZGVzY3JpcHRpb24gPSBwcm9kdWN0LmRlc2NyaXB0aW9uO1xuICAgIGlmIChwcm9kdWN0LnByaWNlICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5wcmljZSA9IHByb2R1Y3QucHJpY2U7XG4gICAgaWYgKHByb2R1Y3Qub3JpZ2luYWxQcmljZSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3Qub3JpZ2luYWxfcHJpY2UgPSBwcm9kdWN0Lm9yaWdpbmFsUHJpY2U7XG4gICAgaWYgKHByb2R1Y3QuaW1hZ2UgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmltYWdlID0gcHJvZHVjdC5pbWFnZTtcbiAgICBpZiAocHJvZHVjdC5pbWFnZXMgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmltYWdlcyA9IHByb2R1Y3QuaW1hZ2VzO1xuICAgIGlmIChwcm9kdWN0LnN0b2NrICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5zdG9jayA9IHByb2R1Y3Quc3RvY2s7XG4gICAgaWYgKHByb2R1Y3QuY2F0ZWdvcnkgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmNhdGVnb3J5ID0gcHJvZHVjdC5jYXRlZ29yeTtcbiAgICBpZiAocHJvZHVjdC5zaXplcyAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3Quc2l6ZXMgPSBwcm9kdWN0LnNpemVzO1xuICAgIGlmIChwcm9kdWN0LmNvbG9ycyAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuY29sb3JzID0gcHJvZHVjdC5jb2xvcnM7XG4gICAgaWYgKHByb2R1Y3QuaW5TdG9jayAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuaW5fc3RvY2sgPSBwcm9kdWN0LmluU3RvY2s7XG4gICAgaWYgKHByb2R1Y3QucmF0aW5nICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5yYXRpbmcgPSBwcm9kdWN0LnJhdGluZztcbiAgICBpZiAocHJvZHVjdC5yZXZpZXdzICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5yZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzO1xuICAgIGlmIChwcm9kdWN0LnNrdSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3Quc2t1ID0gcHJvZHVjdC5za3U7XG4gICAgaWYgKHByb2R1Y3Qud2VpZ2h0ICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC53ZWlnaHQgPSBwcm9kdWN0LndlaWdodDtcbiAgICBpZiAocHJvZHVjdC5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5kaW1lbnNpb25zID0gcHJvZHVjdC5kaW1lbnNpb25zO1xuICAgIGlmIChwcm9kdWN0LnRhZ3MgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LnRhZ3MgPSBwcm9kdWN0LnRhZ3M7XG4gICAgaWYgKHByb2R1Y3QuZmVhdHVyZWQgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmZlYXR1cmVkID0gcHJvZHVjdC5mZWF0dXJlZDtcbiAgICBpZiAocHJvZHVjdC5zaXplQ2hhcnRDYXRlZ29yeSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3Quc2l6ZV9jaGFydF9jYXRlZ29yeSA9IHByb2R1Y3Quc2l6ZUNoYXJ0Q2F0ZWdvcnk7XG4gICAgaWYgKHByb2R1Y3QuY3VzdG9tU2l6ZUNoYXJ0ICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5jdXN0b21fc2l6ZV9jaGFydCA9IHByb2R1Y3QuY3VzdG9tU2l6ZUNoYXJ0O1xuICAgIGlmIChwcm9kdWN0LnVzZUN1c3RvbVNpemVDaGFydCAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QudXNlX2N1c3RvbV9zaXplX2NoYXJ0ID0gcHJvZHVjdC51c2VDdXN0b21TaXplQ2hhcnQ7XG4gICAgXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAudXBkYXRlKGRiUHJvZHVjdClcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlUHJvZHVjdCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBVcGRhdGVkIHByb2R1Y3Q6JywgaWQpO1xuICAgIFxuICAgIC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICBwcm9kdWN0c0NhY2hlID0gbnVsbDtcbiAgICBcbiAgICByZXR1cm4gY29udmVydERiUHJvZHVjdFRvUHJvZHVjdChkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVQcm9kdWN0IGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUHJvZHVjdChpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVQcm9kdWN0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBEZWxldGVkIHByb2R1Y3Q6JywgaWQpO1xuICAgIFxuICAgIC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICBwcm9kdWN0c0NhY2hlID0gbnVsbDtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVQcm9kdWN0IGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgZGF0YWJhc2Ugb3JkZXIgdG8gT3JkZXIgaW50ZXJmYWNlXG5mdW5jdGlvbiBjb252ZXJ0RGJPcmRlclRvT3JkZXIoZGJPcmRlcjogYW55KTogT3JkZXIge1xuICAvLyBFeHRyYWN0IGN1c3RvbWVyIGluZm8gZnJvbSBpdGVtcyBvciB1c2UgZGVmYXVsdHNcbiAgY29uc3QgZmlyc3RJdGVtID0gZGJPcmRlci5pdGVtcyAmJiBkYk9yZGVyLml0ZW1zLmxlbmd0aCA+IDAgPyBkYk9yZGVyLml0ZW1zWzBdIDoge307XG4gIFxuICByZXR1cm4ge1xuICAgIGlkOiBkYk9yZGVyLmlkLFxuICAgIHByb2R1Y3RJZDogZmlyc3RJdGVtLnByb2R1Y3RJZCB8fCAnJyxcbiAgICBwcm9kdWN0TmFtZTogZmlyc3RJdGVtLnByb2R1Y3ROYW1lIHx8ICcnLFxuICAgIHByb2R1Y3RJbWFnZTogZmlyc3RJdGVtLnByb2R1Y3RJbWFnZSB8fCAnJyxcbiAgICBjdXN0b21lck5hbWU6IGZpcnN0SXRlbS5jdXN0b21lck5hbWUgfHwgJycsXG4gICAgY3VzdG9tZXJQaG9uZTogZmlyc3RJdGVtLmN1c3RvbWVyUGhvbmUgfHwgJycsXG4gICAgY3VzdG9tZXJFbWFpbDogZmlyc3RJdGVtLmN1c3RvbWVyRW1haWwgfHwgJycsXG4gICAgY3VzdG9tZXJBZGRyZXNzOiBmaXJzdEl0ZW0uY3VzdG9tZXJBZGRyZXNzIHx8ICcnLFxuICAgIGN1c3RvbWVyQ2l0eTogZmlyc3RJdGVtLmN1c3RvbWVyQ2l0eSB8fCAnJyxcbiAgICB3aWxheWFJZDogZmlyc3RJdGVtLndpbGF5YUlkIHx8IDAsXG4gICAgd2lsYXlhTmFtZTogZmlyc3RJdGVtLndpbGF5YU5hbWUgfHwgJycsXG4gICAgc2hpcHBpbmdUeXBlOiBkYk9yZGVyLnNoaXBwaW5nX3R5cGUgfHwgJ2hvbWVEZWxpdmVyeScsXG4gICAgc2hpcHBpbmdDb3N0OiBOdW1iZXIoZGJPcmRlci5zaGlwcGluZ19jb3N0KSB8fCAwLFxuICAgIHF1YW50aXR5OiBmaXJzdEl0ZW0ucXVhbnRpdHkgfHwgMSxcbiAgICBzZWxlY3RlZFNpemU6IGZpcnN0SXRlbS5zZWxlY3RlZFNpemUgfHwgJycsXG4gICAgc2VsZWN0ZWRDb2xvcjogZmlyc3RJdGVtLnNlbGVjdGVkQ29sb3IgfHwgJycsXG4gICAgc3VidG90YWw6IE51bWJlcihkYk9yZGVyLnRvdGFsKSAtIE51bWJlcihkYk9yZGVyLnNoaXBwaW5nX2Nvc3QpIHx8IDAsXG4gICAgdG90YWw6IE51bWJlcihkYk9yZGVyLnRvdGFsKSB8fCAwLFxuICAgIG9yZGVyRGF0ZTogbmV3IERhdGUoZGJPcmRlci5vcmRlcl9kYXRlKSxcbiAgICBzdGF0dXM6IGRiT3JkZXIuc3RhdHVzIHx8ICdwZW5kaW5nJyxcbiAgICB0cmFja2luZ051bWJlcjogZGJPcmRlci50cmFja2luZ19udW1iZXIsXG4gICAgbm90ZXM6IGZpcnN0SXRlbS5ub3RlcyxcbiAgICBwYXltZW50TWV0aG9kOiBkYk9yZGVyLnBheW1lbnRfbWV0aG9kIHx8ICdjb2QnLFxuICAgIHBheW1lbnRTdGF0dXM6IGRiT3JkZXIucGF5bWVudF9zdGF0dXMgfHwgJ3BlbmRpbmcnLFxuICAgIGVzdGltYXRlZERlbGl2ZXJ5OiBmaXJzdEl0ZW0uZXN0aW1hdGVkRGVsaXZlcnksXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShkYk9yZGVyLmNyZWF0ZWRfYXQpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGJPcmRlci51cGRhdGVkX2F0KVxuICB9O1xufVxuXG4vLyBDYWNoZSBmb3Igb3JkZXJzIHRvIHJlZHVjZSBkYXRhYmFzZSBjYWxsc1xubGV0IG9yZGVyc0NhY2hlOiBPcmRlcltdIHwgbnVsbCA9IG51bGw7XG5sZXQgb3JkZXJzQ2FjaGVUaW1lID0gMDtcblxuLy8gT3JkZXJzIG9wZXJhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPcmRlcnMoKTogUHJvbWlzZTxPcmRlcltdPiB7XG4gIHRyeSB7XG4gICAgLy8gUmV0dXJuIGNhY2hlZCBkYXRhIGlmIHN0aWxsIGZyZXNoXG4gICAgaWYgKG9yZGVyc0NhY2hlICYmIERhdGUubm93KCkgLSBvcmRlcnNDYWNoZVRpbWUgPCBDQUNIRV9EVVJBVElPTikge1xuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBSZXR1cm5pbmcgY2FjaGVkIG9yZGVycycpO1xuICAgICAgcmV0dXJuIG9yZGVyc0NhY2hlO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLm9yZGVyKCdvcmRlcl9kYXRlJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0T3JkZXJzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBvcmRlcnNDYWNoZSB8fCBbXTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb3JkZXJzID0gKGRhdGEgfHwgW10pLm1hcChjb252ZXJ0RGJPcmRlclRvT3JkZXIpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgIG9yZGVyc0NhY2hlID0gb3JkZXJzO1xuICAgIG9yZGVyc0NhY2hlVGltZSA9IERhdGUubm93KCk7XG4gICAgXG4gICAgcmV0dXJuIG9yZGVycztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRPcmRlcnMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBvcmRlcnNDYWNoZSB8fCBbXTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdvcmRlcnMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZE9yZGVyKG9yZGVyOiBPcmRlcik6IFByb21pc2U8T3JkZXI+IHtcbiAgdHJ5IHtcbiAgICAvLyBDb252ZXJ0IE9yZGVyIGludGVyZmFjZSB0byBkYXRhYmFzZSBmb3JtYXRcbiAgICBjb25zdCBkYk9yZGVyID0ge1xuICAgICAgaWQ6IG9yZGVyLmlkLFxuICAgICAgY3VzdG9tZXJfaWQ6IGBDVVNULSR7RGF0ZS5ub3coKX1gLCAvLyBHZW5lcmF0ZSBjdXN0b21lciBJRFxuICAgICAgaXRlbXM6IFt7XG4gICAgICAgIHByb2R1Y3RJZDogb3JkZXIucHJvZHVjdElkLFxuICAgICAgICBwcm9kdWN0TmFtZTogb3JkZXIucHJvZHVjdE5hbWUsXG4gICAgICAgIHByb2R1Y3RJbWFnZTogb3JkZXIucHJvZHVjdEltYWdlLFxuICAgICAgICBjdXN0b21lck5hbWU6IG9yZGVyLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgY3VzdG9tZXJQaG9uZTogb3JkZXIuY3VzdG9tZXJQaG9uZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogb3JkZXIuY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJBZGRyZXNzOiBvcmRlci5jdXN0b21lckFkZHJlc3MsXG4gICAgICAgIGN1c3RvbWVyQ2l0eTogb3JkZXIuY3VzdG9tZXJDaXR5LFxuICAgICAgICB3aWxheWFJZDogb3JkZXIud2lsYXlhSWQsXG4gICAgICAgIHdpbGF5YU5hbWU6IG9yZGVyLndpbGF5YU5hbWUsXG4gICAgICAgIHF1YW50aXR5OiBvcmRlci5xdWFudGl0eSxcbiAgICAgICAgc2VsZWN0ZWRTaXplOiBvcmRlci5zZWxlY3RlZFNpemUsXG4gICAgICAgIHNlbGVjdGVkQ29sb3I6IG9yZGVyLnNlbGVjdGVkQ29sb3IsXG4gICAgICAgIG5vdGVzOiBvcmRlci5ub3RlcyxcbiAgICAgICAgZXN0aW1hdGVkRGVsaXZlcnk6IG9yZGVyLmVzdGltYXRlZERlbGl2ZXJ5XG4gICAgICB9XSxcbiAgICAgIHRvdGFsOiBvcmRlci50b3RhbCxcbiAgICAgIHNoaXBwaW5nX2Nvc3Q6IG9yZGVyLnNoaXBwaW5nQ29zdCxcbiAgICAgIHNoaXBwaW5nX3R5cGU6IG9yZGVyLnNoaXBwaW5nVHlwZSxcbiAgICAgIHBheW1lbnRfbWV0aG9kOiBvcmRlci5wYXltZW50TWV0aG9kLFxuICAgICAgcGF5bWVudF9zdGF0dXM6IG9yZGVyLnBheW1lbnRTdGF0dXMsXG4gICAgICBzdGF0dXM6IG9yZGVyLnN0YXR1cyxcbiAgICAgIHRyYWNraW5nX251bWJlcjogb3JkZXIudHJhY2tpbmdOdW1iZXIsXG4gICAgICBvcmRlcl9kYXRlOiBvcmRlci5vcmRlckRhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG9yZGVyLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZF9hdDogb3JkZXIudXBkYXRlZEF0LnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC5pbnNlcnQoW2RiT3JkZXJdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBhZGRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBBZGRlZCBvcmRlcjonLCBvcmRlci5pZCk7XG4gICAgcmV0dXJuIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBhZGRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkOiBzdHJpbmcsIG9yZGVyOiBQYXJ0aWFsPE9yZGVyPik6IFByb21pc2U8T3JkZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gQ29udmVydCBwYXJ0aWFsIE9yZGVyIHRvIGRhdGFiYXNlIGZvcm1hdFxuICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gICAgXG4gICAgaWYgKG9yZGVyLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnN0YXR1cyA9IG9yZGVyLnN0YXR1cztcbiAgICBpZiAob3JkZXIucGF5bWVudFN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnBheW1lbnRfc3RhdHVzID0gb3JkZXIucGF5bWVudFN0YXR1cztcbiAgICBpZiAob3JkZXIudHJhY2tpbmdOdW1iZXIgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS50cmFja2luZ19udW1iZXIgPSBvcmRlci50cmFja2luZ051bWJlcjtcbiAgICBpZiAob3JkZXIuc2hpcHBpbmdUeXBlICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuc2hpcHBpbmdfdHlwZSA9IG9yZGVyLnNoaXBwaW5nVHlwZTtcbiAgICBpZiAob3JkZXIuc2hpcHBpbmdDb3N0ICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuc2hpcHBpbmdfY29zdCA9IG9yZGVyLnNoaXBwaW5nQ29zdDtcbiAgICBpZiAob3JkZXIudG90YWwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS50b3RhbCA9IG9yZGVyLnRvdGFsO1xuICAgIGlmIChvcmRlci5wYXltZW50TWV0aG9kICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucGF5bWVudF9tZXRob2QgPSBvcmRlci5wYXltZW50TWV0aG9kO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlT3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogVXBkYXRlZCBvcmRlcjonLCBpZCk7XG4gICAgcmV0dXJuIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU9yZGVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZ2V0IHRoZSBvcmRlciBkZXRhaWxzIHRvIHJlc3RvcmUgaW52ZW50b3J5XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCk7XG4gICAgaWYgKCFvcmRlcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZGVsZXRlT3JkZXI6IE9yZGVyIG5vdCBmb3VuZDonLCBpZCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUmVzdG9yZSBpbnZlbnRvcnkgcXVhbnRpdHlcbiAgICBpZiAob3JkZXIucHJvZHVjdElkICYmIG9yZGVyLnNlbGVjdGVkU2l6ZSAmJiBvcmRlci5zZWxlY3RlZENvbG9yICYmIG9yZGVyLnF1YW50aXR5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGFkZEludmVudG9yeSB9ID0gYXdhaXQgaW1wb3J0KCcuL2ludmVudG9yeVNlcnZpY2UnKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5UmVzdG9yZWQgPSBhd2FpdCBhZGRJbnZlbnRvcnkoXG4gICAgICAgICAgb3JkZXIucHJvZHVjdElkLFxuICAgICAgICAgIG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgICBvcmRlci5zZWxlY3RlZENvbG9yLFxuICAgICAgICAgIG9yZGVyLnF1YW50aXR5LFxuICAgICAgICAgIGBPcmRlciAke2lkfSBkZWxldGVkIC0gaW52ZW50b3J5IHJlc3RvcmVkYCxcbiAgICAgICAgICAnYWRtaW4nXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaW52ZW50b3J5UmVzdG9yZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3VwYWJhc2UgZGVsZXRlT3JkZXI6IEludmVudG9yeSByZXN0b3JlZCBmb3Igb3JkZXI6JywgaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignU3VwYWJhc2UgZGVsZXRlT3JkZXI6IEZhaWxlZCB0byByZXN0b3JlIGludmVudG9yeSBmb3Igb3JkZXI6JywgaWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChpbnZlbnRvcnlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVPcmRlcjogSW52ZW50b3J5IHJlc3RvcmF0aW9uIGVycm9yOicsIGludmVudG9yeUVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBvcmRlciBkZWxldGlvbiBldmVuIGlmIGludmVudG9yeSByZXN0b3JhdGlvbiBmYWlsc1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlbGV0ZSB0aGUgb3JkZXJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogRGVsZXRlZCBvcmRlcjonLCBpZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZGVsZXRlT3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8vIFdpbGF5YSBvcGVyYXRpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0V2lsYXlhVGFyaWZmcygpOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd3aWxheWFfdGFyaWZmcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignb3JkZXInLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldFdpbGF5YVRhcmlmZnMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IChkYXRhIHx8IFtdKS5tYXAodGFyaWZmID0+ICh7XG4gICAgICBpZDogdGFyaWZmLmlkLnRvU3RyaW5nKCksXG4gICAgICB3aWxheWFfaWQ6IHRhcmlmZi53aWxheWFfaWQsXG4gICAgICBuYW1lOiB0YXJpZmYubmFtZSxcbiAgICAgIGRvbWljaWxlX2Vjb21tZXJjZTogdGFyaWZmLmRvbWljaWxlX2Vjb21tZXJjZSxcbiAgICAgIHN0b3BfZGVza19lY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlLFxuICAgICAgb3JkZXI6IHRhcmlmZi5vcmRlcixcbiAgICAgIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICBob21lX2RlbGl2ZXJ5OiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlLFxuICAgICAgc3RvcF9kZXNrOiB0YXJpZmYuc3RvcF9kZXNrX2Vjb21tZXJjZSxcbiAgICAgIGhvbWVEZWxpdmVyeTogdGFyaWZmLmRvbWljaWxlX2Vjb21tZXJjZSxcbiAgICAgIHN0b3BEZXNrOiB0YXJpZmYuc3RvcF9kZXNrX2Vjb21tZXJjZSxcbiAgICAgIGRvbWljaWxlRWNvbW1lcmNlOiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlLFxuICAgICAgc3RvcERlc2tFY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlXG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiB0cmFuc2Zvcm1lZERhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0V2lsYXlhVGFyaWZmcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVXaWxheWFUYXJpZmZzKHRhcmlmZnM6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgLy8gRGVsZXRlIGFsbCBleGlzdGluZyB0YXJpZmZzXG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd3aWxheWFfdGFyaWZmcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5uZXEoJ2lkJywgMCk7IC8vIERlbGV0ZSBhbGwgcmVjb3Jkc1xuICAgIFxuICAgIC8vIEluc2VydCBuZXcgdGFyaWZmc1xuICAgIGlmICh0YXJpZmZzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBtYXRjaCBkYXRhYmFzZSBzdHJ1Y3R1cmVcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkVGFyaWZmcyA9IHRhcmlmZnMubWFwKHRhcmlmZiA9PiAoe1xuICAgICAgICB3aWxheWFfaWQ6IHRhcmlmZi53aWxheWFfaWQgfHwgdGFyaWZmLmlkLFxuICAgICAgICBuYW1lOiB0YXJpZmYubmFtZSxcbiAgICAgICAgZG9taWNpbGVfZWNvbW1lcmNlOiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlIHx8IHRhcmlmZi5kb21pY2lsZUVjb21tZXJjZSB8fCB0YXJpZmYuaG9tZV9kZWxpdmVyeSB8fCB0YXJpZmYuaG9tZURlbGl2ZXJ5IHx8IDAsXG4gICAgICAgIHN0b3BfZGVza19lY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlIHx8IHRhcmlmZi5zdG9wRGVza0Vjb21tZXJjZSB8fCB0YXJpZmYuc3RvcF9kZXNrIHx8IHRhcmlmZi5zdG9wRGVzayB8fCAwLFxuICAgICAgICBvcmRlcjogdGFyaWZmLm9yZGVyIHx8IDFcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3dpbGF5YV90YXJpZmZzJylcbiAgICAgICAgLmluc2VydCh0cmFuc2Zvcm1lZFRhcmlmZnMpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlV2lsYXlhVGFyaWZmcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFVwZGF0ZWQgd2lsYXlhIHRhcmlmZnMnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVXaWxheWFUYXJpZmZzIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBJbnZlbnRvcnkgb3BlcmF0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEludmVudG9yeSgpOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZSwgc2t1LCBzdG9jaywgc2l6ZXMsIGNvbG9ycywgaW5fc3RvY2ssIGNhdGVnb3J5JylcbiAgICAgIC5vcmRlcignbmFtZScpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0SW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIGRhdGEgZm9yIGludmVudG9yeSBtYW5hZ2VtZW50XG4gICAgcmV0dXJuIChkYXRhIHx8IFtdKS5tYXAocHJvZHVjdCA9PiAoe1xuICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICBza3U6IHByb2R1Y3Quc2t1LFxuICAgICAgY2F0ZWdvcnk6IHByb2R1Y3QuY2F0ZWdvcnksXG4gICAgICBpblN0b2NrOiBwcm9kdWN0LmluX3N0b2NrLFxuICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2sgfHwge30sXG4gICAgICBzaXplczogcHJvZHVjdC5zaXplcyB8fCBbXSxcbiAgICAgIGNvbG9yczogcHJvZHVjdC5jb2xvcnMgfHwgW10sXG4gICAgICB0b3RhbFN0b2NrOiBjYWxjdWxhdGVUb3RhbFN0b2NrKHByb2R1Y3Quc3RvY2sgfHwge30pLFxuICAgICAgc3RvY2tCeVNpemU6IGNhbGN1bGF0ZVN0b2NrQnlTaXplKHByb2R1Y3Quc3RvY2sgfHwge30sIHByb2R1Y3Quc2l6ZXMgfHwgW10sIHByb2R1Y3QuY29sb3JzIHx8IFtdKVxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRJbnZlbnRvcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSW52ZW50b3J5KHByb2R1Y3RJZDogc3RyaW5nLCBzdG9ja0RhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlT2JqOiBhbnkgPSB7XG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIGlmIChzdG9ja0RhdGEuc3RvY2spIHtcbiAgICAgIHVwZGF0ZU9iai5zdG9jayA9IHN0b2NrRGF0YS5zdG9jaztcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0b2NrRGF0YS5pblN0b2NrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZU9iai5pbl9zdG9jayA9IHN0b2NrRGF0YS5pblN0b2NrO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC51cGRhdGUodXBkYXRlT2JqKVxuICAgICAgLmVxKCdpZCcsIHByb2R1Y3RJZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlSW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFVwZGF0ZWQgaW52ZW50b3J5IGZvciBwcm9kdWN0OicsIHByb2R1Y3RJZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgc3RvY2s6IGRhdGEuc3RvY2ssXG4gICAgICBpblN0b2NrOiBkYXRhLmluX3N0b2NrLFxuICAgICAgdG90YWxTdG9jazogY2FsY3VsYXRlVG90YWxTdG9jayhkYXRhLnN0b2NrKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlSW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBpbnZlbnRvcnkgY2FsY3VsYXRpb25zXG5mdW5jdGlvbiBjYWxjdWxhdGVUb3RhbFN0b2NrKHN0b2NrOiBhbnkpOiBudW1iZXIge1xuICBpZiAoIXN0b2NrIHx8IHR5cGVvZiBzdG9jayAhPT0gJ29iamVjdCcpIHJldHVybiAwO1xuICBcbiAgbGV0IHRvdGFsID0gMDtcbiAgZm9yIChjb25zdCBzaXplIGluIHN0b2NrKSB7XG4gICAgaWYgKHR5cGVvZiBzdG9ja1tzaXplXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAoY29uc3QgY29sb3IgaW4gc3RvY2tbc2l6ZV0pIHtcbiAgICAgICAgdG90YWwgKz0gTnVtYmVyKHN0b2NrW3NpemVdW2NvbG9yXSkgfHwgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvdGFsO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVTdG9ja0J5U2l6ZShzdG9jazogYW55LCBzaXplczogc3RyaW5nW10sIGNvbG9yczogc3RyaW5nW10pOiBhbnkge1xuICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICBcbiAgc2l6ZXMuZm9yRWFjaChzaXplID0+IHtcbiAgICByZXN1bHRbc2l6ZV0gPSB7fTtcbiAgICBjb2xvcnMuZm9yRWFjaChjb2xvciA9PiB7XG4gICAgICByZXN1bHRbc2l6ZV1bY29sb3JdID0gTnVtYmVyKHN0b2NrW3NpemVdPy5bY29sb3JdKSB8fCAwO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFN0b2NrIGRlZHVjdGlvbiBmdW5jdGlvbiBmb3Igb3JkZXJzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVkdWN0U3RvY2tGcm9tT3JkZXIob3JkZXI6IE9yZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBEZWR1Y3Rpbmcgc3RvY2sgZm9yIG9yZGVyOicsIG9yZGVyLmlkKTtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHByb2R1Y3RcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZ2V0UHJvZHVjdChvcmRlci5wcm9kdWN0SWQpO1xuICAgIGlmICghcHJvZHVjdCkge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2U6IFByb2R1Y3Qgbm90IGZvdW5kIGZvciBvcmRlcjonLCBvcmRlci5wcm9kdWN0SWQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCBzdG9ja1xuICAgIGNvbnN0IGN1cnJlbnRTdG9jayA9IHByb2R1Y3Quc3RvY2s/LltvcmRlci5zZWxlY3RlZFNpemVdPy5bb3JkZXIuc2VsZWN0ZWRDb2xvcl0gfHwgMDtcbiAgICBpZiAoY3VycmVudFN0b2NrIDwgb3JkZXIucXVhbnRpdHkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlOiBJbnN1ZmZpY2llbnQgc3RvY2sgZm9yIG9yZGVyOicsIHtcbiAgICAgICAgcHJvZHVjdElkOiBvcmRlci5wcm9kdWN0SWQsXG4gICAgICAgIHNpemU6IG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgY29sb3I6IG9yZGVyLnNlbGVjdGVkQ29sb3IsXG4gICAgICAgIHJlcXVlc3RlZDogb3JkZXIucXVhbnRpdHksXG4gICAgICAgIGF2YWlsYWJsZTogY3VycmVudFN0b2NrXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVkdWN0IHRoZSBzdG9jayBmcm9tIHByb2R1Y3RcbiAgICBjb25zdCBuZXdTdG9jayA9IHtcbiAgICAgIC4uLnByb2R1Y3Quc3RvY2ssXG4gICAgICBbb3JkZXIuc2VsZWN0ZWRTaXplXToge1xuICAgICAgICAuLi5wcm9kdWN0LnN0b2NrPy5bb3JkZXIuc2VsZWN0ZWRTaXplXSxcbiAgICAgICAgW29yZGVyLnNlbGVjdGVkQ29sb3JdOiBjdXJyZW50U3RvY2sgLSBvcmRlci5xdWFudGl0eVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gVXBkYXRlIHRoZSBwcm9kdWN0IHN0b2NrXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCB1cGRhdGVQcm9kdWN0KG9yZGVyLnByb2R1Y3RJZCwge1xuICAgICAgc3RvY2s6IG5ld1N0b2NrLFxuICAgICAgaW5TdG9jazogY2FsY3VsYXRlVG90YWxTdG9jayhuZXdTdG9jaykgPiAwXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCF1cGRhdGVkUHJvZHVjdCkge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2U6IEZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdCBzdG9jayBmb3Igb3JkZXI6Jywgb3JkZXIuaWQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEFsc28gZGVkdWN0IGZyb20gaW52ZW50b3J5IHN5c3RlbVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGFkZEludmVudG9yeSB9ID0gYXdhaXQgaW1wb3J0KCcuL2ludmVudG9yeVNlcnZpY2UnKTtcbiAgICAgIGNvbnN0IGludmVudG9yeURlZHVjdGVkID0gYXdhaXQgYWRkSW52ZW50b3J5KFxuICAgICAgICBvcmRlci5wcm9kdWN0SWQsXG4gICAgICAgIG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgb3JkZXIuc2VsZWN0ZWRDb2xvcixcbiAgICAgICAgLW9yZGVyLnF1YW50aXR5LCAvLyBOZWdhdGl2ZSBxdWFudGl0eSB0byBkZWR1Y3RcbiAgICAgICAgYE9yZGVyICR7b3JkZXIuaWR9IGNyZWF0ZWQgLSBzdG9jayBkZWR1Y3RlZGAsXG4gICAgICAgICdzeXN0ZW0nXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoaW52ZW50b3J5RGVkdWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBTdWNjZXNzZnVsbHkgZGVkdWN0ZWQgaW52ZW50b3J5IGZvciBvcmRlcjonLCBvcmRlci5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlOiBGYWlsZWQgdG8gZGVkdWN0IGludmVudG9yeSBmb3Igb3JkZXI6Jywgb3JkZXIuaWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGludmVudG9yeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZTogSW52ZW50b3J5IGRlZHVjdGlvbiBlcnJvcjonLCBpbnZlbnRvcnlFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSBldmVuIGlmIGludmVudG9yeSB1cGRhdGUgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBTdWNjZXNzZnVsbHkgZGVkdWN0ZWQgc3RvY2sgZm9yIG9yZGVyOicsIG9yZGVyLmlkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZTogRXJyb3IgZGVkdWN0aW5nIHN0b2NrIGZvciBvcmRlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIE1haW50ZW5hbmNlIHNldHRpbmdzIG9wZXJhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNYWludGVuYW5jZVNldHRpbmdzKCk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYWludGVuYW5jZV9zZXR0aW5ncycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCAnbWFpbnRlbmFuY2UnKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0TWFpbnRlbmFuY2VTZXR0aW5ncyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyBJZiB0YWJsZSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDIwNScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01haW50ZW5hbmNlIHNldHRpbmdzIHRhYmxlIG5vdCBmb3VuZCwgdXNpbmcgZGVmYXVsdCBzZXR0aW5ncycpO1xuICAgICAgfVxuICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2V0dGluZ3MgaWYgbm8gZGF0YSBleGlzdHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiAnbWFpbnRlbmFuY2UnLFxuICAgICAgICBpc19tYWludGVuYW5jZV9tb2RlOiBmYWxzZSxcbiAgICAgICAgZHJvcF9kYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLCAvLyAzMCBkYXlzIGZyb20gbm93XG4gICAgICAgIG1haW50ZW5hbmNlX21lc3NhZ2U6ICdXZSBhcmUgY3VycmVudGx5IHBlcmZvcm1pbmcgbWFpbnRlbmFuY2UuIFBsZWFzZSBjaGVjayBiYWNrIGxhdGVyLicsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZGF0YSB8fCB7XG4gICAgICBpZDogJ21haW50ZW5hbmNlJyxcbiAgICAgIGlzX21haW50ZW5hbmNlX21vZGU6IGZhbHNlLFxuICAgICAgZHJvcF9kYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgbWFpbnRlbmFuY2VfbWVzc2FnZTogJ1dlIGFyZSBjdXJyZW50bHkgcGVyZm9ybWluZyBtYWludGVuYW5jZS4gUGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuJyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0TWFpbnRlbmFuY2VTZXR0aW5ncyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnbWFpbnRlbmFuY2UnLFxuICAgICAgaXNfbWFpbnRlbmFuY2VfbW9kZTogZmFsc2UsXG4gICAgICBkcm9wX2RhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICBtYWludGVuYW5jZV9tZXNzYWdlOiAnV2UgYXJlIGN1cnJlbnRseSBwZXJmb3JtaW5nIG1haW50ZW5hbmNlLiBQbGVhc2UgY2hlY2sgYmFjayBsYXRlci4nLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWFpbnRlbmFuY2VTZXR0aW5ncyhzZXR0aW5nczoge1xuICBpc19tYWludGVuYW5jZV9tb2RlPzogYm9vbGVhbjtcbiAgZHJvcF9kYXRlPzogc3RyaW5nO1xuICBtYWludGVuYW5jZV9tZXNzYWdlPzogc3RyaW5nO1xufSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0ge1xuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBcbiAgICBpZiAoc2V0dGluZ3MuaXNfbWFpbnRlbmFuY2VfbW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVEYXRhLmlzX21haW50ZW5hbmNlX21vZGUgPSBzZXR0aW5ncy5pc19tYWludGVuYW5jZV9tb2RlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZ3MuZHJvcF9kYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZURhdGEuZHJvcF9kYXRlID0gc2V0dGluZ3MuZHJvcF9kYXRlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZ3MubWFpbnRlbmFuY2VfbWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVEYXRhLm1haW50ZW5hbmNlX21lc3NhZ2UgPSBzZXR0aW5ncy5tYWludGVuYW5jZV9tZXNzYWdlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgbWFpbnRlbmFuY2Ugc2V0dGluZ3Mgd2l0aDonLCB1cGRhdGVEYXRhKTtcbiAgICBcbiAgICAvLyBUcnkgdXBkYXRlIGZpcnN0XG4gICAgY29uc3QgeyBkYXRhOiB1cGRhdGVSZXN1bHQsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYWludGVuYW5jZV9zZXR0aW5ncycpXG4gICAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgICAuZXEoJ2lkJywgJ21haW50ZW5hbmNlJylcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIGVycm9yOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdXBkYXRlIGZhaWxzLCB0cnkgaW5zZXJ0XG4gICAgICBjb25zdCB7IGRhdGE6IGluc2VydFJlc3VsdCwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbWFpbnRlbmFuY2Vfc2V0dGluZ3MnKVxuICAgICAgICAuaW5zZXJ0KFt7XG4gICAgICAgICAgaWQ6ICdtYWludGVuYW5jZScsXG4gICAgICAgICAgaXNfbWFpbnRlbmFuY2VfbW9kZTogc2V0dGluZ3MuaXNfbWFpbnRlbmFuY2VfbW9kZSA/PyBmYWxzZSxcbiAgICAgICAgICBkcm9wX2RhdGU6IHNldHRpbmdzLmRyb3BfZGF0ZSA/PyBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIG1haW50ZW5hbmNlX21lc3NhZ2U6IHNldHRpbmdzLm1haW50ZW5hbmNlX21lc3NhZ2UgPz8gJ1dlIGFyZSBjdXJyZW50bHkgcGVyZm9ybWluZyBtYWludGVuYW5jZS4gUGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH1dKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgXG4gICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignSW5zZXJ0IGVycm9yOicsIGluc2VydEVycm9yKTtcbiAgICAgICAgdGhyb3cgaW5zZXJ0RXJyb3I7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogQ3JlYXRlZCBtYWludGVuYW5jZSBzZXR0aW5ncycpO1xuICAgICAgcmV0dXJuIGluc2VydFJlc3VsdDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBVcGRhdGVkIG1haW50ZW5hbmNlIHNldHRpbmdzJyk7XG4gICAgcmV0dXJuIHVwZGF0ZVJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVNYWludGVuYW5jZVNldHRpbmdzIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBDdXN0b21lcnMgbWV0aG9kc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVycygpOiBQcm9taXNlPEN1c3RvbWVyW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2N1c3RvbWVycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldEN1c3RvbWVycyBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBGZXRjaGVkJywgZGF0YT8ubGVuZ3RoIHx8IDAsICdjdXN0b21lcnMnKTtcbiAgICByZXR1cm4gZGF0YSB8fCBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRDdXN0b21lcnMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDdXN0b21lcihjdXN0b21lckRhdGE6IE9taXQ8Q3VzdG9tZXIsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8Q3VzdG9tZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGN1c3RvbWVyID0ge1xuICAgICAgLi4uY3VzdG9tZXJEYXRhLFxuICAgICAgaWQ6IGBjdXN0b21lcl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICBjcmVhdGVkX2F0OiBub3csXG4gICAgICB1cGRhdGVkX2F0OiBub3dcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY3VzdG9tZXJzJylcbiAgICAgIC5pbnNlcnQoW2N1c3RvbWVyXSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYWRkQ3VzdG9tZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogQ3JlYXRlZCBjdXN0b21lcjonLCBkYXRhLmlkKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICAgIHBob25lOiBkYXRhLnBob25lLFxuICAgICAgYWRkcmVzczogZGF0YS5hZGRyZXNzLFxuICAgICAgY2l0eTogZGF0YS5jaXR5LFxuICAgICAgd2lsYXlhOiBkYXRhLndpbGF5YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZGF0YS5jcmVhdGVkX2F0KSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGF0YS51cGRhdGVkX2F0KVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYWRkQ3VzdG9tZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJjb252ZXJ0RGJQcm9kdWN0VG9Qcm9kdWN0IiwiZGJQcm9kdWN0IiwiY29uc29sZSIsImxvZyIsInByaWNlIiwicGFyc2VGbG9hdCIsImNvbnZlcnRlZFByb2R1Y3QiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm9yaWdpbmFsUHJpY2UiLCJvcmlnaW5hbF9wcmljZSIsInVuZGVmaW5lZCIsImltYWdlIiwiaW1hZ2VzIiwic3RvY2siLCJjYXRlZ29yeSIsInNpemVzIiwiY29sb3JzIiwiaW5TdG9jayIsImluX3N0b2NrIiwicmF0aW5nIiwicmV2aWV3cyIsInNrdSIsIndlaWdodCIsImRpbWVuc2lvbnMiLCJ0YWdzIiwiZmVhdHVyZWQiLCJzaXplQ2hhcnRDYXRlZ29yeSIsInNpemVfY2hhcnRfY2F0ZWdvcnkiLCJjdXN0b21TaXplQ2hhcnQiLCJjdXN0b21fc2l6ZV9jaGFydCIsInVzZUN1c3RvbVNpemVDaGFydCIsInVzZV9jdXN0b21fc2l6ZV9jaGFydCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsInByb2R1Y3RzQ2FjaGUiLCJwcm9kdWN0c0NhY2hlVGltZSIsIkNBQ0hFX0RVUkFUSU9OIiwiY2xlYXJQcm9kdWN0c0NhY2hlIiwiQ0FDSEVfQlVTVEVSIiwibm93IiwiZ2V0UHJvZHVjdHMiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJwcm9kdWN0cyIsIm1hcCIsImdldFByb2R1Y3QiLCJlcSIsInNpbmdsZSIsImFkZFByb2R1Y3QiLCJwcm9kdWN0IiwiSlNPTiIsInN0cmluZ2lmeSIsImluc2VydCIsImNvZGUiLCJtZXNzYWdlIiwiaGludCIsImluaXRpYWxpemVQcm9kdWN0SW52ZW50b3J5IiwiaW52ZW50b3J5RXJyb3IiLCJ1cGRhdGVQcm9kdWN0IiwidXBkYXRlIiwiZGVsZXRlUHJvZHVjdCIsImRlbGV0ZSIsImNvbnZlcnREYk9yZGVyVG9PcmRlciIsImRiT3JkZXIiLCJmaXJzdEl0ZW0iLCJpdGVtcyIsImxlbmd0aCIsInByb2R1Y3RJZCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdEltYWdlIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJQaG9uZSIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lckFkZHJlc3MiLCJjdXN0b21lckNpdHkiLCJ3aWxheWFJZCIsIndpbGF5YU5hbWUiLCJzaGlwcGluZ1R5cGUiLCJzaGlwcGluZ190eXBlIiwic2hpcHBpbmdDb3N0IiwiTnVtYmVyIiwic2hpcHBpbmdfY29zdCIsInF1YW50aXR5Iiwic2VsZWN0ZWRTaXplIiwic2VsZWN0ZWRDb2xvciIsInN1YnRvdGFsIiwidG90YWwiLCJvcmRlckRhdGUiLCJvcmRlcl9kYXRlIiwic3RhdHVzIiwidHJhY2tpbmdOdW1iZXIiLCJ0cmFja2luZ19udW1iZXIiLCJub3RlcyIsInBheW1lbnRNZXRob2QiLCJwYXltZW50X21ldGhvZCIsInBheW1lbnRTdGF0dXMiLCJwYXltZW50X3N0YXR1cyIsImVzdGltYXRlZERlbGl2ZXJ5Iiwib3JkZXJzQ2FjaGUiLCJvcmRlcnNDYWNoZVRpbWUiLCJnZXRPcmRlcnMiLCJvcmRlcnMiLCJnZXRPcmRlciIsImFkZE9yZGVyIiwiY3VzdG9tZXJfaWQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZU9yZGVyIiwidXBkYXRlRGF0YSIsImRlbGV0ZU9yZGVyIiwiYWRkSW52ZW50b3J5IiwiaW52ZW50b3J5UmVzdG9yZWQiLCJ3YXJuIiwiZ2V0V2lsYXlhVGFyaWZmcyIsInRyYW5zZm9ybWVkRGF0YSIsInRhcmlmZiIsInRvU3RyaW5nIiwid2lsYXlhX2lkIiwiZG9taWNpbGVfZWNvbW1lcmNlIiwic3RvcF9kZXNrX2Vjb21tZXJjZSIsImhvbWVfZGVsaXZlcnkiLCJzdG9wX2Rlc2siLCJob21lRGVsaXZlcnkiLCJzdG9wRGVzayIsImRvbWljaWxlRWNvbW1lcmNlIiwic3RvcERlc2tFY29tbWVyY2UiLCJ1cGRhdGVXaWxheWFUYXJpZmZzIiwidGFyaWZmcyIsIm5lcSIsInRyYW5zZm9ybWVkVGFyaWZmcyIsImdldEludmVudG9yeSIsInRvdGFsU3RvY2siLCJjYWxjdWxhdGVUb3RhbFN0b2NrIiwic3RvY2tCeVNpemUiLCJjYWxjdWxhdGVTdG9ja0J5U2l6ZSIsInVwZGF0ZUludmVudG9yeSIsInN0b2NrRGF0YSIsInVwZGF0ZU9iaiIsInNpemUiLCJjb2xvciIsInJlc3VsdCIsImZvckVhY2giLCJkZWR1Y3RTdG9ja0Zyb21PcmRlciIsImN1cnJlbnRTdG9jayIsInJlcXVlc3RlZCIsImF2YWlsYWJsZSIsIm5ld1N0b2NrIiwidXBkYXRlZFByb2R1Y3QiLCJpbnZlbnRvcnlEZWR1Y3RlZCIsImdldE1haW50ZW5hbmNlU2V0dGluZ3MiLCJpc19tYWludGVuYW5jZV9tb2RlIiwiZHJvcF9kYXRlIiwibWFpbnRlbmFuY2VfbWVzc2FnZSIsInVwZGF0ZU1haW50ZW5hbmNlU2V0dGluZ3MiLCJzZXR0aW5ncyIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZUVycm9yIiwiaW5zZXJ0UmVzdWx0IiwiaW5zZXJ0RXJyb3IiLCJnZXRDdXN0b21lcnMiLCJhZGRDdXN0b21lciIsImN1c3RvbWVyRGF0YSIsImN1c3RvbWVyIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsImVtYWlsIiwicGhvbmUiLCJhZGRyZXNzIiwiY2l0eSIsIndpbGF5YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabaseDatabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwilaya%2Froute&page=%2Fapi%2Fwilaya%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwilaya%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5CObsidian%20wear%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();