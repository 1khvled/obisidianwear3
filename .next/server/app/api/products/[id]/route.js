"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/[id]/route";
exports.ids = ["app/api/products/[id]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_HP_Desktop_projectt_src_app_api_products_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/products/[id]/route.ts */ \"(rsc)/./src/app/api/products/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/[id]/route\",\n        pathname: \"/api/products/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/[id]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\HP\\\\Desktop\\\\projectt\\\\src\\\\app\\\\api\\\\products\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_HP_Desktop_projectt_src_app_api_products_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/products/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRiU1QmlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9kdWN0cyUyRiU1QmlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvZHVjdHMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIUCU1Q0Rlc2t0b3AlNUNwcm9qZWN0dCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSFAlNUNEZXNrdG9wJTVDcHJvamVjdHQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2JzaWRpYW4td2Vhci8/OWI0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIUFxcXFxEZXNrdG9wXFxcXHByb2plY3R0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHByb2R1Y3RzXFxcXFtpZF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9kdWN0cy9baWRdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvZHVjdHMvW2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvZHVjdHMvW2lkXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEhQXFxcXERlc2t0b3BcXFxccHJvamVjdHRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvZHVjdHNcXFxcW2lkXVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9kdWN0cy9baWRdL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/products/[id]/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/products/[id]/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabaseDatabase */ \"(rsc)/./src/lib/supabaseDatabase.ts\");\n/* harmony import */ var _lib_authMiddleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/authMiddleware */ \"(rsc)/./src/lib/authMiddleware.ts\");\n\n\n\n// Ensure we use Node.js runtime for Supabase compatibility\nconst runtime = \"nodejs\";\n// GET /api/products/[id] - Get single product\nasync function GET(request, { params }) {\n    try {\n        const { id } = params;\n        // Check if Supabase is available\n        if (false) {}\n        const product = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.getProduct)(id);\n        if (!product) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Product not found\"\n            }, {\n                status: 404\n            });\n        }\n        console.log(\"Products API: GET single product:\", id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: product,\n            timestamp: Date.now()\n        });\n    } catch (error) {\n        console.error(\"Products API: GET single error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch product\"\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT /api/products/[id] - Update product (PROTECTED)\nconst PUT = (0,_lib_authMiddleware__WEBPACK_IMPORTED_MODULE_2__.withAuth)(async (request, { params })=>{\n    try {\n        const { id } = params;\n        const updateData = await request.json();\n        // Check if Supabase is available\n        if (false) {}\n        const updatedProduct = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.updateProduct)(id, {\n            ...updateData,\n            updatedAt: new Date()\n        });\n        if (!updatedProduct) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Product not found\"\n            }, {\n                status: 404\n            });\n        }\n        console.log(\"Products API: PUT request - updated product:\", id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: updatedProduct,\n            message: \"Product updated successfully\",\n            timestamp: Date.now()\n        });\n    } catch (error) {\n        console.error(\"Products API: PUT error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to update product\"\n        }, {\n            status: 500\n        });\n    }\n});\n// DELETE /api/products/[id] - Delete product (PROTECTED)\nconst DELETE = (0,_lib_authMiddleware__WEBPACK_IMPORTED_MODULE_2__.withAuth)(async (request, { params })=>{\n    try {\n        const { id } = params;\n        // Check if Supabase is available\n        if (false) {}\n        const deletedProduct = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.getProduct)(id);\n        if (!deletedProduct) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Product not found\"\n            }, {\n                status: 404\n            });\n        }\n        const success = await (0,_lib_supabaseDatabase__WEBPACK_IMPORTED_MODULE_1__.deleteProduct)(id);\n        if (!success) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Failed to delete product\"\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"Products API: DELETE request - deleted product:\", id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: deletedProduct,\n            message: \"Product deleted successfully\",\n            timestamp: Date.now()\n        });\n    } catch (error) {\n        console.error(\"Products API: DELETE error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to delete product\"\n        }, {\n            status: 500\n        });\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9kdWN0cy9baWRdL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7QUFFMEI7QUFDbEM7QUFFaEQsMkRBQTJEO0FBQ3BELE1BQU1LLFVBQVUsU0FBUztBQUVoQyw4Q0FBOEM7QUFDdkMsZUFBZUMsSUFDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBOEI7SUFFdEMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsRUFBRSxFQUFFLEdBQUdEO1FBRWYsaUNBQWlDO1FBQ2pDLElBQUksS0FBbUYsRUFBRSxFQU14RjtRQUVELE1BQU1XLFVBQVUsTUFBTWxCLGlFQUFVQSxDQUFDUTtRQUVqQyxJQUFJLENBQUNVLFNBQVM7WUFDWixPQUFPbkIsa0ZBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRixPQUFPO1lBQW9CLEdBQzdDO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQUosUUFBUU0sR0FBRyxDQUFDLHFDQUFxQ1g7UUFFakQsT0FBT1Qsa0ZBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEksTUFBTUY7WUFDTkcsV0FBV0MsS0FBS0MsR0FBRztRQUNyQjtJQUNGLEVBQUUsT0FBT1QsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPZixrRkFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPRixPQUFPO1FBQTBCLEdBQ25EO1lBQUVHLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUEsc0RBQXNEO0FBQy9DLE1BQU1PLE1BQU1yQiw2REFBUUEsQ0FBQyxPQUMxQkcsU0FDQSxFQUFFQyxNQUFNLEVBQThCO0lBRXRDLElBQUk7UUFDRixNQUFNLEVBQUVDLEVBQUUsRUFBRSxHQUFHRDtRQUNmLE1BQU1rQixhQUFhLE1BQU1uQixRQUFRUyxJQUFJO1FBRXJDLGlDQUFpQztRQUNqQyxJQUFJLEtBQW1GLEVBQUUsRUFNeEY7UUFFRCxNQUFNVyxpQkFBaUIsTUFBTXpCLG9FQUFhQSxDQUFDTyxJQUFJO1lBQzdDLEdBQUdpQixVQUFVO1lBQ2JFLFdBQVcsSUFBSUw7UUFDakI7UUFFQSxJQUFJLENBQUNJLGdCQUFnQjtZQUNuQixPQUFPM0Isa0ZBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRixPQUFPO1lBQW9CLEdBQzdDO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQUosUUFBUU0sR0FBRyxDQUFDLGdEQUFnRFg7UUFFNUQsT0FBT1Qsa0ZBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEksTUFBTU07WUFDTkUsU0FBUztZQUNUUCxXQUFXQyxLQUFLQyxHQUFHO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPVCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9mLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9GLE9BQU87UUFBMkIsR0FDcEQ7WUFBRUcsUUFBUTtRQUFJO0lBRWxCO0FBQ0YsR0FBRztBQUVILHlEQUF5RDtBQUNsRCxNQUFNWSxTQUFTMUIsNkRBQVFBLENBQUMsT0FDN0JHLFNBQ0EsRUFBRUMsTUFBTSxFQUE4QjtJQUV0QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxFQUFFLEVBQUUsR0FBR0Q7UUFFZixpQ0FBaUM7UUFDakMsSUFBSSxLQUFtRixFQUFFLEVBTXhGO1FBRUQsTUFBTXVCLGlCQUFpQixNQUFNOUIsaUVBQVVBLENBQUNRO1FBQ3hDLElBQUksQ0FBQ3NCLGdCQUFnQjtZQUNuQixPQUFPL0Isa0ZBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRixPQUFPO1lBQW9CLEdBQzdDO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNRCxVQUFVLE1BQU1kLG9FQUFhQSxDQUFDTTtRQUNwQyxJQUFJLENBQUNRLFNBQVM7WUFDWixPQUFPakIsa0ZBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRixPQUFPO1lBQTJCLEdBQ3BEO2dCQUFFRyxRQUFRO1lBQUk7UUFFbEI7UUFFQUosUUFBUU0sR0FBRyxDQUFDLG1EQUFtRFg7UUFFL0QsT0FBT1Qsa0ZBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEksTUFBTVU7WUFDTkYsU0FBUztZQUNUUCxXQUFXQyxLQUFLQyxHQUFHO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPVCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9mLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9GLE9BQU87UUFBMkIsR0FDcEQ7WUFBRUcsUUFBUTtRQUFJO0lBRWxCO0FBQ0YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL29ic2lkaWFuLXdlYXIvLi9zcmMvYXBwL2FwaS9wcm9kdWN0cy9baWRdL3JvdXRlLnRzPzJlMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IGdldFByb2R1Y3QsIHVwZGF0ZVByb2R1Y3QsIGRlbGV0ZVByb2R1Y3QgfSBmcm9tICdAL2xpYi9zdXBhYmFzZURhdGFiYXNlJztcbmltcG9ydCB7IHdpdGhBdXRoIH0gZnJvbSAnQC9saWIvYXV0aE1pZGRsZXdhcmUnO1xuXG4vLyBFbnN1cmUgd2UgdXNlIE5vZGUuanMgcnVudGltZSBmb3IgU3VwYWJhc2UgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJztcblxuLy8gR0VUIC9hcGkvcHJvZHVjdHMvW2lkXSAtIEdldCBzaW5nbGUgcHJvZHVjdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkIH0gPSBwYXJhbXM7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgaXMgYXZhaWxhYmxlXG4gICAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9kdWN0cyBBUEk6IE1pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGF0YWJhc2UgY29uZmlndXJhdGlvbiBtaXNzaW5nJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBnZXRQcm9kdWN0KGlkKTtcbiAgICBcbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdQcm9kdWN0cyBBUEk6IEdFVCBzaW5nbGUgcHJvZHVjdDonLCBpZCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBwcm9kdWN0LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHJvZHVjdHMgQVBJOiBHRVQgc2luZ2xlIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBwcm9kdWN0JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQVVQgL2FwaS9wcm9kdWN0cy9baWRdIC0gVXBkYXRlIHByb2R1Y3QgKFBST1RFQ1RFRClcbmV4cG9ydCBjb25zdCBQVVQgPSB3aXRoQXV0aChhc3luYyAoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBTdXBhYmFzZSBpcyBhdmFpbGFibGVcbiAgICBpZiAoIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAhcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2R1Y3RzIEFQSTogTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdEYXRhYmFzZSBjb25maWd1cmF0aW9uIG1pc3NpbmcnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCB1cGRhdGVQcm9kdWN0KGlkLCB7XG4gICAgICAuLi51cGRhdGVEYXRhLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCF1cGRhdGVkUHJvZHVjdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdQcm9kdWN0cyBBUEk6IFBVVCByZXF1ZXN0IC0gdXBkYXRlZCBwcm9kdWN0OicsIGlkKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LFxuICAgICAgbWVzc2FnZTogJ1Byb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHJvZHVjdHMgQVBJOiBQVVQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBwcm9kdWN0JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSk7XG5cbi8vIERFTEVURSAvYXBpL3Byb2R1Y3RzL1tpZF0gLSBEZWxldGUgcHJvZHVjdCAoUFJPVEVDVEVEKVxuZXhwb3J0IGNvbnN0IERFTEVURSA9IHdpdGhBdXRoKGFzeW5jIChcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkIH0gPSBwYXJhbXM7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgaXMgYXZhaWxhYmxlXG4gICAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgIXByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9kdWN0cyBBUEk6IE1pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGF0YWJhc2UgY29uZmlndXJhdGlvbiBtaXNzaW5nJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgZ2V0UHJvZHVjdChpZCk7XG4gICAgaWYgKCFkZWxldGVkUHJvZHVjdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGRlbGV0ZVByb2R1Y3QoaWQpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgcHJvZHVjdCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnUHJvZHVjdHMgQVBJOiBERUxFVEUgcmVxdWVzdCAtIGRlbGV0ZWQgcHJvZHVjdDonLCBpZCk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBkZWxldGVkUHJvZHVjdCxcbiAgICAgIG1lc3NhZ2U6ICdQcm9kdWN0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2R1Y3RzIEFQSTogREVMRVRFIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgcHJvZHVjdCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsIndpdGhBdXRoIiwicnVudGltZSIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJpZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJlcnJvciIsImpzb24iLCJzdWNjZXNzIiwic3RhdHVzIiwicHJvZHVjdCIsImxvZyIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiUFVUIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRQcm9kdWN0IiwidXBkYXRlZEF0IiwibWVzc2FnZSIsIkRFTEVURSIsImRlbGV0ZWRQcm9kdWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/products/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/authMiddleware.ts":
/*!***********************************!*\
  !*** ./src/lib/authMiddleware.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateRequest: () => (/* binding */ authenticateRequest),\n/* harmony export */   generateApiToken: () => (/* binding */ generateApiToken),\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _rateLimiter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rateLimiter */ \"(rsc)/./src/lib/rateLimiter.ts\");\n\n\n// Simple authentication middleware for API routes\nfunction authenticateRequest(request) {\n    // Get authorization header\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n        return false;\n    }\n    // Extract token\n    const token = authHeader.substring(7);\n    // Simple token validation (in production, use JWT or proper session validation)\n    const expectedToken = process.env.API_AUTH_TOKEN || \"obsidian-api-token-2025\";\n    return token === expectedToken;\n}\n// Middleware wrapper for protected API routes\nfunction withAuth(handler) {\n    return async (request, ...args)=>{\n        // Skip auth for public routes\n        const url = new URL(request.url);\n        const publicRoutes = [\n            \"/api/maintenance\",\n            \"/api/test-db\",\n            \"/api/test-supabase\"\n        ];\n        if (publicRoutes.some((route)=>url.pathname.startsWith(route))) {\n            return handler(request, ...args);\n        }\n        // Get client IP for rate limiting\n        const clientIP = request.ip || request.headers.get(\"x-forwarded-for\") || \"unknown\";\n        // Check rate limit\n        const rateLimitResult = (0,_rateLimiter__WEBPACK_IMPORTED_MODULE_1__.checkRateLimit)(clientIP, _rateLimiter__WEBPACK_IMPORTED_MODULE_1__.apiRateLimiter);\n        if (!rateLimitResult.allowed) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Too Many Requests\",\n                message: \"Rate limit exceeded. Please try again later.\"\n            }, {\n                status: 429,\n                headers: rateLimitResult.headers\n            });\n        }\n        // Check authentication\n        if (!authenticateRequest(request)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Unauthorized\",\n                message: \"Authentication required\"\n            }, {\n                status: 401,\n                headers: rateLimitResult.headers\n            });\n        }\n        return handler(request, ...args);\n    };\n}\n// Generate API token for admin\nfunction generateApiToken() {\n    return process.env.API_AUTH_TOKEN || \"obsidian-api-token-2025\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGhNaWRkbGV3YXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ087QUFFL0Qsa0RBQWtEO0FBQzNDLFNBQVNHLG9CQUFvQkMsT0FBb0I7SUFDdEQsMkJBQTJCO0lBQzNCLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBRXZDLElBQUksQ0FBQ0YsY0FBYyxDQUFDQSxXQUFXRyxVQUFVLENBQUMsWUFBWTtRQUNwRCxPQUFPO0lBQ1Q7SUFFQSxnQkFBZ0I7SUFDaEIsTUFBTUMsUUFBUUosV0FBV0ssU0FBUyxDQUFDO0lBRW5DLGdGQUFnRjtJQUNoRixNQUFNQyxnQkFBZ0JDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJO0lBRXBELE9BQU9MLFVBQVVFO0FBQ25CO0FBRUEsOENBQThDO0FBQ3ZDLFNBQVNJLFNBQVNDLE9BQWlCO0lBQ3hDLE9BQU8sT0FBT1osU0FBc0IsR0FBR2E7UUFDckMsOEJBQThCO1FBQzlCLE1BQU1DLE1BQU0sSUFBSUMsSUFBSWYsUUFBUWMsR0FBRztRQUMvQixNQUFNRSxlQUFlO1lBQUM7WUFBb0I7WUFBZ0I7U0FBcUI7UUFFL0UsSUFBSUEsYUFBYUMsSUFBSSxDQUFDQyxDQUFBQSxRQUFTSixJQUFJSyxRQUFRLENBQUNmLFVBQVUsQ0FBQ2MsU0FBUztZQUM5RCxPQUFPTixRQUFRWixZQUFZYTtRQUM3QjtRQUVBLGtDQUFrQztRQUNsQyxNQUFNTyxXQUFXcEIsUUFBUXFCLEVBQUUsSUFBSXJCLFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQjtRQUV6RSxtQkFBbUI7UUFDbkIsTUFBTW1CLGtCQUFrQnpCLDREQUFjQSxDQUFDdUIsVUFBVXRCLHdEQUFjQTtRQUMvRCxJQUFJLENBQUN3QixnQkFBZ0JDLE9BQU8sRUFBRTtZQUM1QixPQUFPM0Isa0ZBQVlBLENBQUM0QixJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNUQyxPQUFPO2dCQUNQQyxTQUFTO1lBQ1gsR0FDQTtnQkFDRUMsUUFBUTtnQkFDUjFCLFNBQVNvQixnQkFBZ0JwQixPQUFPO1lBQ2xDO1FBRUo7UUFFQSx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDSCxvQkFBb0JDLFVBQVU7WUFDakMsT0FBT0osa0ZBQVlBLENBQUM0QixJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNUQyxPQUFPO2dCQUNQQyxTQUFTO1lBQ1gsR0FDQTtnQkFDRUMsUUFBUTtnQkFDUjFCLFNBQVNvQixnQkFBZ0JwQixPQUFPO1lBQ2xDO1FBRUo7UUFFQSxPQUFPVSxRQUFRWixZQUFZYTtJQUM3QjtBQUNGO0FBRUEsK0JBQStCO0FBQ3hCLFNBQVNnQjtJQUNkLE9BQU9yQixRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL29ic2lkaWFuLXdlYXIvLi9zcmMvbGliL2F1dGhNaWRkbGV3YXJlLnRzP2IyNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY2hlY2tSYXRlTGltaXQsIGFwaVJhdGVMaW1pdGVyIH0gZnJvbSAnLi9yYXRlTGltaXRlcic7XHJcblxyXG4vLyBTaW1wbGUgYXV0aGVudGljYXRpb24gbWlkZGxld2FyZSBmb3IgQVBJIHJvdXRlc1xyXG5leHBvcnQgZnVuY3Rpb24gYXV0aGVudGljYXRlUmVxdWVzdChyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IGJvb2xlYW4ge1xyXG4gIC8vIEdldCBhdXRob3JpemF0aW9uIGhlYWRlclxyXG4gIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XHJcbiAgXHJcbiAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gRXh0cmFjdCB0b2tlblxyXG4gIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XHJcbiAgXHJcbiAgLy8gU2ltcGxlIHRva2VuIHZhbGlkYXRpb24gKGluIHByb2R1Y3Rpb24sIHVzZSBKV1Qgb3IgcHJvcGVyIHNlc3Npb24gdmFsaWRhdGlvbilcclxuICBjb25zdCBleHBlY3RlZFRva2VuID0gcHJvY2Vzcy5lbnYuQVBJX0FVVEhfVE9LRU4gfHwgJ29ic2lkaWFuLWFwaS10b2tlbi0yMDI1JztcclxuICBcclxuICByZXR1cm4gdG9rZW4gPT09IGV4cGVjdGVkVG9rZW47XHJcbn1cclxuXHJcbi8vIE1pZGRsZXdhcmUgd3JhcHBlciBmb3IgcHJvdGVjdGVkIEFQSSByb3V0ZXNcclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoKGhhbmRsZXI6IEZ1bmN0aW9uKSB7XHJcbiAgcmV0dXJuIGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIC8vIFNraXAgYXV0aCBmb3IgcHVibGljIHJvdXRlc1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbJy9hcGkvbWFpbnRlbmFuY2UnLCAnL2FwaS90ZXN0LWRiJywgJy9hcGkvdGVzdC1zdXBhYmFzZSddO1xyXG4gICAgXHJcbiAgICBpZiAocHVibGljUm91dGVzLnNvbWUocm91dGUgPT4gdXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpKSkge1xyXG4gICAgICByZXR1cm4gaGFuZGxlcihyZXF1ZXN0LCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgY2xpZW50IElQIGZvciByYXRlIGxpbWl0aW5nXHJcbiAgICBjb25zdCBjbGllbnRJUCA9IHJlcXVlc3QuaXAgfHwgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgJ3Vua25vd24nO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayByYXRlIGxpbWl0XHJcbiAgICBjb25zdCByYXRlTGltaXRSZXN1bHQgPSBjaGVja1JhdGVMaW1pdChjbGllbnRJUCwgYXBpUmF0ZUxpbWl0ZXIpO1xyXG4gICAgaWYgKCFyYXRlTGltaXRSZXN1bHQuYWxsb3dlZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgIGVycm9yOiAnVG9vIE1hbnkgUmVxdWVzdHMnLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ1JhdGUgbGltaXQgZXhjZWVkZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBzdGF0dXM6IDQyOSxcclxuICAgICAgICAgIGhlYWRlcnM6IHJhdGVMaW1pdFJlc3VsdC5oZWFkZXJzXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uXHJcbiAgICBpZiAoIWF1dGhlbnRpY2F0ZVJlcXVlc3QocmVxdWVzdCkpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCcsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHN0YXR1czogNDAxLFxyXG4gICAgICAgICAgaGVhZGVyczogcmF0ZUxpbWl0UmVzdWx0LmhlYWRlcnNcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxdWVzdCwgLi4uYXJncyk7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gR2VuZXJhdGUgQVBJIHRva2VuIGZvciBhZG1pblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVBcGlUb2tlbigpOiBzdHJpbmcge1xyXG4gIHJldHVybiBwcm9jZXNzLmVudi5BUElfQVVUSF9UT0tFTiB8fCAnb2JzaWRpYW4tYXBpLXRva2VuLTIwMjUnO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjaGVja1JhdGVMaW1pdCIsImFwaVJhdGVMaW1pdGVyIiwiYXV0aGVudGljYXRlUmVxdWVzdCIsInJlcXVlc3QiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInN1YnN0cmluZyIsImV4cGVjdGVkVG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiQVBJX0FVVEhfVE9LRU4iLCJ3aXRoQXV0aCIsImhhbmRsZXIiLCJhcmdzIiwidXJsIiwiVVJMIiwicHVibGljUm91dGVzIiwic29tZSIsInJvdXRlIiwicGF0aG5hbWUiLCJjbGllbnRJUCIsImlwIiwicmF0ZUxpbWl0UmVzdWx0IiwiYWxsb3dlZCIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwiZ2VuZXJhdGVBcGlUb2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/authMiddleware.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rateLimiter.ts":
/*!********************************!*\
  !*** ./src/lib/rateLimiter.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiRateLimiter: () => (/* binding */ apiRateLimiter),\n/* harmony export */   authRateLimiter: () => (/* binding */ authRateLimiter),\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit)\n/* harmony export */ });\n// Simple in-memory rate limiter\nclass RateLimiter {\n    constructor(windowMs = 60000, maxRequests = 100){\n        this.requests = new Map();\n        this.windowMs = windowMs;\n        this.maxRequests = maxRequests;\n    }\n    // Check if request is allowed\n    isAllowed(identifier) {\n        const now = Date.now();\n        const entry = this.requests.get(identifier);\n        if (!entry || now > entry.resetTime) {\n            // Create new entry or reset expired entry\n            this.requests.set(identifier, {\n                count: 1,\n                resetTime: now + this.windowMs\n            });\n            return {\n                allowed: true,\n                remaining: this.maxRequests - 1,\n                resetTime: now + this.windowMs\n            };\n        }\n        if (entry.count >= this.maxRequests) {\n            return {\n                allowed: false,\n                remaining: 0,\n                resetTime: entry.resetTime\n            };\n        }\n        // Increment count\n        entry.count++;\n        this.requests.set(identifier, entry);\n        return {\n            allowed: true,\n            remaining: this.maxRequests - entry.count,\n            resetTime: entry.resetTime\n        };\n    }\n    // Clean up expired entries\n    cleanup() {\n        const now = Date.now();\n        for (const [key, entry] of this.requests.entries()){\n            if (now > entry.resetTime) {\n                this.requests.delete(key);\n            }\n        }\n    }\n}\n// Create rate limiter instances\nconst apiRateLimiter = new RateLimiter(60000, 100); // 100 requests per minute\nconst authRateLimiter = new RateLimiter(300000, 5); // 5 login attempts per 5 minutes\n// Rate limiting middleware\nfunction checkRateLimit(identifier, limiter) {\n    const result = limiter.isAllowed(identifier);\n    // Clean up expired entries periodically\n    if (Math.random() < 0.01) {\n        limiter.cleanup();\n    }\n    const headers = {\n        \"X-RateLimit-Limit\": limiter[\"maxRequests\"].toString(),\n        \"X-RateLimit-Remaining\": result.remaining.toString(),\n        \"X-RateLimit-Reset\": new Date(result.resetTime).toISOString()\n    };\n    return {\n        allowed: result.allowed,\n        headers\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JhdGVMaW1pdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdDQUFnQztBQU1oQyxNQUFNQTtJQUtKQyxZQUFZQyxXQUFtQixLQUFLLEVBQUVDLGNBQXNCLEdBQUcsQ0FBRTthQUp6REMsV0FBd0MsSUFBSUM7UUFLbEQsSUFBSSxDQUFDSCxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtJQUNyQjtJQUVBLDhCQUE4QjtJQUM5QkcsVUFBVUMsVUFBa0IsRUFBOEQ7UUFDeEYsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztRQUNwQixNQUFNRSxRQUFRLElBQUksQ0FBQ04sUUFBUSxDQUFDTyxHQUFHLENBQUNKO1FBRWhDLElBQUksQ0FBQ0csU0FBU0YsTUFBTUUsTUFBTUUsU0FBUyxFQUFFO1lBQ25DLDBDQUEwQztZQUMxQyxJQUFJLENBQUNSLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDTixZQUFZO2dCQUM1Qk8sT0FBTztnQkFDUEYsV0FBV0osTUFBTSxJQUFJLENBQUNOLFFBQVE7WUFDaEM7WUFFQSxPQUFPO2dCQUNMYSxTQUFTO2dCQUNUQyxXQUFXLElBQUksQ0FBQ2IsV0FBVyxHQUFHO2dCQUM5QlMsV0FBV0osTUFBTSxJQUFJLENBQUNOLFFBQVE7WUFDaEM7UUFDRjtRQUVBLElBQUlRLE1BQU1JLEtBQUssSUFBSSxJQUFJLENBQUNYLFdBQVcsRUFBRTtZQUNuQyxPQUFPO2dCQUNMWSxTQUFTO2dCQUNUQyxXQUFXO2dCQUNYSixXQUFXRixNQUFNRSxTQUFTO1lBQzVCO1FBQ0Y7UUFFQSxrQkFBa0I7UUFDbEJGLE1BQU1JLEtBQUs7UUFDWCxJQUFJLENBQUNWLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDTixZQUFZRztRQUU5QixPQUFPO1lBQ0xLLFNBQVM7WUFDVEMsV0FBVyxJQUFJLENBQUNiLFdBQVcsR0FBR08sTUFBTUksS0FBSztZQUN6Q0YsV0FBV0YsTUFBTUUsU0FBUztRQUM1QjtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCSyxVQUFnQjtRQUNkLE1BQU1ULE1BQU1DLEtBQUtELEdBQUc7UUFDcEIsS0FBSyxNQUFNLENBQUNVLEtBQUtSLE1BQU0sSUFBSSxJQUFJLENBQUNOLFFBQVEsQ0FBQ2UsT0FBTyxHQUFJO1lBQ2xELElBQUlYLE1BQU1FLE1BQU1FLFNBQVMsRUFBRTtnQkFDekIsSUFBSSxDQUFDUixRQUFRLENBQUNnQixNQUFNLENBQUNGO1lBQ3ZCO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsZ0NBQWdDO0FBQ3pCLE1BQU1HLGlCQUFpQixJQUFJckIsWUFBWSxPQUFPLEtBQUssQ0FBQywwQkFBMEI7QUFDOUUsTUFBTXNCLGtCQUFrQixJQUFJdEIsWUFBWSxRQUFRLEdBQUcsQ0FBQyxpQ0FBaUM7QUFFNUYsMkJBQTJCO0FBQ3BCLFNBQVN1QixlQUFlaEIsVUFBa0IsRUFBRWlCLE9BQW9CO0lBQ3JFLE1BQU1DLFNBQVNELFFBQVFsQixTQUFTLENBQUNDO0lBRWpDLHdDQUF3QztJQUN4QyxJQUFJbUIsS0FBS0MsTUFBTSxLQUFLLE1BQU07UUFDeEJILFFBQVFQLE9BQU87SUFDakI7SUFFQSxNQUFNVyxVQUFVO1FBQ2QscUJBQXFCSixPQUFPLENBQUMsY0FBYyxDQUFDSyxRQUFRO1FBQ3BELHlCQUF5QkosT0FBT1QsU0FBUyxDQUFDYSxRQUFRO1FBQ2xELHFCQUFxQixJQUFJcEIsS0FBS2dCLE9BQU9iLFNBQVMsRUFBRWtCLFdBQVc7SUFDN0Q7SUFFQSxPQUFPO1FBQ0xmLFNBQVNVLE9BQU9WLE9BQU87UUFDdkJhO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29ic2lkaWFuLXdlYXIvLi9zcmMvbGliL3JhdGVMaW1pdGVyLnRzP2Y4MWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXJcclxuaW50ZXJmYWNlIFJhdGVMaW1pdEVudHJ5IHtcclxuICBjb3VudDogbnVtYmVyO1xyXG4gIHJlc2V0VGltZTogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBSYXRlTGltaXRlciB7XHJcbiAgcHJpdmF0ZSByZXF1ZXN0czogTWFwPHN0cmluZywgUmF0ZUxpbWl0RW50cnk+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgd2luZG93TXM6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IG1heFJlcXVlc3RzOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHdpbmRvd01zOiBudW1iZXIgPSA2MDAwMCwgbWF4UmVxdWVzdHM6IG51bWJlciA9IDEwMCkge1xyXG4gICAgdGhpcy53aW5kb3dNcyA9IHdpbmRvd01zO1xyXG4gICAgdGhpcy5tYXhSZXF1ZXN0cyA9IG1heFJlcXVlc3RzO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgcmVxdWVzdCBpcyBhbGxvd2VkXHJcbiAgaXNBbGxvd2VkKGlkZW50aWZpZXI6IHN0cmluZyk6IHsgYWxsb3dlZDogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXI7IHJlc2V0VGltZTogbnVtYmVyIH0ge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5yZXF1ZXN0cy5nZXQoaWRlbnRpZmllcik7XHJcblxyXG4gICAgaWYgKCFlbnRyeSB8fCBub3cgPiBlbnRyeS5yZXNldFRpbWUpIHtcclxuICAgICAgLy8gQ3JlYXRlIG5ldyBlbnRyeSBvciByZXNldCBleHBpcmVkIGVudHJ5XHJcbiAgICAgIHRoaXMucmVxdWVzdHMuc2V0KGlkZW50aWZpZXIsIHtcclxuICAgICAgICBjb3VudDogMSxcclxuICAgICAgICByZXNldFRpbWU6IG5vdyArIHRoaXMud2luZG93TXNcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGFsbG93ZWQ6IHRydWUsXHJcbiAgICAgICAgcmVtYWluaW5nOiB0aGlzLm1heFJlcXVlc3RzIC0gMSxcclxuICAgICAgICByZXNldFRpbWU6IG5vdyArIHRoaXMud2luZG93TXNcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZW50cnkuY291bnQgPj0gdGhpcy5tYXhSZXF1ZXN0cykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGFsbG93ZWQ6IGZhbHNlLFxyXG4gICAgICAgIHJlbWFpbmluZzogMCxcclxuICAgICAgICByZXNldFRpbWU6IGVudHJ5LnJlc2V0VGltZVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluY3JlbWVudCBjb3VudFxyXG4gICAgZW50cnkuY291bnQrKztcclxuICAgIHRoaXMucmVxdWVzdHMuc2V0KGlkZW50aWZpZXIsIGVudHJ5KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhbGxvd2VkOiB0cnVlLFxyXG4gICAgICByZW1haW5pbmc6IHRoaXMubWF4UmVxdWVzdHMgLSBlbnRyeS5jb3VudCxcclxuICAgICAgcmVzZXRUaW1lOiBlbnRyeS5yZXNldFRpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbiB1cCBleHBpcmVkIGVudHJpZXNcclxuICBjbGVhbnVwKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGZvciAoY29uc3QgW2tleSwgZW50cnldIG9mIHRoaXMucmVxdWVzdHMuZW50cmllcygpKSB7XHJcbiAgICAgIGlmIChub3cgPiBlbnRyeS5yZXNldFRpbWUpIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RzLmRlbGV0ZShrZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhdGUgcmF0ZSBsaW1pdGVyIGluc3RhbmNlc1xyXG5leHBvcnQgY29uc3QgYXBpUmF0ZUxpbWl0ZXIgPSBuZXcgUmF0ZUxpbWl0ZXIoNjAwMDAsIDEwMCk7IC8vIDEwMCByZXF1ZXN0cyBwZXIgbWludXRlXHJcbmV4cG9ydCBjb25zdCBhdXRoUmF0ZUxpbWl0ZXIgPSBuZXcgUmF0ZUxpbWl0ZXIoMzAwMDAwLCA1KTsgLy8gNSBsb2dpbiBhdHRlbXB0cyBwZXIgNSBtaW51dGVzXHJcblxyXG4vLyBSYXRlIGxpbWl0aW5nIG1pZGRsZXdhcmVcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmF0ZUxpbWl0KGlkZW50aWZpZXI6IHN0cmluZywgbGltaXRlcjogUmF0ZUxpbWl0ZXIpOiB7IGFsbG93ZWQ6IGJvb2xlYW47IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gbGltaXRlci5pc0FsbG93ZWQoaWRlbnRpZmllcik7XHJcbiAgXHJcbiAgLy8gQ2xlYW4gdXAgZXhwaXJlZCBlbnRyaWVzIHBlcmlvZGljYWxseVxyXG4gIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4wMSkgeyAvLyAxJSBjaGFuY2VcclxuICAgIGxpbWl0ZXIuY2xlYW51cCgpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6IGxpbWl0ZXJbJ21heFJlcXVlc3RzJ10udG9TdHJpbmcoKSxcclxuICAgICdYLVJhdGVMaW1pdC1SZW1haW5pbmcnOiByZXN1bHQucmVtYWluaW5nLnRvU3RyaW5nKCksXHJcbiAgICAnWC1SYXRlTGltaXQtUmVzZXQnOiBuZXcgRGF0ZShyZXN1bHQucmVzZXRUaW1lKS50b0lTT1N0cmluZygpXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGFsbG93ZWQ6IHJlc3VsdC5hbGxvd2VkLFxyXG4gICAgaGVhZGVyc1xyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJhdGVMaW1pdGVyIiwiY29uc3RydWN0b3IiLCJ3aW5kb3dNcyIsIm1heFJlcXVlc3RzIiwicmVxdWVzdHMiLCJNYXAiLCJpc0FsbG93ZWQiLCJpZGVudGlmaWVyIiwibm93IiwiRGF0ZSIsImVudHJ5IiwiZ2V0IiwicmVzZXRUaW1lIiwic2V0IiwiY291bnQiLCJhbGxvd2VkIiwicmVtYWluaW5nIiwiY2xlYW51cCIsImtleSIsImVudHJpZXMiLCJkZWxldGUiLCJhcGlSYXRlTGltaXRlciIsImF1dGhSYXRlTGltaXRlciIsImNoZWNrUmF0ZUxpbWl0IiwibGltaXRlciIsInJlc3VsdCIsIk1hdGgiLCJyYW5kb20iLCJoZWFkZXJzIiwidG9TdHJpbmciLCJ0b0lTT1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rateLimiter.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabaseDatabase.ts":
/*!*************************************!*\
  !*** ./src/lib/supabaseDatabase.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCustomer: () => (/* binding */ addCustomer),\n/* harmony export */   addOrder: () => (/* binding */ addOrder),\n/* harmony export */   addProduct: () => (/* binding */ addProduct),\n/* harmony export */   clearProductsCache: () => (/* binding */ clearProductsCache),\n/* harmony export */   deductStockFromOrder: () => (/* binding */ deductStockFromOrder),\n/* harmony export */   deleteOrder: () => (/* binding */ deleteOrder),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   getCustomers: () => (/* binding */ getCustomers),\n/* harmony export */   getInventory: () => (/* binding */ getInventory),\n/* harmony export */   getMaintenanceSettings: () => (/* binding */ getMaintenanceSettings),\n/* harmony export */   getOrder: () => (/* binding */ getOrder),\n/* harmony export */   getOrders: () => (/* binding */ getOrders),\n/* harmony export */   getProduct: () => (/* binding */ getProduct),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getWilayaTariffs: () => (/* binding */ getWilayaTariffs),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   updateInventory: () => (/* binding */ updateInventory),\n/* harmony export */   updateMaintenanceSettings: () => (/* binding */ updateMaintenanceSettings),\n/* harmony export */   updateOrder: () => (/* binding */ updateOrder),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   updateWilayaTariffs: () => (/* binding */ updateWilayaTariffs)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n// Database service using Supabase (free tier)\n// This provides persistent storage with a real database\n\n// Supabase configuration - MUST use environment variables\nconst supabaseUrl = \"https://twlegtqcyydgjkycxngw.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3bGVndHFjeXlkZ2preWN4bmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNzQ2MDAsImV4cCI6MjA3Mjc1MDYwMH0.uD9GD_ksHCDgmmPAgR7fcLUAJHRJtTkT-J-SVjU-WR0\";\nif (!supabaseUrl || !supabaseKey) {\n    throw new Error(\"Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n// Export the supabase client for direct use\n\n// Helper function to convert database product to Product interface\nfunction convertDbProductToProduct(dbProduct) {\n    // Debug logging\n    console.log(\"\\uD83D\\uDD0D DEBUG: Raw price from DB:\", dbProduct.price, \"Type:\", typeof dbProduct.price);\n    console.log(\"\\uD83D\\uDD0D DEBUG: Parsed price:\", parseFloat(dbProduct.price), \"Type:\", typeof parseFloat(dbProduct.price));\n    const convertedProduct = {\n        id: dbProduct.id,\n        name: dbProduct.name,\n        description: dbProduct.description,\n        price: parseFloat(dbProduct.price),\n        originalPrice: dbProduct.original_price ? parseFloat(dbProduct.original_price) : undefined,\n        image: dbProduct.image,\n        images: dbProduct.images || [],\n        stock: dbProduct.stock || {},\n        category: dbProduct.category,\n        sizes: dbProduct.sizes || [],\n        colors: dbProduct.colors || [],\n        inStock: dbProduct.in_stock,\n        rating: parseFloat(dbProduct.rating || 0),\n        reviews: dbProduct.reviews || 0,\n        sku: dbProduct.sku,\n        weight: dbProduct.weight ? parseFloat(dbProduct.weight) : undefined,\n        dimensions: dbProduct.dimensions,\n        tags: dbProduct.tags || [],\n        featured: dbProduct.featured || false,\n        sizeChartCategory: dbProduct.size_chart_category || \"T-Shirts\",\n        customSizeChart: dbProduct.custom_size_chart || undefined,\n        useCustomSizeChart: dbProduct.use_custom_size_chart || false,\n        createdAt: new Date(dbProduct.created_at),\n        updatedAt: new Date(dbProduct.updated_at)\n    };\n    console.log(\"\\uD83D\\uDD0D DEBUG: Final converted product price:\", convertedProduct.price, \"Type:\", typeof convertedProduct.price);\n    return convertedProduct;\n}\n// Cache for products to reduce database calls\nlet productsCache = null;\nlet productsCacheTime = 0;\nconst CACHE_DURATION = 30000; // 30 seconds\n// Clear cache function\nfunction clearProductsCache() {\n    productsCache = null;\n    productsCacheTime = 0;\n    console.log(\"Supabase: Products cache cleared\");\n}\n// Force clear cache immediately to fix price formatting issue\nclearProductsCache();\n// Add timestamp to force cache invalidation\nconst CACHE_BUSTER = Date.now();\nconsole.log(\"\\uD83D\\uDE80 Cache buster timestamp:\", CACHE_BUSTER);\n// Products operations\nasync function getProducts() {\n    try {\n        // Return cached data if still fresh\n        if (productsCache && Date.now() - productsCacheTime < CACHE_DURATION) {\n            console.log(\"Supabase: Returning cached products\");\n            return productsCache;\n        }\n        const { data, error } = await supabase.from(\"products\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getProducts error:\", error);\n            return productsCache || [];\n        }\n        const products = (data || []).map(convertDbProductToProduct);\n        // Update cache\n        productsCache = products;\n        productsCacheTime = Date.now();\n        return products;\n    } catch (error) {\n        console.error(\"Supabase getProducts error:\", error);\n        return productsCache || [];\n    }\n}\nasync function getProduct(id) {\n    try {\n        const { data, error } = await supabase.from(\"products\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            console.error(\"Supabase getProduct error:\", error);\n            return null;\n        }\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase getProduct error:\", error);\n        return null;\n    }\n}\nasync function addProduct(product) {\n    try {\n        // Convert camelCase to snake_case for database\n        const dbProduct = {\n            id: product.id,\n            name: product.name,\n            description: product.description,\n            price: product.price,\n            original_price: product.originalPrice,\n            image: product.image,\n            images: product.images || [],\n            stock: product.stock,\n            category: product.category,\n            sizes: product.sizes || [],\n            colors: product.colors || [],\n            in_stock: product.inStock,\n            rating: product.rating,\n            reviews: product.reviews,\n            sku: product.sku,\n            weight: product.weight,\n            dimensions: product.dimensions,\n            tags: product.tags || [],\n            featured: product.featured || false,\n            size_chart_category: product.sizeChartCategory || \"T-Shirts\",\n            custom_size_chart: product.customSizeChart || null,\n            use_custom_size_chart: product.useCustomSizeChart || false\n        };\n        const { data, error } = await supabase.from(\"products\").insert([\n            dbProduct\n        ]).select().single();\n        if (error) {\n            console.error(\"Supabase addProduct error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Added product:\", product.id);\n        // Initialize inventory for the new product\n        try {\n            const { initializeProductInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n            await initializeProductInventory(product.id);\n            console.log(\"Supabase: Initialized inventory for product:\", product.id);\n        } catch (inventoryError) {\n            console.error(\"Supabase: Failed to initialize inventory for product:\", product.id, inventoryError);\n        // Don't throw error here, product creation should still succeed\n        }\n        // Invalidate cache\n        productsCache = null;\n        // Convert back to camelCase\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase addProduct error:\", error);\n        throw error;\n    }\n}\nasync function updateProduct(id, product) {\n    try {\n        // Convert camelCase to snake_case for database\n        const dbProduct = {};\n        if (product.name !== undefined) dbProduct.name = product.name;\n        if (product.description !== undefined) dbProduct.description = product.description;\n        if (product.price !== undefined) dbProduct.price = product.price;\n        if (product.originalPrice !== undefined) dbProduct.original_price = product.originalPrice;\n        if (product.image !== undefined) dbProduct.image = product.image;\n        if (product.images !== undefined) dbProduct.images = product.images;\n        if (product.stock !== undefined) dbProduct.stock = product.stock;\n        if (product.category !== undefined) dbProduct.category = product.category;\n        if (product.sizes !== undefined) dbProduct.sizes = product.sizes;\n        if (product.colors !== undefined) dbProduct.colors = product.colors;\n        if (product.inStock !== undefined) dbProduct.in_stock = product.inStock;\n        if (product.rating !== undefined) dbProduct.rating = product.rating;\n        if (product.reviews !== undefined) dbProduct.reviews = product.reviews;\n        if (product.sku !== undefined) dbProduct.sku = product.sku;\n        if (product.weight !== undefined) dbProduct.weight = product.weight;\n        if (product.dimensions !== undefined) dbProduct.dimensions = product.dimensions;\n        if (product.tags !== undefined) dbProduct.tags = product.tags;\n        if (product.featured !== undefined) dbProduct.featured = product.featured;\n        if (product.sizeChartCategory !== undefined) dbProduct.size_chart_category = product.sizeChartCategory;\n        if (product.customSizeChart !== undefined) dbProduct.custom_size_chart = product.customSizeChart;\n        if (product.useCustomSizeChart !== undefined) dbProduct.use_custom_size_chart = product.useCustomSizeChart;\n        const { data, error } = await supabase.from(\"products\").update(dbProduct).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Supabase updateProduct error:\", error);\n            return null;\n        }\n        console.log(\"Supabase: Updated product:\", id);\n        // Invalidate cache\n        productsCache = null;\n        return convertDbProductToProduct(data);\n    } catch (error) {\n        console.error(\"Supabase updateProduct error:\", error);\n        return null;\n    }\n}\nasync function deleteProduct(id) {\n    try {\n        const { error } = await supabase.from(\"products\").delete().eq(\"id\", id);\n        if (error) {\n            console.error(\"Supabase deleteProduct error:\", error);\n            return false;\n        }\n        console.log(\"Supabase: Deleted product:\", id);\n        // Invalidate cache\n        productsCache = null;\n        return true;\n    } catch (error) {\n        console.error(\"Supabase deleteProduct error:\", error);\n        return false;\n    }\n}\n// Helper function to convert database order to Order interface\nfunction convertDbOrderToOrder(dbOrder) {\n    // Extract customer info from items or use defaults\n    const firstItem = dbOrder.items && dbOrder.items.length > 0 ? dbOrder.items[0] : {};\n    return {\n        id: dbOrder.id,\n        productId: firstItem.productId || \"\",\n        productName: firstItem.productName || \"\",\n        productImage: firstItem.productImage || \"\",\n        customerName: firstItem.customerName || \"\",\n        customerPhone: firstItem.customerPhone || \"\",\n        customerEmail: firstItem.customerEmail || \"\",\n        customerAddress: firstItem.customerAddress || \"\",\n        wilayaId: firstItem.wilayaId || 0,\n        wilayaName: firstItem.wilayaName || \"\",\n        shippingType: dbOrder.shipping_type || \"homeDelivery\",\n        shippingCost: Number(dbOrder.shipping_cost) || 0,\n        quantity: firstItem.quantity || 1,\n        selectedSize: firstItem.selectedSize || \"\",\n        selectedColor: firstItem.selectedColor || \"\",\n        subtotal: Number(dbOrder.total) - Number(dbOrder.shipping_cost) || 0,\n        total: Number(dbOrder.total) || 0,\n        orderDate: new Date(dbOrder.order_date),\n        status: dbOrder.status || \"pending\",\n        trackingNumber: dbOrder.tracking_number,\n        notes: firstItem.notes,\n        paymentMethod: dbOrder.payment_method || \"cod\",\n        paymentStatus: dbOrder.payment_status || \"pending\",\n        estimatedDelivery: firstItem.estimatedDelivery,\n        createdAt: new Date(dbOrder.created_at),\n        updatedAt: new Date(dbOrder.updated_at)\n    };\n}\n// Cache for orders to reduce database calls\nlet ordersCache = null;\nlet ordersCacheTime = 0;\n// Orders operations\nasync function getOrders() {\n    try {\n        // Return cached data if still fresh\n        if (ordersCache && Date.now() - ordersCacheTime < CACHE_DURATION) {\n            console.log(\"Supabase: Returning cached orders\");\n            return ordersCache;\n        }\n        const { data, error } = await supabase.from(\"orders\").select(\"*\").order(\"order_date\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getOrders error:\", error);\n            return ordersCache || [];\n        }\n        const orders = (data || []).map(convertDbOrderToOrder);\n        // Update cache\n        ordersCache = orders;\n        ordersCacheTime = Date.now();\n        return orders;\n    } catch (error) {\n        console.error(\"Supabase getOrders error:\", error);\n        return ordersCache || [];\n    }\n}\nasync function getOrder(id) {\n    try {\n        const { data, error } = await supabase.from(\"orders\").select(\"*\").eq(\"id\", id).single();\n        if (error) {\n            console.error(\"Supabase getOrder error:\", error);\n            return null;\n        }\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase getOrder error:\", error);\n        return null;\n    }\n}\nasync function addOrder(order) {\n    try {\n        // Convert Order interface to database format\n        const dbOrder = {\n            id: order.id,\n            customer_id: `CUST-${Date.now()}`,\n            items: [\n                {\n                    productId: order.productId,\n                    productName: order.productName,\n                    productImage: order.productImage,\n                    customerName: order.customerName,\n                    customerPhone: order.customerPhone,\n                    customerEmail: order.customerEmail,\n                    customerAddress: order.customerAddress,\n                    wilayaId: order.wilayaId,\n                    wilayaName: order.wilayaName,\n                    quantity: order.quantity,\n                    selectedSize: order.selectedSize,\n                    selectedColor: order.selectedColor,\n                    notes: order.notes,\n                    estimatedDelivery: order.estimatedDelivery\n                }\n            ],\n            total: order.total,\n            shipping_cost: order.shippingCost,\n            shipping_type: order.shippingType,\n            payment_method: order.paymentMethod,\n            payment_status: order.paymentStatus,\n            status: order.status,\n            tracking_number: order.trackingNumber,\n            order_date: order.orderDate.toISOString(),\n            created_at: order.createdAt.toISOString(),\n            updated_at: order.updatedAt.toISOString()\n        };\n        const { data, error } = await supabase.from(\"orders\").insert([\n            dbOrder\n        ]).select().single();\n        if (error) {\n            console.error(\"Supabase addOrder error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Added order:\", order.id);\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase addOrder error:\", error);\n        throw error;\n    }\n}\nasync function updateOrder(id, order) {\n    try {\n        // Convert partial Order to database format\n        const updateData = {\n            updated_at: new Date().toISOString()\n        };\n        if (order.status !== undefined) updateData.status = order.status;\n        if (order.paymentStatus !== undefined) updateData.payment_status = order.paymentStatus;\n        if (order.trackingNumber !== undefined) updateData.tracking_number = order.trackingNumber;\n        if (order.shippingType !== undefined) updateData.shipping_type = order.shippingType;\n        if (order.shippingCost !== undefined) updateData.shipping_cost = order.shippingCost;\n        if (order.total !== undefined) updateData.total = order.total;\n        if (order.paymentMethod !== undefined) updateData.payment_method = order.paymentMethod;\n        const { data, error } = await supabase.from(\"orders\").update(updateData).eq(\"id\", id).select().single();\n        if (error) {\n            console.error(\"Supabase updateOrder error:\", error);\n            return null;\n        }\n        console.log(\"Supabase: Updated order:\", id);\n        return convertDbOrderToOrder(data);\n    } catch (error) {\n        console.error(\"Supabase updateOrder error:\", error);\n        return null;\n    }\n}\nasync function deleteOrder(id) {\n    try {\n        // First, get the order details to restore inventory\n        const order = await getOrder(id);\n        if (!order) {\n            console.error(\"Supabase deleteOrder: Order not found:\", id);\n            return false;\n        }\n        // Restore inventory quantity\n        if (order.productId && order.selectedSize && order.selectedColor && order.quantity) {\n            try {\n                const { addInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n                const inventoryRestored = await addInventory(order.productId, order.selectedSize, order.selectedColor, order.quantity, `Order ${id} deleted - inventory restored`, \"admin\");\n                if (inventoryRestored) {\n                    console.log(\"Supabase deleteOrder: Inventory restored for order:\", id);\n                } else {\n                    console.warn(\"Supabase deleteOrder: Failed to restore inventory for order:\", id);\n                }\n            } catch (inventoryError) {\n                console.error(\"Supabase deleteOrder: Inventory restoration error:\", inventoryError);\n            // Continue with order deletion even if inventory restoration fails\n            }\n        }\n        // Delete the order\n        const { error } = await supabase.from(\"orders\").delete().eq(\"id\", id);\n        if (error) {\n            console.error(\"Supabase deleteOrder error:\", error);\n            return false;\n        }\n        console.log(\"Supabase: Deleted order:\", id);\n        return true;\n    } catch (error) {\n        console.error(\"Supabase deleteOrder error:\", error);\n        return false;\n    }\n}\n// Wilaya operations\nasync function getWilayaTariffs() {\n    try {\n        const { data, error } = await supabase.from(\"wilaya_tariffs\").select(\"*\").order(\"order\", {\n            ascending: true\n        });\n        if (error) {\n            console.error(\"Supabase getWilayaTariffs error:\", error);\n            return [];\n        }\n        // Transform the data to match the expected format\n        const transformedData = (data || []).map((tariff)=>({\n                id: tariff.id.toString(),\n                wilaya_id: tariff.wilaya_id,\n                name: tariff.name,\n                domicile_ecommerce: tariff.domicile_ecommerce,\n                stop_desk_ecommerce: tariff.stop_desk_ecommerce,\n                order: tariff.order,\n                // Legacy compatibility for backward compatibility\n                home_delivery: tariff.domicile_ecommerce,\n                stop_desk: tariff.stop_desk_ecommerce,\n                homeDelivery: tariff.domicile_ecommerce,\n                stopDesk: tariff.stop_desk_ecommerce,\n                domicileEcommerce: tariff.domicile_ecommerce,\n                stopDeskEcommerce: tariff.stop_desk_ecommerce\n            }));\n        return transformedData;\n    } catch (error) {\n        console.error(\"Supabase getWilayaTariffs error:\", error);\n        return [];\n    }\n}\nasync function updateWilayaTariffs(tariffs) {\n    try {\n        // Delete all existing tariffs\n        await supabase.from(\"wilaya_tariffs\").delete().neq(\"id\", 0); // Delete all records\n        // Insert new tariffs\n        if (tariffs.length > 0) {\n            // Transform the data to match database structure\n            const transformedTariffs = tariffs.map((tariff)=>({\n                    wilaya_id: tariff.wilaya_id || tariff.id,\n                    name: tariff.name,\n                    domicile_ecommerce: tariff.domicile_ecommerce || tariff.domicileEcommerce || tariff.home_delivery || tariff.homeDelivery || 0,\n                    stop_desk_ecommerce: tariff.stop_desk_ecommerce || tariff.stopDeskEcommerce || tariff.stop_desk || tariff.stopDesk || 0,\n                    order: tariff.order || 1\n                }));\n            const { error } = await supabase.from(\"wilaya_tariffs\").insert(transformedTariffs);\n            if (error) {\n                console.error(\"Supabase updateWilayaTariffs error:\", error);\n                throw error;\n            }\n        }\n        console.log(\"Supabase: Updated wilaya tariffs\");\n    } catch (error) {\n        console.error(\"Supabase updateWilayaTariffs error:\", error);\n        throw error;\n    }\n}\n// Inventory operations\nasync function getInventory() {\n    try {\n        const { data, error } = await supabase.from(\"products\").select(\"id, name, sku, stock, sizes, colors, in_stock, category\").order(\"name\");\n        if (error) {\n            console.error(\"Supabase getInventory error:\", error);\n            return [];\n        }\n        // Transform data for inventory management\n        return (data || []).map((product)=>({\n                id: product.id,\n                name: product.name,\n                sku: product.sku,\n                category: product.category,\n                inStock: product.in_stock,\n                stock: product.stock || {},\n                sizes: product.sizes || [],\n                colors: product.colors || [],\n                totalStock: calculateTotalStock(product.stock || {}),\n                stockBySize: calculateStockBySize(product.stock || {}, product.sizes || [], product.colors || [])\n            }));\n    } catch (error) {\n        console.error(\"Supabase getInventory error:\", error);\n        return [];\n    }\n}\nasync function updateInventory(productId, stockData) {\n    try {\n        const updateObj = {\n            updated_at: new Date().toISOString()\n        };\n        if (stockData.stock) {\n            updateObj.stock = stockData.stock;\n        }\n        if (stockData.inStock !== undefined) {\n            updateObj.in_stock = stockData.inStock;\n        }\n        const { data, error } = await supabase.from(\"products\").update(updateObj).eq(\"id\", productId).select().single();\n        if (error) {\n            console.error(\"Supabase updateInventory error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Updated inventory for product:\", productId);\n        return {\n            id: data.id,\n            name: data.name,\n            stock: data.stock,\n            inStock: data.in_stock,\n            totalStock: calculateTotalStock(data.stock)\n        };\n    } catch (error) {\n        console.error(\"Supabase updateInventory error:\", error);\n        throw error;\n    }\n}\n// Helper functions for inventory calculations\nfunction calculateTotalStock(stock) {\n    if (!stock || typeof stock !== \"object\") return 0;\n    let total = 0;\n    for(const size in stock){\n        if (typeof stock[size] === \"object\") {\n            for(const color in stock[size]){\n                total += Number(stock[size][color]) || 0;\n            }\n        }\n    }\n    return total;\n}\nfunction calculateStockBySize(stock, sizes, colors) {\n    const result = {};\n    sizes.forEach((size)=>{\n        result[size] = {};\n        colors.forEach((color)=>{\n            result[size][color] = Number(stock[size]?.[color]) || 0;\n        });\n    });\n    return result;\n}\n// Stock deduction function for orders\nasync function deductStockFromOrder(order) {\n    try {\n        console.log(\"Supabase: Deducting stock for order:\", order.id);\n        // Get the product\n        const product = await getProduct(order.productId);\n        if (!product) {\n            console.error(\"Supabase: Product not found for order:\", order.productId);\n            return false;\n        }\n        // Check if we have enough stock\n        const currentStock = product.stock?.[order.selectedSize]?.[order.selectedColor] || 0;\n        if (currentStock < order.quantity) {\n            console.error(\"Supabase: Insufficient stock for order:\", {\n                productId: order.productId,\n                size: order.selectedSize,\n                color: order.selectedColor,\n                requested: order.quantity,\n                available: currentStock\n            });\n            return false;\n        }\n        // Deduct the stock from product\n        const newStock = {\n            ...product.stock,\n            [order.selectedSize]: {\n                ...product.stock?.[order.selectedSize],\n                [order.selectedColor]: currentStock - order.quantity\n            }\n        };\n        // Update the product stock\n        const updatedProduct = await updateProduct(order.productId, {\n            stock: newStock,\n            inStock: calculateTotalStock(newStock) > 0\n        });\n        if (!updatedProduct) {\n            console.error(\"Supabase: Failed to update product stock for order:\", order.id);\n            return false;\n        }\n        // Also deduct from inventory system\n        try {\n            const { addInventory } = await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_inventoryService_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\"));\n            const inventoryDeducted = await addInventory(order.productId, order.selectedSize, order.selectedColor, -order.quantity, `Order ${order.id} created - stock deducted`, \"system\");\n            if (inventoryDeducted) {\n                console.log(\"Supabase: Successfully deducted inventory for order:\", order.id);\n            } else {\n                console.warn(\"Supabase: Failed to deduct inventory for order:\", order.id);\n            }\n        } catch (inventoryError) {\n            console.error(\"Supabase: Inventory deduction error:\", inventoryError);\n        // Continue even if inventory update fails\n        }\n        console.log(\"Supabase: Successfully deducted stock for order:\", order.id);\n        return true;\n    } catch (error) {\n        console.error(\"Supabase: Error deducting stock for order:\", error);\n        return false;\n    }\n}\n// Maintenance settings operations\nasync function getMaintenanceSettings() {\n    try {\n        const { data, error } = await supabase.from(\"maintenance_settings\").select(\"*\").eq(\"id\", \"maintenance\").single();\n        if (error) {\n            console.error(\"Supabase getMaintenanceSettings error:\", error);\n            // If table doesn't exist, return default settings\n            if (error.code === \"PGRST205\") {\n                console.log(\"Maintenance settings table not found, using default settings\");\n            }\n            // Return default settings if no data exists\n            return {\n                id: \"maintenance\",\n                is_maintenance_mode: false,\n                drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n                maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n                created_at: new Date().toISOString(),\n                updated_at: new Date().toISOString()\n            };\n        }\n        return data || {\n            id: \"maintenance\",\n            is_maintenance_mode: false,\n            drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n            maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n    } catch (error) {\n        console.error(\"Supabase getMaintenanceSettings error:\", error);\n        return {\n            id: \"maintenance\",\n            is_maintenance_mode: false,\n            drop_date: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n            maintenance_message: \"We are currently performing maintenance. Please check back later.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n    }\n}\nasync function updateMaintenanceSettings(settings) {\n    try {\n        const updateData = {\n            updated_at: new Date().toISOString()\n        };\n        if (settings.is_maintenance_mode !== undefined) {\n            updateData.is_maintenance_mode = settings.is_maintenance_mode;\n        }\n        if (settings.drop_date !== undefined) {\n            updateData.drop_date = settings.drop_date;\n        }\n        if (settings.maintenance_message !== undefined) {\n            updateData.maintenance_message = settings.maintenance_message;\n        }\n        console.log(\"Updating maintenance settings with:\", updateData);\n        // Try update first\n        const { data: updateResult, error: updateError } = await supabase.from(\"maintenance_settings\").update(updateData).eq(\"id\", \"maintenance\").select().single();\n        if (updateError) {\n            console.error(\"Update error:\", updateError);\n            // If update fails, try insert\n            const { data: insertResult, error: insertError } = await supabase.from(\"maintenance_settings\").insert([\n                {\n                    id: \"maintenance\",\n                    is_maintenance_mode: settings.is_maintenance_mode ?? false,\n                    drop_date: settings.drop_date ?? new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\n                    maintenance_message: settings.maintenance_message ?? \"We are currently performing maintenance. Please check back later.\",\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                }\n            ]).select().single();\n            if (insertError) {\n                console.error(\"Insert error:\", insertError);\n                throw insertError;\n            }\n            console.log(\"Supabase: Created maintenance settings\");\n            return insertResult;\n        }\n        console.log(\"Supabase: Updated maintenance settings\");\n        return updateResult;\n    } catch (error) {\n        console.error(\"Supabase updateMaintenanceSettings error:\", error);\n        throw error;\n    }\n}\n// Customers methods\nasync function getCustomers() {\n    try {\n        const { data, error } = await supabase.from(\"customers\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) {\n            console.error(\"Supabase getCustomers error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Fetched\", data?.length || 0, \"customers\");\n        return data || [];\n    } catch (error) {\n        console.error(\"Supabase getCustomers error:\", error);\n        throw error;\n    }\n}\nasync function addCustomer(customerData) {\n    try {\n        const now = new Date().toISOString();\n        const customer = {\n            ...customerData,\n            id: `customer_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            created_at: now,\n            updated_at: now\n        };\n        const { data, error } = await supabase.from(\"customers\").insert([\n            customer\n        ]).select().single();\n        if (error) {\n            console.error(\"Supabase addCustomer error:\", error);\n            throw error;\n        }\n        console.log(\"Supabase: Created customer:\", data.id);\n        return {\n            id: data.id,\n            name: data.name,\n            email: data.email,\n            phone: data.phone,\n            address: data.address,\n            city: data.city,\n            wilaya: data.wilaya,\n            createdAt: new Date(data.created_at),\n            updatedAt: new Date(data.updated_at)\n        };\n    } catch (error) {\n        console.error(\"Supabase addCustomer error:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVFLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWhELFNBQzNCaUQsSUFBSSxDQUFDLGFBQ0xXLE1BQU0sQ0FBQztZQUFDMEc7U0FBUyxFQUNqQnBILE1BQU0sR0FDTk8sTUFBTTtRQUVULElBQUlULE9BQU87WUFDVDdDLFFBQVE2QyxLQUFLLENBQUMsK0JBQStCQTtZQUM3QyxNQUFNQTtRQUNSO1FBRUE3QyxRQUFRQyxHQUFHLENBQUMsK0JBQStCMkMsS0FBS3ZDLEVBQUU7UUFDbEQsT0FBTztZQUNMQSxJQUFJdUMsS0FBS3ZDLEVBQUU7WUFDWEMsTUFBTXNDLEtBQUt0QyxJQUFJO1lBQ2ZpSyxPQUFPM0gsS0FBSzJILEtBQUs7WUFDakJDLE9BQU81SCxLQUFLNEgsS0FBSztZQUNqQkMsU0FBUzdILEtBQUs2SCxPQUFPO1lBQ3JCQyxNQUFNOUgsS0FBSzhILElBQUk7WUFDZkMsUUFBUS9ILEtBQUsrSCxNQUFNO1lBQ25CM0ksV0FBVyxJQUFJQyxLQUFLVyxLQUFLVixVQUFVO1lBQ25DQyxXQUFXLElBQUlGLEtBQUtXLEtBQUtSLFVBQVU7UUFDckM7SUFDRixFQUFFLE9BQU9TLE9BQU87UUFDZDdDLFFBQVE2QyxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vYnNpZGlhbi13ZWFyLy4vc3JjL2xpYi9zdXBhYmFzZURhdGFiYXNlLnRzP2Y0MjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGF0YWJhc2Ugc2VydmljZSB1c2luZyBTdXBhYmFzZSAoZnJlZSB0aWVyKVxuLy8gVGhpcyBwcm92aWRlcyBwZXJzaXN0ZW50IHN0b3JhZ2Ugd2l0aCBhIHJlYWwgZGF0YWJhc2VcblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IFByb2R1Y3QsIE9yZGVyIH0gZnJvbSAnQC90eXBlcyc7XG5cbi8vIEN1c3RvbWVyIGludGVyZmFjZVxuaW50ZXJmYWNlIEN1c3RvbWVyIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwaG9uZTogc3RyaW5nO1xuICBhZGRyZXNzOiBzdHJpbmc7XG4gIGNpdHk6IHN0cmluZztcbiAgd2lsYXlhOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG4vLyBTdXBhYmFzZSBjb25maWd1cmF0aW9uIC0gTVVTVCB1c2UgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG5cbmlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlS2V5KSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFBsZWFzZSBzZXQgTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGFuZCBORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWScpO1xufVxuXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkpO1xuXG4vLyBFeHBvcnQgdGhlIHN1cGFiYXNlIGNsaWVudCBmb3IgZGlyZWN0IHVzZVxuZXhwb3J0IHsgc3VwYWJhc2UgfTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgZGF0YWJhc2UgcHJvZHVjdCB0byBQcm9kdWN0IGludGVyZmFjZVxuZnVuY3Rpb24gY29udmVydERiUHJvZHVjdFRvUHJvZHVjdChkYlByb2R1Y3Q6IGFueSk6IFByb2R1Y3Qge1xuICAvLyBEZWJ1ZyBsb2dnaW5nXG4gIGNvbnNvbGUubG9nKCfwn5SNIERFQlVHOiBSYXcgcHJpY2UgZnJvbSBEQjonLCBkYlByb2R1Y3QucHJpY2UsICdUeXBlOicsIHR5cGVvZiBkYlByb2R1Y3QucHJpY2UpO1xuICBjb25zb2xlLmxvZygn8J+UjSBERUJVRzogUGFyc2VkIHByaWNlOicsIHBhcnNlRmxvYXQoZGJQcm9kdWN0LnByaWNlKSwgJ1R5cGU6JywgdHlwZW9mIHBhcnNlRmxvYXQoZGJQcm9kdWN0LnByaWNlKSk7XG4gIFxuICBjb25zdCBjb252ZXJ0ZWRQcm9kdWN0ID0ge1xuICAgIGlkOiBkYlByb2R1Y3QuaWQsXG4gICAgbmFtZTogZGJQcm9kdWN0Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGRiUHJvZHVjdC5kZXNjcmlwdGlvbixcbiAgICBwcmljZTogcGFyc2VGbG9hdChkYlByb2R1Y3QucHJpY2UpLFxuICAgIG9yaWdpbmFsUHJpY2U6IGRiUHJvZHVjdC5vcmlnaW5hbF9wcmljZSA/IHBhcnNlRmxvYXQoZGJQcm9kdWN0Lm9yaWdpbmFsX3ByaWNlKSA6IHVuZGVmaW5lZCxcbiAgICBpbWFnZTogZGJQcm9kdWN0LmltYWdlLFxuICAgIGltYWdlczogZGJQcm9kdWN0LmltYWdlcyB8fCBbXSxcbiAgICBzdG9jazogZGJQcm9kdWN0LnN0b2NrIHx8IHt9LFxuICAgIGNhdGVnb3J5OiBkYlByb2R1Y3QuY2F0ZWdvcnksXG4gICAgc2l6ZXM6IGRiUHJvZHVjdC5zaXplcyB8fCBbXSxcbiAgICBjb2xvcnM6IGRiUHJvZHVjdC5jb2xvcnMgfHwgW10sXG4gICAgaW5TdG9jazogZGJQcm9kdWN0LmluX3N0b2NrLFxuICAgIHJhdGluZzogcGFyc2VGbG9hdChkYlByb2R1Y3QucmF0aW5nIHx8IDApLFxuICAgIHJldmlld3M6IGRiUHJvZHVjdC5yZXZpZXdzIHx8IDAsXG4gICAgc2t1OiBkYlByb2R1Y3Quc2t1LFxuICAgIHdlaWdodDogZGJQcm9kdWN0LndlaWdodCA/IHBhcnNlRmxvYXQoZGJQcm9kdWN0LndlaWdodCkgOiB1bmRlZmluZWQsXG4gICAgZGltZW5zaW9uczogZGJQcm9kdWN0LmRpbWVuc2lvbnMsXG4gICAgdGFnczogZGJQcm9kdWN0LnRhZ3MgfHwgW10sXG4gICAgZmVhdHVyZWQ6IGRiUHJvZHVjdC5mZWF0dXJlZCB8fCBmYWxzZSxcbiAgICBzaXplQ2hhcnRDYXRlZ29yeTogZGJQcm9kdWN0LnNpemVfY2hhcnRfY2F0ZWdvcnkgfHwgJ1QtU2hpcnRzJyxcbiAgICBjdXN0b21TaXplQ2hhcnQ6IGRiUHJvZHVjdC5jdXN0b21fc2l6ZV9jaGFydCB8fCB1bmRlZmluZWQsXG4gICAgdXNlQ3VzdG9tU2l6ZUNoYXJ0OiBkYlByb2R1Y3QudXNlX2N1c3RvbV9zaXplX2NoYXJ0IHx8IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZGJQcm9kdWN0LmNyZWF0ZWRfYXQpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGJQcm9kdWN0LnVwZGF0ZWRfYXQpXG4gIH07XG4gIFxuICBjb25zb2xlLmxvZygn8J+UjSBERUJVRzogRmluYWwgY29udmVydGVkIHByb2R1Y3QgcHJpY2U6JywgY29udmVydGVkUHJvZHVjdC5wcmljZSwgJ1R5cGU6JywgdHlwZW9mIGNvbnZlcnRlZFByb2R1Y3QucHJpY2UpO1xuICByZXR1cm4gY29udmVydGVkUHJvZHVjdDtcbn1cblxuLy8gQ2FjaGUgZm9yIHByb2R1Y3RzIHRvIHJlZHVjZSBkYXRhYmFzZSBjYWxsc1xubGV0IHByb2R1Y3RzQ2FjaGU6IFByb2R1Y3RbXSB8IG51bGwgPSBudWxsO1xubGV0IHByb2R1Y3RzQ2FjaGVUaW1lID0gMDtcbmNvbnN0IENBQ0hFX0RVUkFUSU9OID0gMzAwMDA7IC8vIDMwIHNlY29uZHNcblxuLy8gQ2xlYXIgY2FjaGUgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclByb2R1Y3RzQ2FjaGUoKTogdm9pZCB7XG4gIHByb2R1Y3RzQ2FjaGUgPSBudWxsO1xuICBwcm9kdWN0c0NhY2hlVGltZSA9IDA7XG4gIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogUHJvZHVjdHMgY2FjaGUgY2xlYXJlZCcpO1xufVxuXG4vLyBGb3JjZSBjbGVhciBjYWNoZSBpbW1lZGlhdGVseSB0byBmaXggcHJpY2UgZm9ybWF0dGluZyBpc3N1ZVxuY2xlYXJQcm9kdWN0c0NhY2hlKCk7XG5cbi8vIEFkZCB0aW1lc3RhbXAgdG8gZm9yY2UgY2FjaGUgaW52YWxpZGF0aW9uXG5jb25zdCBDQUNIRV9CVVNURVIgPSBEYXRlLm5vdygpO1xuY29uc29sZS5sb2coJ/CfmoAgQ2FjaGUgYnVzdGVyIHRpbWVzdGFtcDonLCBDQUNIRV9CVVNURVIpO1xuXG4vLyBQcm9kdWN0cyBvcGVyYXRpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdHMoKTogUHJvbWlzZTxQcm9kdWN0W10+IHtcbiAgdHJ5IHtcbiAgICAvLyBSZXR1cm4gY2FjaGVkIGRhdGEgaWYgc3RpbGwgZnJlc2hcbiAgICBpZiAocHJvZHVjdHNDYWNoZSAmJiBEYXRlLm5vdygpIC0gcHJvZHVjdHNDYWNoZVRpbWUgPCBDQUNIRV9EVVJBVElPTikge1xuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBSZXR1cm5pbmcgY2FjaGVkIHByb2R1Y3RzJyk7XG4gICAgICByZXR1cm4gcHJvZHVjdHNDYWNoZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0UHJvZHVjdHMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHByb2R1Y3RzQ2FjaGUgfHwgW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHByb2R1Y3RzID0gKGRhdGEgfHwgW10pLm1hcChjb252ZXJ0RGJQcm9kdWN0VG9Qcm9kdWN0KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgY2FjaGVcbiAgICBwcm9kdWN0c0NhY2hlID0gcHJvZHVjdHM7XG4gICAgcHJvZHVjdHNDYWNoZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIFxuICAgIHJldHVybiBwcm9kdWN0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRQcm9kdWN0cyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHByb2R1Y3RzQ2FjaGUgfHwgW107XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3QoaWQ6IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdCB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0UHJvZHVjdCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNvbnZlcnREYlByb2R1Y3RUb1Byb2R1Y3QoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0UHJvZHVjdCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFByb2R1Y3QocHJvZHVjdDogUHJvZHVjdCk6IFByb21pc2U8UHJvZHVjdD4ge1xuICB0cnkge1xuICAgIC8vIENvbnZlcnQgY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2UgZm9yIGRhdGFiYXNlXG4gICAgY29uc3QgZGJQcm9kdWN0ID0ge1xuICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcbiAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgb3JpZ2luYWxfcHJpY2U6IHByb2R1Y3Qub3JpZ2luYWxQcmljZSxcbiAgICAgIGltYWdlOiBwcm9kdWN0LmltYWdlLFxuICAgICAgaW1hZ2VzOiBwcm9kdWN0LmltYWdlcyB8fCBbXSxcbiAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrLFxuICAgICAgY2F0ZWdvcnk6IHByb2R1Y3QuY2F0ZWdvcnksXG4gICAgICBzaXplczogcHJvZHVjdC5zaXplcyB8fCBbXSxcbiAgICAgIGNvbG9yczogcHJvZHVjdC5jb2xvcnMgfHwgW10sXG4gICAgICBpbl9zdG9jazogcHJvZHVjdC5pblN0b2NrLFxuICAgICAgcmF0aW5nOiBwcm9kdWN0LnJhdGluZyxcbiAgICAgIHJldmlld3M6IHByb2R1Y3QucmV2aWV3cyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICB3ZWlnaHQ6IHByb2R1Y3Qud2VpZ2h0LFxuICAgICAgZGltZW5zaW9uczogcHJvZHVjdC5kaW1lbnNpb25zLFxuICAgICAgdGFnczogcHJvZHVjdC50YWdzIHx8IFtdLFxuICAgICAgZmVhdHVyZWQ6IHByb2R1Y3QuZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICBzaXplX2NoYXJ0X2NhdGVnb3J5OiBwcm9kdWN0LnNpemVDaGFydENhdGVnb3J5IHx8ICdULVNoaXJ0cycsXG4gICAgICBjdXN0b21fc2l6ZV9jaGFydDogcHJvZHVjdC5jdXN0b21TaXplQ2hhcnQgfHwgbnVsbCxcbiAgICAgIHVzZV9jdXN0b21fc2l6ZV9jaGFydDogcHJvZHVjdC51c2VDdXN0b21TaXplQ2hhcnQgfHwgZmFsc2VcbiAgICAgIC8vIGNyZWF0ZWRfYXQgYW5kIHVwZGF0ZWRfYXQgYXJlIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBkYXRhYmFzZVxuICAgIH07XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5pbnNlcnQoW2RiUHJvZHVjdF0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGFkZFByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogQWRkZWQgcHJvZHVjdDonLCBwcm9kdWN0LmlkKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGludmVudG9yeSBmb3IgdGhlIG5ldyBwcm9kdWN0XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgaW5pdGlhbGl6ZVByb2R1Y3RJbnZlbnRvcnkgfSA9IGF3YWl0IGltcG9ydCgnLi9pbnZlbnRvcnlTZXJ2aWNlJyk7XG4gICAgICBhd2FpdCBpbml0aWFsaXplUHJvZHVjdEludmVudG9yeShwcm9kdWN0LmlkKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogSW5pdGlhbGl6ZWQgaW52ZW50b3J5IGZvciBwcm9kdWN0OicsIHByb2R1Y3QuaWQpO1xuICAgIH0gY2F0Y2ggKGludmVudG9yeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZTogRmFpbGVkIHRvIGluaXRpYWxpemUgaW52ZW50b3J5IGZvciBwcm9kdWN0OicsIHByb2R1Y3QuaWQsIGludmVudG9yeUVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IGVycm9yIGhlcmUsIHByb2R1Y3QgY3JlYXRpb24gc2hvdWxkIHN0aWxsIHN1Y2NlZWRcbiAgICB9XG4gICAgXG4gICAgLy8gSW52YWxpZGF0ZSBjYWNoZVxuICAgIHByb2R1Y3RzQ2FjaGUgPSBudWxsO1xuICAgIFxuICAgIC8vIENvbnZlcnQgYmFjayB0byBjYW1lbENhc2VcbiAgICByZXR1cm4gY29udmVydERiUHJvZHVjdFRvUHJvZHVjdChkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBhZGRQcm9kdWN0IGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZHVjdChpZDogc3RyaW5nLCBwcm9kdWN0OiBQYXJ0aWFsPFByb2R1Y3Q+KTogUHJvbWlzZTxQcm9kdWN0IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIC8vIENvbnZlcnQgY2FtZWxDYXNlIHRvIHNuYWtlX2Nhc2UgZm9yIGRhdGFiYXNlXG4gICAgY29uc3QgZGJQcm9kdWN0OiBhbnkgPSB7fTtcbiAgICBcbiAgICBpZiAocHJvZHVjdC5uYW1lICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5uYW1lID0gcHJvZHVjdC5uYW1lO1xuICAgIGlmIChwcm9kdWN0LmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5kZXNjcmlwdGlvbiA9IHByb2R1Y3QuZGVzY3JpcHRpb247XG4gICAgaWYgKHByb2R1Y3QucHJpY2UgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LnByaWNlID0gcHJvZHVjdC5wcmljZTtcbiAgICBpZiAocHJvZHVjdC5vcmlnaW5hbFByaWNlICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5vcmlnaW5hbF9wcmljZSA9IHByb2R1Y3Qub3JpZ2luYWxQcmljZTtcbiAgICBpZiAocHJvZHVjdC5pbWFnZSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuaW1hZ2UgPSBwcm9kdWN0LmltYWdlO1xuICAgIGlmIChwcm9kdWN0LmltYWdlcyAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuaW1hZ2VzID0gcHJvZHVjdC5pbWFnZXM7XG4gICAgaWYgKHByb2R1Y3Quc3RvY2sgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LnN0b2NrID0gcHJvZHVjdC5zdG9jaztcbiAgICBpZiAocHJvZHVjdC5jYXRlZ29yeSAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuY2F0ZWdvcnkgPSBwcm9kdWN0LmNhdGVnb3J5O1xuICAgIGlmIChwcm9kdWN0LnNpemVzICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5zaXplcyA9IHByb2R1Y3Quc2l6ZXM7XG4gICAgaWYgKHByb2R1Y3QuY29sb3JzICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5jb2xvcnMgPSBwcm9kdWN0LmNvbG9ycztcbiAgICBpZiAocHJvZHVjdC5pblN0b2NrICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5pbl9zdG9jayA9IHByb2R1Y3QuaW5TdG9jaztcbiAgICBpZiAocHJvZHVjdC5yYXRpbmcgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LnJhdGluZyA9IHByb2R1Y3QucmF0aW5nO1xuICAgIGlmIChwcm9kdWN0LnJldmlld3MgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LnJldmlld3MgPSBwcm9kdWN0LnJldmlld3M7XG4gICAgaWYgKHByb2R1Y3Quc2t1ICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5za3UgPSBwcm9kdWN0LnNrdTtcbiAgICBpZiAocHJvZHVjdC53ZWlnaHQgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LndlaWdodCA9IHByb2R1Y3Qud2VpZ2h0O1xuICAgIGlmIChwcm9kdWN0LmRpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmRpbWVuc2lvbnMgPSBwcm9kdWN0LmRpbWVuc2lvbnM7XG4gICAgaWYgKHByb2R1Y3QudGFncyAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QudGFncyA9IHByb2R1Y3QudGFncztcbiAgICBpZiAocHJvZHVjdC5mZWF0dXJlZCAhPT0gdW5kZWZpbmVkKSBkYlByb2R1Y3QuZmVhdHVyZWQgPSBwcm9kdWN0LmZlYXR1cmVkO1xuICAgIGlmIChwcm9kdWN0LnNpemVDaGFydENhdGVnb3J5ICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC5zaXplX2NoYXJ0X2NhdGVnb3J5ID0gcHJvZHVjdC5zaXplQ2hhcnRDYXRlZ29yeTtcbiAgICBpZiAocHJvZHVjdC5jdXN0b21TaXplQ2hhcnQgIT09IHVuZGVmaW5lZCkgZGJQcm9kdWN0LmN1c3RvbV9zaXplX2NoYXJ0ID0gcHJvZHVjdC5jdXN0b21TaXplQ2hhcnQ7XG4gICAgaWYgKHByb2R1Y3QudXNlQ3VzdG9tU2l6ZUNoYXJ0ICE9PSB1bmRlZmluZWQpIGRiUHJvZHVjdC51c2VfY3VzdG9tX3NpemVfY2hhcnQgPSBwcm9kdWN0LnVzZUN1c3RvbVNpemVDaGFydDtcbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC51cGRhdGUoZGJQcm9kdWN0KVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVQcm9kdWN0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFVwZGF0ZWQgcHJvZHVjdDonLCBpZCk7XG4gICAgXG4gICAgLy8gSW52YWxpZGF0ZSBjYWNoZVxuICAgIHByb2R1Y3RzQ2FjaGUgPSBudWxsO1xuICAgIFxuICAgIHJldHVybiBjb252ZXJ0RGJQcm9kdWN0VG9Qcm9kdWN0KGRhdGEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIHVwZGF0ZVByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9kdWN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdpZCcsIGlkKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGRlbGV0ZVByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IERlbGV0ZWQgcHJvZHVjdDonLCBpZCk7XG4gICAgXG4gICAgLy8gSW52YWxpZGF0ZSBjYWNoZVxuICAgIHByb2R1Y3RzQ2FjaGUgPSBudWxsO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGRlbGV0ZVByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBkYXRhYmFzZSBvcmRlciB0byBPcmRlciBpbnRlcmZhY2VcbmZ1bmN0aW9uIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYk9yZGVyOiBhbnkpOiBPcmRlciB7XG4gIC8vIEV4dHJhY3QgY3VzdG9tZXIgaW5mbyBmcm9tIGl0ZW1zIG9yIHVzZSBkZWZhdWx0c1xuICBjb25zdCBmaXJzdEl0ZW0gPSBkYk9yZGVyLml0ZW1zICYmIGRiT3JkZXIuaXRlbXMubGVuZ3RoID4gMCA/IGRiT3JkZXIuaXRlbXNbMF0gOiB7fTtcbiAgXG4gIHJldHVybiB7XG4gICAgaWQ6IGRiT3JkZXIuaWQsXG4gICAgcHJvZHVjdElkOiBmaXJzdEl0ZW0ucHJvZHVjdElkIHx8ICcnLFxuICAgIHByb2R1Y3ROYW1lOiBmaXJzdEl0ZW0ucHJvZHVjdE5hbWUgfHwgJycsXG4gICAgcHJvZHVjdEltYWdlOiBmaXJzdEl0ZW0ucHJvZHVjdEltYWdlIHx8ICcnLFxuICAgIGN1c3RvbWVyTmFtZTogZmlyc3RJdGVtLmN1c3RvbWVyTmFtZSB8fCAnJyxcbiAgICBjdXN0b21lclBob25lOiBmaXJzdEl0ZW0uY3VzdG9tZXJQaG9uZSB8fCAnJyxcbiAgICBjdXN0b21lckVtYWlsOiBmaXJzdEl0ZW0uY3VzdG9tZXJFbWFpbCB8fCAnJyxcbiAgICBjdXN0b21lckFkZHJlc3M6IGZpcnN0SXRlbS5jdXN0b21lckFkZHJlc3MgfHwgJycsXG4gICAgd2lsYXlhSWQ6IGZpcnN0SXRlbS53aWxheWFJZCB8fCAwLFxuICAgIHdpbGF5YU5hbWU6IGZpcnN0SXRlbS53aWxheWFOYW1lIHx8ICcnLFxuICAgIHNoaXBwaW5nVHlwZTogZGJPcmRlci5zaGlwcGluZ190eXBlIHx8ICdob21lRGVsaXZlcnknLFxuICAgIHNoaXBwaW5nQ29zdDogTnVtYmVyKGRiT3JkZXIuc2hpcHBpbmdfY29zdCkgfHwgMCxcbiAgICBxdWFudGl0eTogZmlyc3RJdGVtLnF1YW50aXR5IHx8IDEsXG4gICAgc2VsZWN0ZWRTaXplOiBmaXJzdEl0ZW0uc2VsZWN0ZWRTaXplIHx8ICcnLFxuICAgIHNlbGVjdGVkQ29sb3I6IGZpcnN0SXRlbS5zZWxlY3RlZENvbG9yIHx8ICcnLFxuICAgIHN1YnRvdGFsOiBOdW1iZXIoZGJPcmRlci50b3RhbCkgLSBOdW1iZXIoZGJPcmRlci5zaGlwcGluZ19jb3N0KSB8fCAwLFxuICAgIHRvdGFsOiBOdW1iZXIoZGJPcmRlci50b3RhbCkgfHwgMCxcbiAgICBvcmRlckRhdGU6IG5ldyBEYXRlKGRiT3JkZXIub3JkZXJfZGF0ZSksXG4gICAgc3RhdHVzOiBkYk9yZGVyLnN0YXR1cyB8fCAncGVuZGluZycsXG4gICAgdHJhY2tpbmdOdW1iZXI6IGRiT3JkZXIudHJhY2tpbmdfbnVtYmVyLFxuICAgIG5vdGVzOiBmaXJzdEl0ZW0ubm90ZXMsXG4gICAgcGF5bWVudE1ldGhvZDogZGJPcmRlci5wYXltZW50X21ldGhvZCB8fCAnY29kJyxcbiAgICBwYXltZW50U3RhdHVzOiBkYk9yZGVyLnBheW1lbnRfc3RhdHVzIHx8ICdwZW5kaW5nJyxcbiAgICBlc3RpbWF0ZWREZWxpdmVyeTogZmlyc3RJdGVtLmVzdGltYXRlZERlbGl2ZXJ5LFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZGJPcmRlci5jcmVhdGVkX2F0KSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKGRiT3JkZXIudXBkYXRlZF9hdClcbiAgfTtcbn1cblxuLy8gQ2FjaGUgZm9yIG9yZGVycyB0byByZWR1Y2UgZGF0YWJhc2UgY2FsbHNcbmxldCBvcmRlcnNDYWNoZTogT3JkZXJbXSB8IG51bGwgPSBudWxsO1xubGV0IG9yZGVyc0NhY2hlVGltZSA9IDA7XG5cbi8vIE9yZGVycyBvcGVyYXRpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXJzKCk6IFByb21pc2U8T3JkZXJbXT4ge1xuICB0cnkge1xuICAgIC8vIFJldHVybiBjYWNoZWQgZGF0YSBpZiBzdGlsbCBmcmVzaFxuICAgIGlmIChvcmRlcnNDYWNoZSAmJiBEYXRlLm5vdygpIC0gb3JkZXJzQ2FjaGVUaW1lIDwgQ0FDSEVfRFVSQVRJT04pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogUmV0dXJuaW5nIGNhY2hlZCBvcmRlcnMnKTtcbiAgICAgIHJldHVybiBvcmRlcnNDYWNoZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignb3JkZXJfZGF0ZScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldE9yZGVycyBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gb3JkZXJzQ2FjaGUgfHwgW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9yZGVycyA9IChkYXRhIHx8IFtdKS5tYXAoY29udmVydERiT3JkZXJUb09yZGVyKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgY2FjaGVcbiAgICBvcmRlcnNDYWNoZSA9IG9yZGVycztcbiAgICBvcmRlcnNDYWNoZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIFxuICAgIHJldHVybiBvcmRlcnM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0T3JkZXJzIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gb3JkZXJzQ2FjaGUgfHwgW107XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yZGVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPE9yZGVyIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0T3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjb252ZXJ0RGJPcmRlclRvT3JkZXIoZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0T3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRPcmRlcihvcmRlcjogT3JkZXIpOiBQcm9taXNlPE9yZGVyPiB7XG4gIHRyeSB7XG4gICAgLy8gQ29udmVydCBPcmRlciBpbnRlcmZhY2UgdG8gZGF0YWJhc2UgZm9ybWF0XG4gICAgY29uc3QgZGJPcmRlciA9IHtcbiAgICAgIGlkOiBvcmRlci5pZCxcbiAgICAgIGN1c3RvbWVyX2lkOiBgQ1VTVC0ke0RhdGUubm93KCl9YCwgLy8gR2VuZXJhdGUgY3VzdG9tZXIgSURcbiAgICAgIGl0ZW1zOiBbe1xuICAgICAgICBwcm9kdWN0SWQ6IG9yZGVyLnByb2R1Y3RJZCxcbiAgICAgICAgcHJvZHVjdE5hbWU6IG9yZGVyLnByb2R1Y3ROYW1lLFxuICAgICAgICBwcm9kdWN0SW1hZ2U6IG9yZGVyLnByb2R1Y3RJbWFnZSxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBvcmRlci5jdXN0b21lck5hbWUsXG4gICAgICAgIGN1c3RvbWVyUGhvbmU6IG9yZGVyLmN1c3RvbWVyUGhvbmUsXG4gICAgICAgIGN1c3RvbWVyRW1haWw6IG9yZGVyLmN1c3RvbWVyRW1haWwsXG4gICAgICAgIGN1c3RvbWVyQWRkcmVzczogb3JkZXIuY3VzdG9tZXJBZGRyZXNzLFxuICAgICAgICB3aWxheWFJZDogb3JkZXIud2lsYXlhSWQsXG4gICAgICAgIHdpbGF5YU5hbWU6IG9yZGVyLndpbGF5YU5hbWUsXG4gICAgICAgIHF1YW50aXR5OiBvcmRlci5xdWFudGl0eSxcbiAgICAgICAgc2VsZWN0ZWRTaXplOiBvcmRlci5zZWxlY3RlZFNpemUsXG4gICAgICAgIHNlbGVjdGVkQ29sb3I6IG9yZGVyLnNlbGVjdGVkQ29sb3IsXG4gICAgICAgIG5vdGVzOiBvcmRlci5ub3RlcyxcbiAgICAgICAgZXN0aW1hdGVkRGVsaXZlcnk6IG9yZGVyLmVzdGltYXRlZERlbGl2ZXJ5XG4gICAgICB9XSxcbiAgICAgIHRvdGFsOiBvcmRlci50b3RhbCxcbiAgICAgIHNoaXBwaW5nX2Nvc3Q6IG9yZGVyLnNoaXBwaW5nQ29zdCxcbiAgICAgIHNoaXBwaW5nX3R5cGU6IG9yZGVyLnNoaXBwaW5nVHlwZSxcbiAgICAgIHBheW1lbnRfbWV0aG9kOiBvcmRlci5wYXltZW50TWV0aG9kLFxuICAgICAgcGF5bWVudF9zdGF0dXM6IG9yZGVyLnBheW1lbnRTdGF0dXMsXG4gICAgICBzdGF0dXM6IG9yZGVyLnN0YXR1cyxcbiAgICAgIHRyYWNraW5nX251bWJlcjogb3JkZXIudHJhY2tpbmdOdW1iZXIsXG4gICAgICBvcmRlcl9kYXRlOiBvcmRlci5vcmRlckRhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG9yZGVyLmNyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZF9hdDogb3JkZXIudXBkYXRlZEF0LnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC5pbnNlcnQoW2RiT3JkZXJdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBhZGRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBBZGRlZCBvcmRlcjonLCBvcmRlci5pZCk7XG4gICAgcmV0dXJuIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBhZGRPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyKGlkOiBzdHJpbmcsIG9yZGVyOiBQYXJ0aWFsPE9yZGVyPik6IFByb21pc2U8T3JkZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gQ29udmVydCBwYXJ0aWFsIE9yZGVyIHRvIGRhdGFiYXNlIGZvcm1hdFxuICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gICAgXG4gICAgaWYgKG9yZGVyLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnN0YXR1cyA9IG9yZGVyLnN0YXR1cztcbiAgICBpZiAob3JkZXIucGF5bWVudFN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnBheW1lbnRfc3RhdHVzID0gb3JkZXIucGF5bWVudFN0YXR1cztcbiAgICBpZiAob3JkZXIudHJhY2tpbmdOdW1iZXIgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS50cmFja2luZ19udW1iZXIgPSBvcmRlci50cmFja2luZ051bWJlcjtcbiAgICBpZiAob3JkZXIuc2hpcHBpbmdUeXBlICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuc2hpcHBpbmdfdHlwZSA9IG9yZGVyLnNoaXBwaW5nVHlwZTtcbiAgICBpZiAob3JkZXIuc2hpcHBpbmdDb3N0ICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuc2hpcHBpbmdfY29zdCA9IG9yZGVyLnNoaXBwaW5nQ29zdDtcbiAgICBpZiAob3JkZXIudG90YWwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS50b3RhbCA9IG9yZGVyLnRvdGFsO1xuICAgIGlmIChvcmRlci5wYXltZW50TWV0aG9kICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEucGF5bWVudF9tZXRob2QgPSBvcmRlci5wYXltZW50TWV0aG9kO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJzJylcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlT3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogVXBkYXRlZCBvcmRlcjonLCBpZCk7XG4gICAgcmV0dXJuIGNvbnZlcnREYk9yZGVyVG9PcmRlcihkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU9yZGVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZ2V0IHRoZSBvcmRlciBkZXRhaWxzIHRvIHJlc3RvcmUgaW52ZW50b3J5XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBnZXRPcmRlcihpZCk7XG4gICAgaWYgKCFvcmRlcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZGVsZXRlT3JkZXI6IE9yZGVyIG5vdCBmb3VuZDonLCBpZCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUmVzdG9yZSBpbnZlbnRvcnkgcXVhbnRpdHlcbiAgICBpZiAob3JkZXIucHJvZHVjdElkICYmIG9yZGVyLnNlbGVjdGVkU2l6ZSAmJiBvcmRlci5zZWxlY3RlZENvbG9yICYmIG9yZGVyLnF1YW50aXR5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGFkZEludmVudG9yeSB9ID0gYXdhaXQgaW1wb3J0KCcuL2ludmVudG9yeVNlcnZpY2UnKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5UmVzdG9yZWQgPSBhd2FpdCBhZGRJbnZlbnRvcnkoXG4gICAgICAgICAgb3JkZXIucHJvZHVjdElkLFxuICAgICAgICAgIG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgICBvcmRlci5zZWxlY3RlZENvbG9yLFxuICAgICAgICAgIG9yZGVyLnF1YW50aXR5LFxuICAgICAgICAgIGBPcmRlciAke2lkfSBkZWxldGVkIC0gaW52ZW50b3J5IHJlc3RvcmVkYCxcbiAgICAgICAgICAnYWRtaW4nXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaW52ZW50b3J5UmVzdG9yZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3VwYWJhc2UgZGVsZXRlT3JkZXI6IEludmVudG9yeSByZXN0b3JlZCBmb3Igb3JkZXI6JywgaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignU3VwYWJhc2UgZGVsZXRlT3JkZXI6IEZhaWxlZCB0byByZXN0b3JlIGludmVudG9yeSBmb3Igb3JkZXI6JywgaWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChpbnZlbnRvcnlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVPcmRlcjogSW52ZW50b3J5IHJlc3RvcmF0aW9uIGVycm9yOicsIGludmVudG9yeUVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aCBvcmRlciBkZWxldGlvbiBldmVuIGlmIGludmVudG9yeSByZXN0b3JhdGlvbiBmYWlsc1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlbGV0ZSB0aGUgb3JkZXJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBkZWxldGVPcmRlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogRGVsZXRlZCBvcmRlcjonLCBpZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZGVsZXRlT3JkZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8vIFdpbGF5YSBvcGVyYXRpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0V2lsYXlhVGFyaWZmcygpOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd3aWxheWFfdGFyaWZmcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignb3JkZXInLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldFdpbGF5YVRhcmlmZnMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IChkYXRhIHx8IFtdKS5tYXAodGFyaWZmID0+ICh7XG4gICAgICBpZDogdGFyaWZmLmlkLnRvU3RyaW5nKCksXG4gICAgICB3aWxheWFfaWQ6IHRhcmlmZi53aWxheWFfaWQsXG4gICAgICBuYW1lOiB0YXJpZmYubmFtZSxcbiAgICAgIGRvbWljaWxlX2Vjb21tZXJjZTogdGFyaWZmLmRvbWljaWxlX2Vjb21tZXJjZSxcbiAgICAgIHN0b3BfZGVza19lY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlLFxuICAgICAgb3JkZXI6IHRhcmlmZi5vcmRlcixcbiAgICAgIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICBob21lX2RlbGl2ZXJ5OiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlLFxuICAgICAgc3RvcF9kZXNrOiB0YXJpZmYuc3RvcF9kZXNrX2Vjb21tZXJjZSxcbiAgICAgIGhvbWVEZWxpdmVyeTogdGFyaWZmLmRvbWljaWxlX2Vjb21tZXJjZSxcbiAgICAgIHN0b3BEZXNrOiB0YXJpZmYuc3RvcF9kZXNrX2Vjb21tZXJjZSxcbiAgICAgIGRvbWljaWxlRWNvbW1lcmNlOiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlLFxuICAgICAgc3RvcERlc2tFY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlXG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiB0cmFuc2Zvcm1lZERhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0V2lsYXlhVGFyaWZmcyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVXaWxheWFUYXJpZmZzKHRhcmlmZnM6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgLy8gRGVsZXRlIGFsbCBleGlzdGluZyB0YXJpZmZzXG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd3aWxheWFfdGFyaWZmcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5uZXEoJ2lkJywgMCk7IC8vIERlbGV0ZSBhbGwgcmVjb3Jkc1xuICAgIFxuICAgIC8vIEluc2VydCBuZXcgdGFyaWZmc1xuICAgIGlmICh0YXJpZmZzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBtYXRjaCBkYXRhYmFzZSBzdHJ1Y3R1cmVcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkVGFyaWZmcyA9IHRhcmlmZnMubWFwKHRhcmlmZiA9PiAoe1xuICAgICAgICB3aWxheWFfaWQ6IHRhcmlmZi53aWxheWFfaWQgfHwgdGFyaWZmLmlkLFxuICAgICAgICBuYW1lOiB0YXJpZmYubmFtZSxcbiAgICAgICAgZG9taWNpbGVfZWNvbW1lcmNlOiB0YXJpZmYuZG9taWNpbGVfZWNvbW1lcmNlIHx8IHRhcmlmZi5kb21pY2lsZUVjb21tZXJjZSB8fCB0YXJpZmYuaG9tZV9kZWxpdmVyeSB8fCB0YXJpZmYuaG9tZURlbGl2ZXJ5IHx8IDAsXG4gICAgICAgIHN0b3BfZGVza19lY29tbWVyY2U6IHRhcmlmZi5zdG9wX2Rlc2tfZWNvbW1lcmNlIHx8IHRhcmlmZi5zdG9wRGVza0Vjb21tZXJjZSB8fCB0YXJpZmYuc3RvcF9kZXNrIHx8IHRhcmlmZi5zdG9wRGVzayB8fCAwLFxuICAgICAgICBvcmRlcjogdGFyaWZmLm9yZGVyIHx8IDFcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3dpbGF5YV90YXJpZmZzJylcbiAgICAgICAgLmluc2VydCh0cmFuc2Zvcm1lZFRhcmlmZnMpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlV2lsYXlhVGFyaWZmcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFVwZGF0ZWQgd2lsYXlhIHRhcmlmZnMnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVXaWxheWFUYXJpZmZzIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBJbnZlbnRvcnkgb3BlcmF0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEludmVudG9yeSgpOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZSwgc2t1LCBzdG9jaywgc2l6ZXMsIGNvbG9ycywgaW5fc3RvY2ssIGNhdGVnb3J5JylcbiAgICAgIC5vcmRlcignbmFtZScpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0SW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIGRhdGEgZm9yIGludmVudG9yeSBtYW5hZ2VtZW50XG4gICAgcmV0dXJuIChkYXRhIHx8IFtdKS5tYXAocHJvZHVjdCA9PiAoe1xuICAgICAgaWQ6IHByb2R1Y3QuaWQsXG4gICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICBza3U6IHByb2R1Y3Quc2t1LFxuICAgICAgY2F0ZWdvcnk6IHByb2R1Y3QuY2F0ZWdvcnksXG4gICAgICBpblN0b2NrOiBwcm9kdWN0LmluX3N0b2NrLFxuICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2sgfHwge30sXG4gICAgICBzaXplczogcHJvZHVjdC5zaXplcyB8fCBbXSxcbiAgICAgIGNvbG9yczogcHJvZHVjdC5jb2xvcnMgfHwgW10sXG4gICAgICB0b3RhbFN0b2NrOiBjYWxjdWxhdGVUb3RhbFN0b2NrKHByb2R1Y3Quc3RvY2sgfHwge30pLFxuICAgICAgc3RvY2tCeVNpemU6IGNhbGN1bGF0ZVN0b2NrQnlTaXplKHByb2R1Y3Quc3RvY2sgfHwge30sIHByb2R1Y3Quc2l6ZXMgfHwgW10sIHByb2R1Y3QuY29sb3JzIHx8IFtdKVxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRJbnZlbnRvcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSW52ZW50b3J5KHByb2R1Y3RJZDogc3RyaW5nLCBzdG9ja0RhdGE6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlT2JqOiBhbnkgPSB7XG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIGlmIChzdG9ja0RhdGEuc3RvY2spIHtcbiAgICAgIHVwZGF0ZU9iai5zdG9jayA9IHN0b2NrRGF0YS5zdG9jaztcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0b2NrRGF0YS5pblN0b2NrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZU9iai5pbl9zdG9jayA9IHN0b2NrRGF0YS5pblN0b2NrO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC51cGRhdGUodXBkYXRlT2JqKVxuICAgICAgLmVxKCdpZCcsIHByb2R1Y3RJZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlSW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2U6IFVwZGF0ZWQgaW52ZW50b3J5IGZvciBwcm9kdWN0OicsIHByb2R1Y3RJZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgc3RvY2s6IGRhdGEuc3RvY2ssXG4gICAgICBpblN0b2NrOiBkYXRhLmluX3N0b2NrLFxuICAgICAgdG90YWxTdG9jazogY2FsY3VsYXRlVG90YWxTdG9jayhkYXRhLnN0b2NrKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgdXBkYXRlSW52ZW50b3J5IGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBpbnZlbnRvcnkgY2FsY3VsYXRpb25zXG5mdW5jdGlvbiBjYWxjdWxhdGVUb3RhbFN0b2NrKHN0b2NrOiBhbnkpOiBudW1iZXIge1xuICBpZiAoIXN0b2NrIHx8IHR5cGVvZiBzdG9jayAhPT0gJ29iamVjdCcpIHJldHVybiAwO1xuICBcbiAgbGV0IHRvdGFsID0gMDtcbiAgZm9yIChjb25zdCBzaXplIGluIHN0b2NrKSB7XG4gICAgaWYgKHR5cGVvZiBzdG9ja1tzaXplXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAoY29uc3QgY29sb3IgaW4gc3RvY2tbc2l6ZV0pIHtcbiAgICAgICAgdG90YWwgKz0gTnVtYmVyKHN0b2NrW3NpemVdW2NvbG9yXSkgfHwgMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvdGFsO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVTdG9ja0J5U2l6ZShzdG9jazogYW55LCBzaXplczogc3RyaW5nW10sIGNvbG9yczogc3RyaW5nW10pOiBhbnkge1xuICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICBcbiAgc2l6ZXMuZm9yRWFjaChzaXplID0+IHtcbiAgICByZXN1bHRbc2l6ZV0gPSB7fTtcbiAgICBjb2xvcnMuZm9yRWFjaChjb2xvciA9PiB7XG4gICAgICByZXN1bHRbc2l6ZV1bY29sb3JdID0gTnVtYmVyKHN0b2NrW3NpemVdPy5bY29sb3JdKSB8fCAwO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFN0b2NrIGRlZHVjdGlvbiBmdW5jdGlvbiBmb3Igb3JkZXJzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVkdWN0U3RvY2tGcm9tT3JkZXIob3JkZXI6IE9yZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBEZWR1Y3Rpbmcgc3RvY2sgZm9yIG9yZGVyOicsIG9yZGVyLmlkKTtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHByb2R1Y3RcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZ2V0UHJvZHVjdChvcmRlci5wcm9kdWN0SWQpO1xuICAgIGlmICghcHJvZHVjdCkge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2U6IFByb2R1Y3Qgbm90IGZvdW5kIGZvciBvcmRlcjonLCBvcmRlci5wcm9kdWN0SWQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGVub3VnaCBzdG9ja1xuICAgIGNvbnN0IGN1cnJlbnRTdG9jayA9IHByb2R1Y3Quc3RvY2s/LltvcmRlci5zZWxlY3RlZFNpemVdPy5bb3JkZXIuc2VsZWN0ZWRDb2xvcl0gfHwgMDtcbiAgICBpZiAoY3VycmVudFN0b2NrIDwgb3JkZXIucXVhbnRpdHkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlOiBJbnN1ZmZpY2llbnQgc3RvY2sgZm9yIG9yZGVyOicsIHtcbiAgICAgICAgcHJvZHVjdElkOiBvcmRlci5wcm9kdWN0SWQsXG4gICAgICAgIHNpemU6IG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgY29sb3I6IG9yZGVyLnNlbGVjdGVkQ29sb3IsXG4gICAgICAgIHJlcXVlc3RlZDogb3JkZXIucXVhbnRpdHksXG4gICAgICAgIGF2YWlsYWJsZTogY3VycmVudFN0b2NrXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVkdWN0IHRoZSBzdG9jayBmcm9tIHByb2R1Y3RcbiAgICBjb25zdCBuZXdTdG9jayA9IHtcbiAgICAgIC4uLnByb2R1Y3Quc3RvY2ssXG4gICAgICBbb3JkZXIuc2VsZWN0ZWRTaXplXToge1xuICAgICAgICAuLi5wcm9kdWN0LnN0b2NrPy5bb3JkZXIuc2VsZWN0ZWRTaXplXSxcbiAgICAgICAgW29yZGVyLnNlbGVjdGVkQ29sb3JdOiBjdXJyZW50U3RvY2sgLSBvcmRlci5xdWFudGl0eVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gVXBkYXRlIHRoZSBwcm9kdWN0IHN0b2NrXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCB1cGRhdGVQcm9kdWN0KG9yZGVyLnByb2R1Y3RJZCwge1xuICAgICAgc3RvY2s6IG5ld1N0b2NrLFxuICAgICAgaW5TdG9jazogY2FsY3VsYXRlVG90YWxTdG9jayhuZXdTdG9jaykgPiAwXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCF1cGRhdGVkUHJvZHVjdCkge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2U6IEZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdCBzdG9jayBmb3Igb3JkZXI6Jywgb3JkZXIuaWQpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEFsc28gZGVkdWN0IGZyb20gaW52ZW50b3J5IHN5c3RlbVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGFkZEludmVudG9yeSB9ID0gYXdhaXQgaW1wb3J0KCcuL2ludmVudG9yeVNlcnZpY2UnKTtcbiAgICAgIGNvbnN0IGludmVudG9yeURlZHVjdGVkID0gYXdhaXQgYWRkSW52ZW50b3J5KFxuICAgICAgICBvcmRlci5wcm9kdWN0SWQsXG4gICAgICAgIG9yZGVyLnNlbGVjdGVkU2l6ZSxcbiAgICAgICAgb3JkZXIuc2VsZWN0ZWRDb2xvcixcbiAgICAgICAgLW9yZGVyLnF1YW50aXR5LCAvLyBOZWdhdGl2ZSBxdWFudGl0eSB0byBkZWR1Y3RcbiAgICAgICAgYE9yZGVyICR7b3JkZXIuaWR9IGNyZWF0ZWQgLSBzdG9jayBkZWR1Y3RlZGAsXG4gICAgICAgICdzeXN0ZW0nXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoaW52ZW50b3J5RGVkdWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBTdWNjZXNzZnVsbHkgZGVkdWN0ZWQgaW52ZW50b3J5IGZvciBvcmRlcjonLCBvcmRlci5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlOiBGYWlsZWQgdG8gZGVkdWN0IGludmVudG9yeSBmb3Igb3JkZXI6Jywgb3JkZXIuaWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGludmVudG9yeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZTogSW52ZW50b3J5IGRlZHVjdGlvbiBlcnJvcjonLCBpbnZlbnRvcnlFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSBldmVuIGlmIGludmVudG9yeSB1cGRhdGUgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBTdWNjZXNzZnVsbHkgZGVkdWN0ZWQgc3RvY2sgZm9yIG9yZGVyOicsIG9yZGVyLmlkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZTogRXJyb3IgZGVkdWN0aW5nIHN0b2NrIGZvciBvcmRlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIE1haW50ZW5hbmNlIHNldHRpbmdzIG9wZXJhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNYWludGVuYW5jZVNldHRpbmdzKCk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYWludGVuYW5jZV9zZXR0aW5ncycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnaWQnLCAnbWFpbnRlbmFuY2UnKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0TWFpbnRlbmFuY2VTZXR0aW5ncyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyBJZiB0YWJsZSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDIwNScpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01haW50ZW5hbmNlIHNldHRpbmdzIHRhYmxlIG5vdCBmb3VuZCwgdXNpbmcgZGVmYXVsdCBzZXR0aW5ncycpO1xuICAgICAgfVxuICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2V0dGluZ3MgaWYgbm8gZGF0YSBleGlzdHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiAnbWFpbnRlbmFuY2UnLFxuICAgICAgICBpc19tYWludGVuYW5jZV9tb2RlOiBmYWxzZSxcbiAgICAgICAgZHJvcF9kYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLCAvLyAzMCBkYXlzIGZyb20gbm93XG4gICAgICAgIG1haW50ZW5hbmNlX21lc3NhZ2U6ICdXZSBhcmUgY3VycmVudGx5IHBlcmZvcm1pbmcgbWFpbnRlbmFuY2UuIFBsZWFzZSBjaGVjayBiYWNrIGxhdGVyLicsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZGF0YSB8fCB7XG4gICAgICBpZDogJ21haW50ZW5hbmNlJyxcbiAgICAgIGlzX21haW50ZW5hbmNlX21vZGU6IGZhbHNlLFxuICAgICAgZHJvcF9kYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgbWFpbnRlbmFuY2VfbWVzc2FnZTogJ1dlIGFyZSBjdXJyZW50bHkgcGVyZm9ybWluZyBtYWludGVuYW5jZS4gUGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuJyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZ2V0TWFpbnRlbmFuY2VTZXR0aW5ncyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnbWFpbnRlbmFuY2UnLFxuICAgICAgaXNfbWFpbnRlbmFuY2VfbW9kZTogZmFsc2UsXG4gICAgICBkcm9wX2RhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICBtYWludGVuYW5jZV9tZXNzYWdlOiAnV2UgYXJlIGN1cnJlbnRseSBwZXJmb3JtaW5nIG1haW50ZW5hbmNlLiBQbGVhc2UgY2hlY2sgYmFjayBsYXRlci4nLFxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWFpbnRlbmFuY2VTZXR0aW5ncyhzZXR0aW5nczoge1xuICBpc19tYWludGVuYW5jZV9tb2RlPzogYm9vbGVhbjtcbiAgZHJvcF9kYXRlPzogc3RyaW5nO1xuICBtYWludGVuYW5jZV9tZXNzYWdlPzogc3RyaW5nO1xufSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0ge1xuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBcbiAgICBpZiAoc2V0dGluZ3MuaXNfbWFpbnRlbmFuY2VfbW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVEYXRhLmlzX21haW50ZW5hbmNlX21vZGUgPSBzZXR0aW5ncy5pc19tYWludGVuYW5jZV9tb2RlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZ3MuZHJvcF9kYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZURhdGEuZHJvcF9kYXRlID0gc2V0dGluZ3MuZHJvcF9kYXRlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2V0dGluZ3MubWFpbnRlbmFuY2VfbWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVEYXRhLm1haW50ZW5hbmNlX21lc3NhZ2UgPSBzZXR0aW5ncy5tYWludGVuYW5jZV9tZXNzYWdlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgbWFpbnRlbmFuY2Ugc2V0dGluZ3Mgd2l0aDonLCB1cGRhdGVEYXRhKTtcbiAgICBcbiAgICAvLyBUcnkgdXBkYXRlIGZpcnN0XG4gICAgY29uc3QgeyBkYXRhOiB1cGRhdGVSZXN1bHQsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtYWludGVuYW5jZV9zZXR0aW5ncycpXG4gICAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgICAuZXEoJ2lkJywgJ21haW50ZW5hbmNlJylcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIGVycm9yOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdXBkYXRlIGZhaWxzLCB0cnkgaW5zZXJ0XG4gICAgICBjb25zdCB7IGRhdGE6IGluc2VydFJlc3VsdCwgZXJyb3I6IGluc2VydEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbWFpbnRlbmFuY2Vfc2V0dGluZ3MnKVxuICAgICAgICAuaW5zZXJ0KFt7XG4gICAgICAgICAgaWQ6ICdtYWludGVuYW5jZScsXG4gICAgICAgICAgaXNfbWFpbnRlbmFuY2VfbW9kZTogc2V0dGluZ3MuaXNfbWFpbnRlbmFuY2VfbW9kZSA/PyBmYWxzZSxcbiAgICAgICAgICBkcm9wX2RhdGU6IHNldHRpbmdzLmRyb3BfZGF0ZSA/PyBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIG1haW50ZW5hbmNlX21lc3NhZ2U6IHNldHRpbmdzLm1haW50ZW5hbmNlX21lc3NhZ2UgPz8gJ1dlIGFyZSBjdXJyZW50bHkgcGVyZm9ybWluZyBtYWludGVuYW5jZS4gUGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH1dKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgXG4gICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignSW5zZXJ0IGVycm9yOicsIGluc2VydEVycm9yKTtcbiAgICAgICAgdGhyb3cgaW5zZXJ0RXJyb3I7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogQ3JlYXRlZCBtYWludGVuYW5jZSBzZXR0aW5ncycpO1xuICAgICAgcmV0dXJuIGluc2VydFJlc3VsdDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBVcGRhdGVkIG1haW50ZW5hbmNlIHNldHRpbmdzJyk7XG4gICAgcmV0dXJuIHVwZGF0ZVJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSB1cGRhdGVNYWludGVuYW5jZVNldHRpbmdzIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBDdXN0b21lcnMgbWV0aG9kc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVycygpOiBQcm9taXNlPEN1c3RvbWVyW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2N1c3RvbWVycycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGdldEN1c3RvbWVycyBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlOiBGZXRjaGVkJywgZGF0YT8ubGVuZ3RoIHx8IDAsICdjdXN0b21lcnMnKTtcbiAgICByZXR1cm4gZGF0YSB8fCBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBnZXRDdXN0b21lcnMgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDdXN0b21lcihjdXN0b21lckRhdGE6IE9taXQ8Q3VzdG9tZXIsICdpZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8Q3VzdG9tZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGN1c3RvbWVyID0ge1xuICAgICAgLi4uY3VzdG9tZXJEYXRhLFxuICAgICAgaWQ6IGBjdXN0b21lcl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICBjcmVhdGVkX2F0OiBub3csXG4gICAgICB1cGRhdGVkX2F0OiBub3dcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY3VzdG9tZXJzJylcbiAgICAgIC5pbnNlcnQoW2N1c3RvbWVyXSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpO1xuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYWRkQ3VzdG9tZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZTogQ3JlYXRlZCBjdXN0b21lcjonLCBkYXRhLmlkKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICAgIHBob25lOiBkYXRhLnBob25lLFxuICAgICAgYWRkcmVzczogZGF0YS5hZGRyZXNzLFxuICAgICAgY2l0eTogZGF0YS5jaXR5LFxuICAgICAgd2lsYXlhOiBkYXRhLndpbGF5YSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZGF0YS5jcmVhdGVkX2F0KSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGF0YS51cGRhdGVkX2F0KVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgYWRkQ3VzdG9tZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVycm9yIiwic3VwYWJhc2UiLCJjb252ZXJ0RGJQcm9kdWN0VG9Qcm9kdWN0IiwiZGJQcm9kdWN0IiwiY29uc29sZSIsImxvZyIsInByaWNlIiwicGFyc2VGbG9hdCIsImNvbnZlcnRlZFByb2R1Y3QiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm9yaWdpbmFsUHJpY2UiLCJvcmlnaW5hbF9wcmljZSIsInVuZGVmaW5lZCIsImltYWdlIiwiaW1hZ2VzIiwic3RvY2siLCJjYXRlZ29yeSIsInNpemVzIiwiY29sb3JzIiwiaW5TdG9jayIsImluX3N0b2NrIiwicmF0aW5nIiwicmV2aWV3cyIsInNrdSIsIndlaWdodCIsImRpbWVuc2lvbnMiLCJ0YWdzIiwiZmVhdHVyZWQiLCJzaXplQ2hhcnRDYXRlZ29yeSIsInNpemVfY2hhcnRfY2F0ZWdvcnkiLCJjdXN0b21TaXplQ2hhcnQiLCJjdXN0b21fc2l6ZV9jaGFydCIsInVzZUN1c3RvbVNpemVDaGFydCIsInVzZV9jdXN0b21fc2l6ZV9jaGFydCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsInByb2R1Y3RzQ2FjaGUiLCJwcm9kdWN0c0NhY2hlVGltZSIsIkNBQ0hFX0RVUkFUSU9OIiwiY2xlYXJQcm9kdWN0c0NhY2hlIiwiQ0FDSEVfQlVTVEVSIiwibm93IiwiZ2V0UHJvZHVjdHMiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJwcm9kdWN0cyIsIm1hcCIsImdldFByb2R1Y3QiLCJlcSIsInNpbmdsZSIsImFkZFByb2R1Y3QiLCJwcm9kdWN0IiwiaW5zZXJ0IiwiaW5pdGlhbGl6ZVByb2R1Y3RJbnZlbnRvcnkiLCJpbnZlbnRvcnlFcnJvciIsInVwZGF0ZVByb2R1Y3QiLCJ1cGRhdGUiLCJkZWxldGVQcm9kdWN0IiwiZGVsZXRlIiwiY29udmVydERiT3JkZXJUb09yZGVyIiwiZGJPcmRlciIsImZpcnN0SXRlbSIsIml0ZW1zIiwibGVuZ3RoIiwicHJvZHVjdElkIiwicHJvZHVjdE5hbWUiLCJwcm9kdWN0SW1hZ2UiLCJjdXN0b21lck5hbWUiLCJjdXN0b21lclBob25lIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyQWRkcmVzcyIsIndpbGF5YUlkIiwid2lsYXlhTmFtZSIsInNoaXBwaW5nVHlwZSIsInNoaXBwaW5nX3R5cGUiLCJzaGlwcGluZ0Nvc3QiLCJOdW1iZXIiLCJzaGlwcGluZ19jb3N0IiwicXVhbnRpdHkiLCJzZWxlY3RlZFNpemUiLCJzZWxlY3RlZENvbG9yIiwic3VidG90YWwiLCJ0b3RhbCIsIm9yZGVyRGF0ZSIsIm9yZGVyX2RhdGUiLCJzdGF0dXMiLCJ0cmFja2luZ051bWJlciIsInRyYWNraW5nX251bWJlciIsIm5vdGVzIiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRfbWV0aG9kIiwicGF5bWVudFN0YXR1cyIsInBheW1lbnRfc3RhdHVzIiwiZXN0aW1hdGVkRGVsaXZlcnkiLCJvcmRlcnNDYWNoZSIsIm9yZGVyc0NhY2hlVGltZSIsImdldE9yZGVycyIsIm9yZGVycyIsImdldE9yZGVyIiwiYWRkT3JkZXIiLCJjdXN0b21lcl9pZCIsInRvSVNPU3RyaW5nIiwidXBkYXRlT3JkZXIiLCJ1cGRhdGVEYXRhIiwiZGVsZXRlT3JkZXIiLCJhZGRJbnZlbnRvcnkiLCJpbnZlbnRvcnlSZXN0b3JlZCIsIndhcm4iLCJnZXRXaWxheWFUYXJpZmZzIiwidHJhbnNmb3JtZWREYXRhIiwidGFyaWZmIiwidG9TdHJpbmciLCJ3aWxheWFfaWQiLCJkb21pY2lsZV9lY29tbWVyY2UiLCJzdG9wX2Rlc2tfZWNvbW1lcmNlIiwiaG9tZV9kZWxpdmVyeSIsInN0b3BfZGVzayIsImhvbWVEZWxpdmVyeSIsInN0b3BEZXNrIiwiZG9taWNpbGVFY29tbWVyY2UiLCJzdG9wRGVza0Vjb21tZXJjZSIsInVwZGF0ZVdpbGF5YVRhcmlmZnMiLCJ0YXJpZmZzIiwibmVxIiwidHJhbnNmb3JtZWRUYXJpZmZzIiwiZ2V0SW52ZW50b3J5IiwidG90YWxTdG9jayIsImNhbGN1bGF0ZVRvdGFsU3RvY2siLCJzdG9ja0J5U2l6ZSIsImNhbGN1bGF0ZVN0b2NrQnlTaXplIiwidXBkYXRlSW52ZW50b3J5Iiwic3RvY2tEYXRhIiwidXBkYXRlT2JqIiwic2l6ZSIsImNvbG9yIiwicmVzdWx0IiwiZm9yRWFjaCIsImRlZHVjdFN0b2NrRnJvbU9yZGVyIiwiY3VycmVudFN0b2NrIiwicmVxdWVzdGVkIiwiYXZhaWxhYmxlIiwibmV3U3RvY2siLCJ1cGRhdGVkUHJvZHVjdCIsImludmVudG9yeURlZHVjdGVkIiwiZ2V0TWFpbnRlbmFuY2VTZXR0aW5ncyIsImNvZGUiLCJpc19tYWludGVuYW5jZV9tb2RlIiwiZHJvcF9kYXRlIiwibWFpbnRlbmFuY2VfbWVzc2FnZSIsInVwZGF0ZU1haW50ZW5hbmNlU2V0dGluZ3MiLCJzZXR0aW5ncyIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZUVycm9yIiwiaW5zZXJ0UmVzdWx0IiwiaW5zZXJ0RXJyb3IiLCJnZXRDdXN0b21lcnMiLCJhZGRDdXN0b21lciIsImN1c3RvbWVyRGF0YSIsImN1c3RvbWVyIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsImVtYWlsIiwicGhvbmUiLCJhZGRyZXNzIiwiY2l0eSIsIndpbGF5YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabaseDatabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fproducts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHP%5CDesktop%5Cprojectt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();