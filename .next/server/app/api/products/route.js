"use strict";(()=>{var e={};e.id=684,e.ids=[684],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},6366:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>w,patchFetch:()=>x,requestAsyncStorage:()=>P,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>q});var s={};t.r(s),t.d(s,{GET:()=>d,POST:()=>p,runtime:()=>i});var o=t(5419),a=t(9108),n=t(9678),u=t(8070),c=t(4750);let i="nodejs";async function d(){try{console.log("Products API: GET request started");let e=await (0,c.Xp)();console.log("Products API: GET request - returning",e.length,"products");let r=u.Z.json({success:!0,data:e,count:e.length,timestamp:Date.now()});return r.headers.set("Cache-Control","public, s-maxage=300, stale-while-revalidate=600"),r}catch(e){return console.error("Products API: GET error:",e),console.error("Products API: Error details:",{message:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0}),u.Z.json({success:!1,error:"Failed to fetch products",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function p(e){try{let r=await e.json();if(!r.name||!r.price)return u.Z.json({success:!1,error:"Name and price are required"},{status:400});let t={id:Date.now().toString(),...r,createdAt:new Date,updatedAt:new Date},s=await (0,c.gK)(t);return console.log("Products API: POST request - created product:",t.id,t.name),u.Z.json({success:!0,data:s,message:"Product created successfully",timestamp:Date.now()},{status:201})}catch(e){return console.error("Products API: POST error:",e),u.Z.json({success:!1,error:"Failed to create product"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\products\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:P,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:h,staticGenerationBailout:q}=l,w="/api/products/route";function x(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,720,750],()=>t(6366));module.exports=s})();