"use strict";(()=>{var r={};r.id=684,r.ids=[684],r.modules={517:r=>{r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:r=>{r.exports=require("http")},5687:r=>{r.exports=require("https")},5477:r=>{r.exports=require("punycode")},2781:r=>{r.exports=require("stream")},7310:r=>{r.exports=require("url")},9796:r=>{r.exports=require("zlib")},6366:(r,e,t)=>{t.r(e),t.d(e,{headerHooks:()=>S,originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{GET:()=>d,POST:()=>i});var a=t(5419),s=t(9108),n=t(9678),c=t(8070),u=t(4750);async function d(){try{let r=await (0,u.Xp)();return console.log("Products API: GET request - returning",r.length,"products"),c.Z.json({success:!0,data:r,count:r.length,timestamp:Date.now()})}catch(r){return console.error("Products API: GET error:",r),c.Z.json({success:!1,error:"Failed to fetch products"},{status:500})}}async function i(r){try{let e=await r.json();if(!e.name||!e.price)return c.Z.json({success:!1,error:"Name and price are required"},{status:400});let t={id:Date.now().toString(),...e,createdAt:new Date,updatedAt:new Date},o=await (0,u.gK)(t);return console.log("Products API: POST request - created product:",t.id,t.name),c.Z.json({success:!0,data:o,message:"Product created successfully",timestamp:Date.now()},{status:201})}catch(r){return console.error("Products API: POST error:",r),c.Z.json({success:!1,error:"Failed to create product"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\products\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:f,serverHooks:y,headerHooks:S,staticGenerationBailout:g}=l,h="/api/products/route";function m(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},4750:(r,e,t)=>{t.d(e,{AU:()=>p,Cs:()=>S,Ir:()=>l,OL:()=>h,Sy:()=>m,Xp:()=>c,co:()=>f,fS:()=>y,gK:()=>d,ix:()=>w,n3:()=>b,nM:()=>i,wH:()=>g,wv:()=>u});var o=t(2409);let a=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://zrmxcjklkthpyanfslsw.supabase.co",s=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpybXhjamtsa3RocHlhbmZzbHN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MDYxMzAsImV4cCI6MjA3MjQ4MjEzMH0.2Tjh9pPzc6BUGoV3lDUBymXzE_dvAGs1O_WewTdetE0",n=(0,o.eI)(a,s);async function c(){try{let{data:r,error:e}=await n.from("products").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getProducts error:",e),[];return r||[]}catch(r){return console.error("Supabase getProducts error:",r),[]}}async function u(r){try{let{data:e,error:t}=await n.from("products").select("*").eq("id",r).single();if(t)return console.error("Supabase getProduct error:",t),null;return e}catch(r){return console.error("Supabase getProduct error:",r),null}}async function d(r){try{let{data:e,error:t}=await n.from("products").insert([r]).select().single();if(t)throw console.error("Supabase addProduct error:",t),t;return console.log("Supabase: Added product:",r.id),e}catch(r){throw console.error("Supabase addProduct error:",r),r}}async function i(r,e){try{let{data:t,error:o}=await n.from("products").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateProduct error:",o),null;return console.log("Supabase: Updated product:",r),t}catch(r){return console.error("Supabase updateProduct error:",r),null}}async function l(r){try{let{error:e}=await n.from("products").delete().eq("id",r);if(e)return console.error("Supabase deleteProduct error:",e),!1;return console.log("Supabase: Deleted product:",r),!0}catch(r){return console.error("Supabase deleteProduct error:",r),!1}}async function p(){try{let{data:r,error:e}=await n.from("orders").select("*").order("order_date",{ascending:!1});if(e)return console.error("Supabase getOrders error:",e),[];return r||[]}catch(r){return console.error("Supabase getOrders error:",r),[]}}async function f(r){try{let{data:e,error:t}=await n.from("orders").select("*").eq("id",r).single();if(t)return console.error("Supabase getOrder error:",t),null;return e}catch(r){return console.error("Supabase getOrder error:",r),null}}async function y(r){try{let{data:e,error:t}=await n.from("orders").insert([r]).select().single();if(t)throw console.error("Supabase addOrder error:",t),t;return console.log("Supabase: Added order:",r.id),e}catch(r){throw console.error("Supabase addOrder error:",r),r}}async function S(r,e){try{let{data:t,error:o}=await n.from("orders").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateOrder error:",o),null;return console.log("Supabase: Updated order:",r),t}catch(r){return console.error("Supabase updateOrder error:",r),null}}async function g(r){try{let{error:e}=await n.from("orders").delete().eq("id",r);if(e)return console.error("Supabase deleteOrder error:",e),!1;return console.log("Supabase: Deleted order:",r),!0}catch(r){return console.error("Supabase deleteOrder error:",r),!1}}async function h(){try{let{data:r,error:e}=await n.from("customers").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getCustomers error:",e),[];return r||[]}catch(r){return console.error("Supabase getCustomers error:",r),[]}}async function m(r){try{let{data:e,error:t}=await n.from("customers").insert([r]).select().single();if(t)throw console.error("Supabase addCustomer error:",t),t;return e}catch(r){throw console.error("Supabase addCustomer error:",r),r}}async function b(){try{let{data:r,error:e}=await n.from("wilaya_tariffs").select("*").order("order",{ascending:!0});if(e)return console.error("Supabase getWilayaTariffs error:",e),[];return r||[]}catch(r){return console.error("Supabase getWilayaTariffs error:",r),[]}}async function w(r){try{if(await n.from("wilaya_tariffs").delete().neq("id",0),r.length>0){let{error:e}=await n.from("wilaya_tariffs").insert(r);if(e)throw console.error("Supabase updateWilayaTariffs error:",e),e}console.log("Supabase: Updated wilaya tariffs")}catch(r){throw console.error("Supabase updateWilayaTariffs error:",r),r}}}};var e=require("../../../webpack-runtime.js");e.C(r);var t=r=>e(e.s=r),o=e.X(0,[638,206,409],()=>t(6366));module.exports=o})();