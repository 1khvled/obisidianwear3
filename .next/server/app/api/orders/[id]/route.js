"use strict";(()=>{var e={};e.id=87,e.ids=[87],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},883:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>j,originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>f,serverHooks:()=>h,staticGenerationAsyncStorage:()=>P,staticGenerationBailout:()=>O});var s={};t.r(s),t.d(s,{DELETE:()=>p,GET:()=>i,PUT:()=>l,runtime:()=>c});var o=t(5419),a=t(9108),n=t(9678),d=t(8070),u=t(4750);let c="nodejs";async function i(e,{params:r}){try{let{id:e}=r,t=await (0,u.co)(e);if(!t)return d.Z.json({success:!1,error:"Order not found"},{status:404});return console.log("Orders API: GET single order:",e),d.Z.json({success:!0,data:t,timestamp:Date.now()})}catch(e){return console.error("Orders API: GET single error:",e),d.Z.json({success:!1,error:"Failed to fetch order"},{status:500})}}async function l(e,{params:r}){try{let{id:s}=r,o=await e.json(),a=await (0,u.co)(s);if(a&&"cancelled"===o.status&&"cancelled"!==a.status){let{returnStockFromOrder:e}=await t.e(814).then(t.bind(t,4814));await e(a),console.log("Orders API: Returned stock for cancelled order:",s)}let n=await (0,u.Cs)(s,o);if(!n)return d.Z.json({success:!1,error:"Order not found"},{status:404});return console.log("Orders API: PUT request - updated order:",s),d.Z.json({success:!0,data:n,message:"cancelled"===o.status?"Order cancelled and stock returned to inventory":"Order updated successfully",timestamp:Date.now()})}catch(e){return console.error("Orders API: PUT error:",e),d.Z.json({success:!1,error:"Failed to update order"},{status:500})}}async function p(e,{params:r}){try{let{id:e}=r,t=await (0,u.co)(e);if(!t)return d.Z.json({success:!1,error:"Order not found"},{status:404});if(!await (0,u.wH)(e))return d.Z.json({success:!1,error:"Failed to delete order"},{status:500});return console.log("Orders API: DELETE request - deleted order and returned stock:",e),d.Z.json({success:!0,data:t,message:"Order deleted successfully and stock returned to inventory",timestamp:Date.now()})}catch(e){return console.error("Orders API: DELETE error:",e),d.Z.json({success:!1,error:"Failed to delete order"},{status:500})}}let f=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/orders/[id]/route",pathname:"/api/orders/[id]",filename:"route",bundlePath:"app/api/orders/[id]/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\orders\\[id]\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:P,serverHooks:h,headerHooks:j,staticGenerationBailout:O}=f,g="/api/orders/[id]/route";function w(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:P})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,720,750],()=>t(883));module.exports=s})();