"use strict";(()=>{var r={};r.id=87,r.ids=[87],r.modules={517:r=>{r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:r=>{r.exports=require("http")},5687:r=>{r.exports=require("https")},5477:r=>{r.exports=require("punycode")},2781:r=>{r.exports=require("stream")},7310:r=>{r.exports=require("url")},9796:r=>{r.exports=require("zlib")},883:(r,e,t)=>{t.r(e),t.d(e,{headerHooks:()=>g,originalPathname:()=>S,patchFetch:()=>b,requestAsyncStorage:()=>f,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>h});var o={};t.r(o),t.d(o,{DELETE:()=>l,GET:()=>d,PUT:()=>i});var s=t(5419),a=t(9108),n=t(9678),c=t(8070),u=t(4750);async function d(r,{params:e}){try{let{id:r}=e,t=await (0,u.co)(r);if(!t)return c.Z.json({success:!1,error:"Order not found"},{status:404});return console.log("Orders API: GET single order:",r),c.Z.json({success:!0,data:t,timestamp:Date.now()})}catch(r){return console.error("Orders API: GET single error:",r),c.Z.json({success:!1,error:"Failed to fetch order"},{status:500})}}async function i(r,{params:e}){try{let{id:t}=e,o=await r.json(),s=await (0,u.Cs)(t,o);if(!s)return c.Z.json({success:!1,error:"Order not found"},{status:404});return console.log("Orders API: PUT request - updated order:",t),c.Z.json({success:!0,data:s,message:"Order updated successfully",timestamp:Date.now()})}catch(r){return console.error("Orders API: PUT error:",r),c.Z.json({success:!1,error:"Failed to update order"},{status:500})}}async function l(r,{params:e}){try{let{id:r}=e,t=await (0,u.co)(r);if(!t)return c.Z.json({success:!1,error:"Order not found"},{status:404});if(!await (0,u.wH)(r))return c.Z.json({success:!1,error:"Failed to delete order"},{status:500});return console.log("Orders API: DELETE request - deleted order:",r),c.Z.json({success:!0,data:t,message:"Order deleted successfully",timestamp:Date.now()})}catch(r){return console.error("Orders API: DELETE error:",r),c.Z.json({success:!1,error:"Failed to delete order"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/orders/[id]/route",pathname:"/api/orders/[id]",filename:"route",bundlePath:"app/api/orders/[id]/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\orders\\[id]\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:y,serverHooks:m,headerHooks:g,staticGenerationBailout:h}=p,S="/api/orders/[id]/route";function b(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:y})}},4750:(r,e,t)=>{t.d(e,{AU:()=>p,Cs:()=>m,Ir:()=>l,OL:()=>h,Sy:()=>S,Xp:()=>c,co:()=>f,fS:()=>y,gK:()=>d,ix:()=>w,n3:()=>b,nM:()=>i,wH:()=>g,wv:()=>u});var o=t(2409);let s=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://zrmxcjklkthpyanfslsw.supabase.co",a=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpybXhjamtsa3RocHlhbmZzbHN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MDYxMzAsImV4cCI6MjA3MjQ4MjEzMH0.2Tjh9pPzc6BUGoV3lDUBymXzE_dvAGs1O_WewTdetE0",n=(0,o.eI)(s,a);async function c(){try{let{data:r,error:e}=await n.from("products").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getProducts error:",e),[];return r||[]}catch(r){return console.error("Supabase getProducts error:",r),[]}}async function u(r){try{let{data:e,error:t}=await n.from("products").select("*").eq("id",r).single();if(t)return console.error("Supabase getProduct error:",t),null;return e}catch(r){return console.error("Supabase getProduct error:",r),null}}async function d(r){try{let{data:e,error:t}=await n.from("products").insert([r]).select().single();if(t)throw console.error("Supabase addProduct error:",t),t;return console.log("Supabase: Added product:",r.id),e}catch(r){throw console.error("Supabase addProduct error:",r),r}}async function i(r,e){try{let{data:t,error:o}=await n.from("products").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateProduct error:",o),null;return console.log("Supabase: Updated product:",r),t}catch(r){return console.error("Supabase updateProduct error:",r),null}}async function l(r){try{let{error:e}=await n.from("products").delete().eq("id",r);if(e)return console.error("Supabase deleteProduct error:",e),!1;return console.log("Supabase: Deleted product:",r),!0}catch(r){return console.error("Supabase deleteProduct error:",r),!1}}async function p(){try{let{data:r,error:e}=await n.from("orders").select("*").order("order_date",{ascending:!1});if(e)return console.error("Supabase getOrders error:",e),[];return r||[]}catch(r){return console.error("Supabase getOrders error:",r),[]}}async function f(r){try{let{data:e,error:t}=await n.from("orders").select("*").eq("id",r).single();if(t)return console.error("Supabase getOrder error:",t),null;return e}catch(r){return console.error("Supabase getOrder error:",r),null}}async function y(r){try{let{data:e,error:t}=await n.from("orders").insert([r]).select().single();if(t)throw console.error("Supabase addOrder error:",t),t;return console.log("Supabase: Added order:",r.id),e}catch(r){throw console.error("Supabase addOrder error:",r),r}}async function m(r,e){try{let{data:t,error:o}=await n.from("orders").update({...e,id:r}).eq("id",r).select().single();if(o)return console.error("Supabase updateOrder error:",o),null;return console.log("Supabase: Updated order:",r),t}catch(r){return console.error("Supabase updateOrder error:",r),null}}async function g(r){try{let{error:e}=await n.from("orders").delete().eq("id",r);if(e)return console.error("Supabase deleteOrder error:",e),!1;return console.log("Supabase: Deleted order:",r),!0}catch(r){return console.error("Supabase deleteOrder error:",r),!1}}async function h(){try{let{data:r,error:e}=await n.from("customers").select("*").order("created_at",{ascending:!1});if(e)return console.error("Supabase getCustomers error:",e),[];return r||[]}catch(r){return console.error("Supabase getCustomers error:",r),[]}}async function S(r){try{let{data:e,error:t}=await n.from("customers").insert([r]).select().single();if(t)throw console.error("Supabase addCustomer error:",t),t;return e}catch(r){throw console.error("Supabase addCustomer error:",r),r}}async function b(){try{let{data:r,error:e}=await n.from("wilaya_tariffs").select("*").order("order",{ascending:!0});if(e)return console.error("Supabase getWilayaTariffs error:",e),[];return r||[]}catch(r){return console.error("Supabase getWilayaTariffs error:",r),[]}}async function w(r){try{if(await n.from("wilaya_tariffs").delete().neq("id",0),r.length>0){let{error:e}=await n.from("wilaya_tariffs").insert(r);if(e)throw console.error("Supabase updateWilayaTariffs error:",e),e}console.log("Supabase: Updated wilaya tariffs")}catch(r){throw console.error("Supabase updateWilayaTariffs error:",r),r}}}};var e=require("../../../../webpack-runtime.js");e.C(r);var t=r=>e(e.s=r),o=e.X(0,[638,206,409],()=>t(883));module.exports=o})();