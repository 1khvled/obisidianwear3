(()=>{var e={};e.id=3,e.ids=[3],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},8202:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=s(50482),r=s(69108),l=s(62563),i=s.n(l),o=s(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85557)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,17006)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,93521)),"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\admin\\page.tsx"],x="/admin/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41201:(e,t,s)=>{Promise.resolve().then(s.bind(s,10293))},45961:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},55794:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},25545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},96885:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},53148:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},72086:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},91917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},51838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},33733:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},28765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},76755:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10293:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eg});var a=s(95344),r=s(3729),l=s(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=s(91917);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,l.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),d=(0,l.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var c=s(12401),x=s(45961),m=s(80508),h=s(25545),u=s(7060),g=s(51838),p=s(14513),y=s(6585);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,l.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b=(0,l.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var v=s(38271),f=s(72086);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,l.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var w=s(88398),k=s(42002),C=s(23485),S=s(18822);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,l.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),z=(0,l.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var A=s(53148),P=s(86671);function E(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[n,d]=(0,r.useState)(""),[c,x]=(0,r.useState)(!1),{login:m}=(0,P.useAuth)(),h=async t=>{t.preventDefault(),x(!0),d("");try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),a=await t.json();t.ok&&a.success?m(e,s):d(a.error||"Invalid username or password")}catch(e){console.error("Login error:",e),d("Network error. Please try again.")}finally{x(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(C.Z,{className:"w-8 h-8 text-black"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"OBSIDIAN WEAR"}),a.jsx("p",{className:"text-gray-400",children:"Admin Panel"})]}),a.jsx("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-800 shadow-2xl",children:(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter username"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:i?"text":"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-white focus:ring-1 focus:ring-white transition-colors",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?a.jsx(z,{className:"w-5 h-5"}):a.jsx(A.Z,{className:"w-5 h-5"})})]})]}),n&&a.jsx("div",{className:"p-3 bg-red-900 border border-red-700 rounded-lg",children:a.jsx("p",{className:"text-red-300 text-sm",children:n})}),a.jsx("button",{type:"submit",disabled:c,className:"w-full bg-white text-black py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black mr-2"}),"Signing in..."]}):"Sign In"})]})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,l.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),O=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var M=s(55794);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,l.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var L=s(76755);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,l.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function I({title:e,value:t,change:s,changeType:r="neutral",icon:l,color:i="blue",loading:o=!1}){return o?a.jsx("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-700 rounded w-24"}),a.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"})]}),a.jsx("div",{className:"h-12 w-12 bg-gray-700 rounded-lg"})]})}):a.jsx("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-400 text-sm font-medium",children:e}),a.jsx("div",{className:"text-2xl font-bold text-white",children:t}),void 0!==s&&(0,a.jsxs)("div",{className:`flex items-center text-sm ${{positive:"text-green-400",negative:"text-red-400",neutral:"text-gray-400"}[r]}`,children:[(0,a.jsxs)("span",{className:"font-medium",children:["positive"===r?"+":"negative"===r?"-":"",Math.abs(s),"%"]}),a.jsx("span",{className:"ml-1",children:"vs last month"})]})]}),a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${{blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"}[i]} group-hover:scale-110 transition-transform duration-200`,children:a.jsx(l,{className:"h-6 w-6 text-white"})})]})})}function $({data:e,type:t="bar",height:s=200,className:l=""}){let[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>o(!0),100);return()=>clearTimeout(e)},[]);let n=Math.max(...e.map(e=>e.value));if("bar"===t)return a.jsx("div",{className:`space-y-2 ${l}`,style:{height:s},children:e.map((e,t)=>{let s=n>0?e.value/n*100:0;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:e.label}),a.jsx("span",{className:"text-white font-medium",children:e.value.toLocaleString()})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ease-out ${i?"w-full":"w-0"}`,style:{width:i?`${s}%`:"0%",backgroundColor:e.color||"#3b82f6"}})})]},t)})});if("doughnut"===t){let t=e.reduce((e,t)=>e+t.value,0),r=0;return(0,a.jsxs)("div",{className:`relative ${l}`,style:{height:s,width:s},children:[a.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:e.map((e,s)=>{let l=e.value/t*100,o=3.6*r;r+=l;let n=2*Math.PI*40,d=`${l/100*n} ${n}`,c=n-o/360*n;return a.jsx("circle",{cx:"50",cy:"50",r:40,fill:"none",stroke:e.color||"#3b82f6",strokeWidth:"8",strokeDasharray:d,strokeDashoffset:c,className:"transition-all duration-1000 ease-out",style:{strokeDashoffset:i?c:n}},s)})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:t}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total"})]})})]})}return null}function U({value:e,duration:t=1e3,className:s=""}){let[l,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let s,a;let r=l=>{s||(s=l);let o=Math.min((l-s)/t,1);i(Math.floor(e*(1-Math.pow(1-o,4)))),o<1&&(a=requestAnimationFrame(r))};return a=requestAnimationFrame(r),()=>{a&&cancelAnimationFrame(a)}},[e,t]),a.jsx("span",{className:s,children:l.toLocaleString()})}function q({products:e,orders:t,customers:s}){let[l,i]=(0,r.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,totalCustomers:0,lowStockProducts:0,pendingOrders:0,monthlyRevenue:0,averageOrderValue:0}),[n,d]=(0,r.useState)([]),[m,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{let a=e.length,r=t.length,l=t.reduce((e,t)=>e+t.total,0),o=s.length,n=e.filter(e=>!e.stock||10>Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0)).length,c=t.filter(e=>"pending"===e.status).length,x=new Date;x.setDate(x.getDate()-30),i({totalProducts:a,totalOrders:r,totalRevenue:l,totalCustomers:o,lowStockProducts:n,pendingOrders:c,monthlyRevenue:t.filter(e=>new Date(e.orderDate)>=x).reduce((e,t)=>e+t.total,0),averageOrderValue:r>0?l/r:0}),d(t.slice(0,5)),h(e.map(e=>{let s=t.filter(t=>t.productId===e.id);return{product:e,orders:s.length}}).sort((e,t)=>t.orders-e.orders).slice(0,5))},[e,t,s]);let u=t.length>0?[{label:"This Month",value:l.monthlyRevenue,color:"#10b981"}]:[{label:"No Data",value:0,color:"#6b7280"}],g=Object.entries(e.reduce((e,t)=>{let s=t.category||"Other";return e[s]=(e[s]||0)+1,e},{})).map(([e,t])=>({label:e,value:t,color:`hsl(${360*Math.random()}, 70%, 50%)`}));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(I,{title:"Total Products",value:a.jsx(U,{value:l.totalProducts}),change:12,changeType:"positive",icon:o.Z,color:"blue"}),a.jsx(I,{title:"Total Orders",value:a.jsx(U,{value:l.totalOrders}),change:8,changeType:"positive",icon:c.Z,color:"green"}),a.jsx(I,{title:"Total Revenue",value:`${l.totalRevenue.toLocaleString()} DA`,change:15,changeType:"positive",icon:Z,color:"purple"}),a.jsx(I,{title:"Total Customers",value:a.jsx(U,{value:l.totalCustomers}),change:5,changeType:"positive",icon:O,color:"orange"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(I,{title:"Low Stock Products",value:a.jsx(U,{value:l.lowStockProducts}),icon:x.Z,color:"red"}),a.jsx(I,{title:"Pending Orders",value:a.jsx(U,{value:l.pendingOrders}),icon:M.Z,color:"orange"}),a.jsx(I,{title:"Monthly Revenue",value:`${l.monthlyRevenue.toLocaleString()} DA`,icon:T,color:"green"}),a.jsx(I,{title:"Avg Order Value",value:`${Math.round(l.averageOrderValue).toLocaleString()} DA`,icon:L.Z,color:"purple"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Revenue Trend"}),(0,a.jsxs)("div",{className:"flex items-center text-green-400 text-sm",children:[a.jsx(_,{className:"w-4 h-4 mr-1"}),"+15% from last month"]})]}),a.jsx($,{data:u,type:"bar",height:200})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Products by Category"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[e.length," total"]})]}),a.jsx($,{data:g,type:"doughnut",height:200})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Orders"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",a.jsx(_,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"space-y-4",children:n.length>0?n.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(c.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.customerName}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.productName})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.total.toLocaleString()," DA"]}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.status})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No recent orders"})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Top Products"}),(0,a.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center",children:["View all",a.jsx(_,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"space-y-4",children:m.length>0?m.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(o.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:e.product.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:e.product.category})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[e.orders," orders"]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.product.price.toLocaleString()," DA"]})]})]},e.product.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(o.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No products yet"})]})})]})]})]})}var F=s(28765);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let R=(0,l.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),H=(0,l.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);function V({children:e,onClick:t,variant:s="primary",size:r="md",disabled:l=!1,loading:i=!1,className:o="",type:n="button"}){return(0,a.jsxs)("button",{type:n,onClick:t,disabled:l||i,className:`inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",outline:"border border-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500"}[s]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r]} ${o}`,children:[i&&a.jsx(j,{className:"w-4 h-4 mr-2 animate-spin"}),e]})}function W({isOpen:e,onClose:t,title:s,children:l,size:i="md",className:o=""}){return((0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,r.useEffect)(()=>{let s=e=>{"Escape"===e.key&&t()};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t]),e)?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),a.jsx("div",{className:`relative w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]} ${o}`,children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 transform transition-all duration-300 scale-100",children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:s}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(p.Z,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-6",children:l})]})})]})}):null}function B({products:e=[],onAddProduct:t=()=>{},onEditProduct:s=()=>{},onDeleteProduct:l=()=>{},onViewProduct:i=()=>{}}){let[n,d]=(0,r.useState)(""),[c,m]=(0,r.useState)("All"),[h,p]=(0,r.useState)("name"),[y,j]=(0,r.useState)("asc"),[f,N]=(0,r.useState)("grid"),[w,k]=(0,r.useState)([]),[C,S]=(0,r.useState)(!1),[D,z]=(0,r.useState)(!1),[P,E]=(0,r.useState)(null),Z=["All",...Array.from(new Set((e||[]).map(e=>e.category)))],O=(e||[]).filter(e=>{let t=(e.name||"").toLowerCase().includes(n.toLowerCase())||(e.description||"").toLowerCase().includes(n.toLowerCase()),s="All"===c||e.category===c;return t&&s}).sort((e,t)=>{let s=e[h],a=t[h];return void 0===s&&void 0===a?0:void 0===s?"asc"===y?-1:1:void 0===a?"asc"===y?1:-1:("string"==typeof s&&(s=s.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase()),s<a)?"asc"===y?-1:1:s>a?"asc"===y?1:-1:0}),M=e=>{if(!e.stock)return{total:0,status:"out"};let t=Object.values(e.stock).reduce((e,t)=>e+Object.values(t).reduce((e,t)=>e+t,0),0);return 0===t?{total:t,status:"out"}:t<10?{total:t,status:"low"}:{total:t,status:"good"}},T=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},_=e=>{E(e),z(!0)};return(0,r.useEffect)(()=>{S(w.length>0)},[w]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Products"}),a.jsx("p",{className:"text-gray-400",children:"Manage your product catalog"})]}),(0,a.jsxs)(V,{onClick:t,className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"w-4 h-4"}),"Add Product"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),a.jsx("select",{value:c,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:Z.map(e=>a.jsx("option",{value:e,children:e},e))}),(0,a.jsxs)("select",{value:`${h}-${y}`,onChange:e=>{let[t,s]=e.target.value.split("-");p(t),j(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"name-asc",children:"Name A-Z"}),a.jsx("option",{value:"name-desc",children:"Name Z-A"}),a.jsx("option",{value:"price-asc",children:"Price Low-High"}),a.jsx("option",{value:"price-desc",children:"Price High-Low"}),a.jsx("option",{value:"createdAt-desc",children:"Newest First"}),a.jsx("option",{value:"createdAt-asc",children:"Oldest First"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded ${"grid"===f?"bg-blue-600 text-white":"text-gray-400"}`,children:a.jsx(R,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded ${"list"===f?"bg-blue-600 text-white":"text-gray-400"}`,children:a.jsx(H,{className:"w-4 h-4"})})]})]}),C&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[w.length," product",1!==w.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[a.jsx(V,{variant:"outline",size:"sm",onClick:()=>k([]),children:"Clear"}),a.jsx(V,{variant:"danger",size:"sm",onClick:()=>{w.forEach(e=>l(e)),k([]),S(!1)},children:"Delete Selected"})]})]})]}),O.length>0?a.jsx("div",{className:"grid"===f?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:O.map(e=>{let t=M(e);return"grid"===f?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-gray-600 transition-all duration-200 group",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e.image||"/placeholder-product.jpg",alt:e.name||"Product",className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>T(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[a.jsx("button",{onClick:()=>i(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:a.jsx(A.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-1 bg-black/50 text-white rounded hover:bg-black/70 transition-colors",children:a.jsx(b,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(e),className:"p-1 bg-black/50 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-white mb-2 line-clamp-2",children:e.name||"Unnamed Product"}),a.jsx("div",{className:"flex items-center gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>a.jsx(L.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:[Number(e.price).toFixed(0)," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["out"===t.status&&a.jsx(x.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&a.jsx(x.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&a.jsx(u.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,a.jsxs)("div",{children:["Category: ",e.category||"Uncategorized"]}),(0,a.jsxs)("div",{children:["Stock: ",t.total," units"]})]})]})]},e.id):a.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"checkbox",checked:w.includes(e.id),onChange:()=>T(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),a.jsx("img",{src:e.image||"/placeholder-product.jpg",alt:e.name||"Product",className:"w-16 h-16 object-cover rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white truncate",children:e.name||"Unnamed Product"}),a.jsx("p",{className:"text-gray-400 text-sm truncate",children:e.description||"No description"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[a.jsx("span",{className:"text-sm text-gray-400",children:e.category||"Uncategorized"}),a.jsx("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((t,s)=>a.jsx(L.Z,{size:12,className:s<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-600"},s))})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-white",children:[e.price," DA"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["Stock: ",t.total]}),"out"===t.status&&a.jsx(x.Z,{className:"w-4 h-4 text-red-400"}),"low"===t.status&&a.jsx(x.Z,{className:"w-4 h-4 text-yellow-400"}),"good"===t.status&&a.jsx(u.Z,{className:"w-4 h-4 text-green-400"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>i(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(A.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(b,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(e),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})]})},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(o.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No products found"}),a.jsx("p",{className:"text-gray-400 mb-4",children:n||"All"!==c?"Try adjusting your search or filters":"Get started by adding your first product"}),!n&&"All"===c&&(0,a.jsxs)(V,{onClick:t,children:[a.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),a.jsx(W,{isOpen:D,onClose:()=>z(!1),title:"Delete Product",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete ",a.jsx("strong",{children:P?.name}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[a.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),a.jsx(V,{variant:"danger",onClick:()=>{P&&(l(P.id),z(!1),E(null))},children:"Delete Product"})]})]})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let J=(0,l.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var G=s(33733);function X({onClose:e}){let[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[n,d]=(0,r.useState)(""),[c,m]=(0,r.useState)("all"),[h,g]=(0,r.useState)(null),[p,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(0),[f,N]=(0,r.useState)(""),w=async()=>{try{i(!0);let e=await fetch("/api/inventory"),t=await e.json();console.log("\uD83D\uDD0D Inventory API Response:",{success:t.success,dataLength:t.data?.length,firstItem:t.data?.[0],fullResponse:t}),t.success&&t.data&&t.data.length>0?(console.log("âœ… Setting inventory data:",t.data),s(t.data)):(console.log("\uD83D\uDCE6 Inventory table is empty, loading products with default colors and sizes..."),await k())}catch(e){console.error("Error loading inventory:",e),await k()}finally{i(!1)}},k=async()=>{try{console.log("\uD83D\uDD04 Loading products with default colors and sizes (v2)...");let e=await fetch("/api/products"),t=await e.json();if(t.success&&t.data){let e=[];t.data.forEach(t=>{console.log("\uD83D\uDD0D Processing product:",{id:t.id,name:t.name,hasStock:!!t.stock,stock:t.stock,stockKeys:t.stock?Object.keys(t.stock):[],colors:t.colors,sizes:t.sizes});let s=t.colors&&t.colors.length>0?t.colors:["Black","White","Red","Blue","Green"],a=t.sizes&&t.sizes.length>0?t.sizes:["S","M","L","XL","XXL"];console.log(`ðŸŽ¨ Using colors:`,s),console.log(`ðŸ“ Using sizes:`,a),a.forEach(a=>{s.forEach(s=>{let r=0;console.log(`ðŸ” Checking stock for ${a} ${s}:`),console.log("  - product.stock exists:",!!t.stock),console.log(`  - product.stock[${a}] exists:`,!!(t.stock&&t.stock[a])),console.log(`  - product.stock[${a}][${s}] exists:`,!!(t.stock&&t.stock[a]&&t.stock[a][s])),t.stock&&"object"==typeof t.stock&&t.stock[a]&&t.stock[a][s]?(r=t.stock[a][s],console.log("  - Found quantity:",r)):console.log("  - No stock data found, using 0"),console.log(`ðŸ“¦ Final stock for ${t.name} ${a} ${s}:`,r),e.push({id:`INV-${t.id}-${a}-${s}`,product_id:t.id,size:a,color:s,quantity:r,reserved_quantity:0,available_quantity:r,min_stock_level:5,max_stock_level:100,last_updated:new Date().toISOString(),created_at:t.createdAt||new Date().toISOString(),updated_at:t.updatedAt||new Date().toISOString()})})})}),console.log(`âœ… Loaded ${e.length} inventory records with default colors and sizes (v2)`),s(e)}else console.error("âŒ Failed to load products:",t.error)}catch(e){console.error("âŒ Error loading products with defaults:",e)}};(0,r.useEffect)(()=>{w()},[]);let C=t.filter(e=>{let t=e.products?.name.toLowerCase().includes(n.toLowerCase())||e.size.toLowerCase().includes(n.toLowerCase())||e.color.toLowerCase().includes(n.toLowerCase()),s=!0;return"low"===c?s=e.quantity<=e.min_stock_level:"out"===c?s=0===e.quantity:"in-stock"===c&&(s=e.quantity>e.min_stock_level),t&&s});console.log("\uD83D\uDD0D Inventory Debug:",{inventoryLength:t.length,filteredLength:C.length,firstInventoryItem:t[0],firstFilteredItem:C[0],searchQuery:n,filterStatus:c});let S=async(e,t)=>{try{g(e=>e?{...e,isUpdating:!0}:null);let a=await fetch(`/api/inventory/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.NEXT_PUBLIC_API_AUTH_TOKEN||"obsidian-api-token-2025"}`},body:JSON.stringify({quantity:t,reason:f||"Manual adjustment",createdBy:"admin"})}),r=await a.json();r.success?(s(s=>s.map(s=>s.id===e.id?{...s,quantity:t,available_quantity:t,updated_at:new Date().toISOString()}:s)),g(null),N(""),v(0),console.log("âœ… Inventory updated successfully!")):(console.error("Failed to update inventory:",r.error),alert(`Failed to update inventory: ${r.error}`))}catch(e){console.error("Error updating inventory:",e),alert(`Error updating inventory: ${e instanceof Error?e.message:"Unknown error"}`)}finally{g(e=>e?{...e,isUpdating:!1}:null)}},D=e=>0===e.quantity?"out":e.quantity<=e.min_stock_level?"low":"in-stock",z=e=>{switch(e){case"out":return"text-red-400 bg-red-900/20";case"low":return"text-yellow-400 bg-yellow-900/20";case"in-stock":return"text-green-400 bg-green-900/20";default:return"text-gray-400 bg-gray-900/20"}},A=e=>{switch(e){case"out":return a.jsx(J,{className:"w-4 h-4"});case"low":return a.jsx(x.Z,{className:"w-4 h-4"});case"in-stock":return a.jsx(u.Z,{className:"w-4 h-4"});default:return a.jsx(o.Z,{className:"w-4 h-4"})}};return l?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gray-900 p-8 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(G.Z,{className:"w-6 h-6 animate-spin text-blue-400"}),a.jsx("span",{className:"text-white",children:"Loading inventory..."})]})})}):a.jsx("div",{className:"inventory-manager-modal bg-black/70 p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-7xl h-[90vh] flex flex-col shadow-2xl border border-gray-700 relative",children:[a.jsx("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(o.Z,{className:"w-8 h-8 text-blue-400"}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage product stock levels and track inventory"})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(J,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"p-6 border-b border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search products, sizes, or colors...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Items"}),a.jsx("option",{value:"in-stock",children:"In Stock"}),a.jsx("option",{value:"low",children:"Low Stock"}),a.jsx("option",{value:"out",children:"Out of Stock"})]}),(0,a.jsxs)("button",{onClick:w,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx(G.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]})}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:0===C.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(o.Z,{className:"w-16 h-16 text-gray-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Inventory Found"}),a.jsx("p",{className:"text-gray-400 mb-4",children:0===t.length?"No inventory data available. The inventory table might be empty.":"No items match your current search or filter criteria."}),0===t.length&&a.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry Loading Inventory"})]}):a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Size"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Color"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:C.map(e=>{let t=D(e);return(0,a.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.products?.image&&a.jsx("img",{src:e.products.image,alt:e.products.name,className:"w-10 h-10 rounded-lg object-cover mr-3"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.products?.name||"Unknown Product"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["ID: ",e.product_id]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.size}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.color}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.quantity}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z(t)}`,children:[A(t),a.jsx("span",{className:"ml-1 capitalize",children:t.replace("-"," ")})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>{g(e),v(e.quantity)},className:"text-blue-400 hover:text-blue-300 mr-3",children:a.jsx(b,{className:"w-4 h-4"})})})]},e.id)})})]})})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[10000]",style:{zIndex:1e4},children:(0,a.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg w-full max-w-md shadow-2xl border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Update Inventory - ",h.products?.name]}),h.isUpdating&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-blue-400",children:[a.jsx(G.Z,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Updating..."})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{children:(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Size: ",h.size," | Color: ",h.color]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Current Quantity: ",h.quantity]}),a.jsx("input",{type:"number",value:j,onChange:e=>v(parseInt(e.target.value)||0),className:`w-full px-3 py-2 bg-gray-800 border rounded-lg text-white focus:outline-none focus:ring-2 transition-colors ${j<0?"border-red-500 focus:ring-red-500":"border-gray-700 focus:ring-blue-500"}`,min:"0"}),j<0&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Quantity cannot be negative"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason for Change"}),a.jsx("input",{type:"text",value:f,onChange:e=>N(e.target.value),placeholder:"Optional reason...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>{g(null),N(""),v(0)},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>S(h,j),disabled:h.isUpdating||j<0,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:h?.isUpdating?(0,a.jsxs)(a.Fragment,{children:[a.jsx(G.Z,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Updating..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Update"})]})})]})]})})]})})}var K=s(41223),Q=s.n(K),Y=s(16278),ee=s(96885),et=s(23613);function es({orders:e=[],onUpdateOrder:t=()=>{},onDeleteOrder:s=()=>{},onViewOrder:l=()=>{}}){let[i,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(""),[h,u]=(0,r.useState)("All"),[g,y]=(0,r.useState)("All"),[j,b]=(0,r.useState)("orderDate"),[f,N]=(0,r.useState)("desc"),w=e=>e.productImage&&e.productImage.length>100?e.productImage:null,[k,C]=(0,r.useState)([]),[D,z]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[O,M]=(0,r.useState)(null),[T,L]=(0,r.useState)(null),_=(e||[]).filter(e=>{let t=(e.customerName||"").toLowerCase().includes(x.toLowerCase())||(e.productName||"").toLowerCase().includes(x.toLowerCase())||(e.id||"").toLowerCase().includes(x.toLowerCase()),s="All"===h||e.status===h,a="All"===g||e.paymentStatus===g;return t&&s&&a}).sort((e,t)=>{let s=e[j],a=t[j];return void 0===s&&void 0===a?0:void 0===s?"asc"===f?-1:1:void 0===a?"asc"===f?1:-1:(s instanceof Date&&a instanceof Date&&(s=s.getTime(),a=a.getTime()),s<a)?"asc"===f?-1:1:s>a?"asc"===f?1:-1:0}),I=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"processing":return"text-blue-400 bg-blue-900/20";case"shipped":return"text-purple-400 bg-purple-900/20";case"delivered":return"text-green-400 bg-green-900/20";case"cancelled":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},$=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"paid":return"text-green-400 bg-green-900/20";case"failed":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}},U=e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},q=e=>{k.forEach(s=>t(s,{status:e})),C([]),z(!1)},R=e=>{M(e),E(!0)},H=(e,s)=>{t(e,{status:s})},B=(e,s)=>{t(e,{paymentStatus:s})},J=e=>{n(e),c(!0)};(0,r.useEffect)(()=>{z(k.length>0)},[k]);let X=e||[],K={total:X.length,pending:X.filter(e=>"pending"===e.status).length,processing:X.filter(e=>"processing"===e.status).length,shipped:X.filter(e=>"shipped"===e.status).length,delivered:X.filter(e=>"delivered"===e.status).length,totalRevenue:X.reduce((e,t)=>e+(t.total||0),0),averageOrderValue:X.length>0?X.reduce((e,t)=>e+(t.total||0),0)/X.length:0};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Orders"}),a.jsx("p",{className:"text-gray-400",children:"Manage customer orders and track fulfillment"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(V,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{try{if(console.log("Starting export with orders:",e.length),!e||0===e.length){alert("No orders to export.");return}et.X.setOrders(e);let t=et.X.exportOrdersCSV();if(!t||""===t.trim())throw Error("Generated CSV content is empty");console.log("Generated CSV content length:",t.length);let s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(s);a.setAttribute("href",r),a.setAttribute("download",`orders-export-${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(r),100),console.log("Orders exported successfully")}catch(e){console.error("Error exporting orders:",e),alert(`Failed to export orders: ${e instanceof Error?e.message:"Unknown error"}`)}},children:[a.jsx(ee.Z,{className:"w-4 h-4"}),"Export"]}),(0,a.jsxs)(V,{className:"flex items-center gap-2",onClick:()=>{window.location.reload()},children:[a.jsx(G.Z,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:K.total}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Orders"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:K.pending}),a.jsx("div",{className:"text-sm text-gray-400",children:"Pending"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:K.processing}),a.jsx("div",{className:"text-sm text-gray-400",children:"Processing"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:K.shipped}),a.jsx("div",{className:"text-sm text-gray-400",children:"Shipped"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:K.delivered}),a.jsx("div",{className:"text-sm text-gray-400",children:"Delivered"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[K.totalRevenue.toLocaleString()," DA"]}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(F.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search orders...",value:x,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"All",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"All",children:"All Payments"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"failed",children:"Failed"})]}),(0,a.jsxs)("select",{value:`${j}-${f}`,onChange:e=>{let[t,s]=e.target.value.split("-");b(t),N(s)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[a.jsx("option",{value:"orderDate-desc",children:"Newest First"}),a.jsx("option",{value:"orderDate-asc",children:"Oldest First"}),a.jsx("option",{value:"total-desc",children:"Highest Value"}),a.jsx("option",{value:"total-asc",children:"Lowest Value"}),a.jsx("option",{value:"customerName-asc",children:"Customer A-Z"}),a.jsx("option",{value:"customerName-desc",children:"Customer Z-A"})]})]}),D&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-blue-300 text-sm",children:[k.length," order",1!==k.length?"s":""," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,a.jsxs)("select",{onChange:e=>q(e.target.value),className:"px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[a.jsx("option",{value:"",children:"Update Status"}),a.jsx("option",{value:"processing",children:"Mark as Processing"}),a.jsx("option",{value:"shipped",children:"Mark as Shipped"}),a.jsx("option",{value:"delivered",children:"Mark as Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancel Orders"})]}),a.jsx(V,{variant:"outline",size:"sm",onClick:()=>C([]),children:"Clear"})]})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:k.length===_.length&&_.length>0,onChange:()=>{C(k.length===_.length?[]:_.map(e=>e.id))},className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Order ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Shipping"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Payment"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700 hover:bg-gray-700/50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>U(e.id),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"text-white font-mono text-sm",children:["#",e.id.slice(-8)]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-white font-medium",children:e.customerName||"Unknown Customer"}),a.jsx("div",{className:"text-gray-400 text-sm",children:e.customerPhone||"No phone"}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.customerEmail||"No email"}),e.customerCity&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["\uD83C\uDFD9ï¸ ",e.customerCity]}),e.customerAddress&&(0,a.jsxs)("div",{className:"text-gray-500 text-xs mt-1 truncate max-w-[200px]",title:e.customerAddress,children:["\uD83D\uDCCD ",e.customerAddress]})]}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[w(e)&&a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:w(e)?.startsWith("data:")?a.jsx("img",{src:w(e),alt:e.productName,className:"w-full h-full object-cover",onLoad:()=>console.log("âœ… Order product image loaded:",e.productName),onError:t=>console.error("âŒ Order product image failed to load:",e.productName,t)}):a.jsx(Q(),{src:w(e),alt:e.productName,width:48,height:48,className:"w-full h-full object-cover",onLoad:()=>console.log("âœ… Order product image loaded:",e.productName),onError:t=>console.error("âŒ Order product image failed to load:",e.productName,t)})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.productName||"Unknown Product"}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm",children:[e.selectedSize||"N/A"," â€¢ ",e.selectedColor||"N/A"]}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["Qty: ",e.quantity||0]})]})]})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-white text-sm",children:"homeDelivery"===e.shippingType?"Home Delivery":"Stop Desk"}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.wilayaName||"Unknown Wilaya"}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.shippingCost||0," DA"]})]}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>H(e.id,t.target.value),className:`px-2 py-1 rounded text-xs font-medium border-0 ${I(e.status)}`,children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("select",{value:e.paymentStatus,onChange:t=>B(e.id,t.target.value),className:`px-2 py-1 rounded text-xs font-medium border-0 ${$(e.paymentStatus)}`,children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"failed",children:"Failed"})]})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"text-white font-semibold",children:[(e.total||0).toLocaleString()," DA"]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"text-gray-300 text-sm",children:e.orderDate?new Date(e.orderDate).toLocaleDateString():"Unknown Date"})}),a.jsx("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>J(e),className:"p-1 text-gray-400 hover:text-white transition-colors",title:"View Order",children:a.jsx(A.Z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>R(e),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Delete Order",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),0===_.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(o.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No orders found"}),a.jsx("p",{className:"text-gray-400",children:x||"All"!==h||"All"!==g?"Try adjusting your search or filters":"Orders will appear here when customers make purchases"})]}),a.jsx(W,{isOpen:P,onClose:()=>E(!1),title:"Delete Order",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-300",children:["Are you sure you want to delete order ",a.jsx("strong",{children:O?.id}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[a.jsx(V,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),a.jsx(V,{variant:"danger",onClick:()=>{O&&(s(O.id),E(!1),M(null))},children:"Delete Order"})]})]})}),d&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 w-full max-w-4xl max-h-[90vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Order Details"}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx(p.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-5 h-5"}),"Order Information"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order ID:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:["#",i.id.slice(-8)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Order Date:"}),a.jsx("span",{className:"text-white",children:new Date(i.orderDate).toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I(i.status)}`,children:i.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Payment Status:"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$(i.paymentStatus)}`,children:i.paymentStatus})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Z,{className:"w-5 h-5"}),"Payment Details"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"text-white",children:[i.subtotal.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Shipping Cost:"}),(0,a.jsxs)("span",{className:"text-white",children:[i.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{className:"flex justify-between border-t border-gray-700 pt-2",children:[a.jsx("span",{className:"text-white font-semibold",children:"Total:"}),(0,a.jsxs)("span",{className:"text-white font-semibold text-lg",children:[i.total.toLocaleString()," DA"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(S.Z,{className:"w-5 h-5"}),"Customer Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Name"}),a.jsx("div",{className:"text-white font-medium",children:i.customerName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Phone"}),a.jsx("div",{className:"text-white",children:i.customerPhone})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Email"}),a.jsx("div",{className:"text-white",children:i.customerEmail||"Not provided"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"City"}),a.jsx("div",{className:"text-white",children:i.customerCity||"Not provided"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Address"}),a.jsx("div",{className:"text-white",children:i.customerAddress||"Not provided"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-5 h-5"}),"Product Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Product Name"}),a.jsx("div",{className:"text-white font-medium",children:i.productName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Size & Color"}),(0,a.jsxs)("div",{className:"text-white",children:[i.selectedSize," â€¢ ",i.selectedColor]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Quantity"}),a.jsx("div",{className:"text-white",children:i.quantity})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Unit Price"}),(0,a.jsxs)("div",{className:"text-white",children:[(i.subtotal/i.quantity).toLocaleString()," DA"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Y.Z,{className:"w-5 h-5"}),"Shipping Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Shipping Type"}),a.jsx("div",{className:"text-white",children:"homeDelivery"===i.shippingType?"Home Delivery":"Stop Desk"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Wilaya"}),a.jsx("div",{className:"text-white",children:i.wilayaName})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Shipping Cost"}),(0,a.jsxs)("div",{className:"text-white",children:[i.shippingCost.toLocaleString()," DA"]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Payment Method"}),a.jsx("div",{className:"text-white",children:"cod"===i.paymentMethod?"Cash on Delivery":"Bank Transfer"})]})]})]}),(i.notes||i.trackingNumber||i.estimatedDelivery)&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-semibold mb-3",children:"Additional Information"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[i.trackingNumber&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Tracking Number"}),a.jsx("div",{className:"text-white font-mono",children:i.trackingNumber})]}),i.estimatedDelivery&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Estimated Delivery"}),a.jsx("div",{className:"text-white",children:i.estimatedDelivery})]}),i.notes&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-1",children:"Notes"}),a.jsx("div",{className:"text-white",children:i.notes})]})]})]})]}),a.jsx("div",{className:"flex justify-end p-6 border-t border-gray-800",children:a.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Close"})})]})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ea=(0,l.Z)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),er=(0,l.Z)("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function el(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)("00:00"),[n,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{d(!0);let e=await fetch("/api/maintenance"),s=await e.json();if(s.drop_date){let e=new Date(s.drop_date);t(e.toISOString().split("T")[0]),o(e.toTimeString().slice(0,5))}else{let e=new Date,s=new Date(e.getTime()+2592e6);t(s.toISOString().split("T")[0]),o("00:00")}l(!1===s.is_maintenance_mode)}catch(e){console.error("Error loading maintenance settings:",e),t(new Date(new Date().getTime()+2592e6).toISOString().split("T")[0]),o("00:00"),l(!0)}finally{d(!1)}},g=async()=>{try{m(!0);let t=`${e}T${i}:00`;if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drop_date:t})})).ok)alert("Drop date updated successfully!");else throw Error("Failed to update drop date")}catch(e){console.error("Error updating drop date:",e),alert("Failed to update drop date. Please try again.")}finally{m(!1)}},p=async()=>{try{m(!0);let e=!s;if((await fetch("/api/maintenance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_maintenance_mode:!e})})).ok)l(e),e?alert("Store is now OPEN. Customers can shop normally."):alert("Store is now in MAINTENANCE MODE. Customers will see the maintenance page.");else throw Error("Failed to update store status")}catch(e){console.error("Error updating store status:",e),alert("Failed to update store status. Please try again.")}finally{m(!1)}};return n?a.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(j,{className:"w-6 h-6 animate-spin text-blue-400"}),a.jsx("span",{className:"text-gray-400",children:"Loading maintenance settings..."})]})}):(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Maintenance & Store Control"}),a.jsx("p",{className:"text-gray-400",children:"Manage store availability and drop dates"})]}),a.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-2 flex items-center",children:[s?a.jsx(ea,{className:"w-6 h-6 text-green-400 mr-2"}):a.jsx(er,{className:"w-6 h-6 text-red-400 mr-2"}),"Store Status"]}),a.jsx("p",{className:"text-gray-400",children:s?"Store is currently OPEN - customers can browse and purchase":"Store is in MAINTENANCE MODE - customers see maintenance page"})]}),(0,a.jsxs)("button",{onClick:p,disabled:c,className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 ${s?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800"}`,children:[c&&a.jsx(j,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:s?"Turn OFF Store":"Turn ON Store"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(M.Z,{className:"w-6 h-6 text-blue-400 mr-2"}),"Drop Date Configuration"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Date"}),a.jsx("input",{type:"date",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:"Drop Time"}),a.jsx("input",{type:"time",value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white transition-colors"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("button",{onClick:g,disabled:c,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-blue-800",children:[c?a.jsx(j,{className:"w-5 h-5 mr-2 animate-spin"}):a.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Update Drop Date"]}),(0,a.jsxs)("button",{onClick:()=>{window.open("/maintenance","_blank")},className:"flex items-center justify-center px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:[a.jsx(A.Z,{className:"w-5 h-5 mr-2"}),"Preview Maintenance Page"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800/50",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Current Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Store Status"}),a.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:s?"\uD83D\uDFE2 OPEN":"\uD83D\uDD34 MAINTENANCE"})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Next Drop"}),a.jsx("p",{className:"text-gray-300",children:new Date(`${e}T${i}`).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),a.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx(x.Z,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-yellow-300 font-semibold",children:"Important Notes"}),(0,a.jsxs)("ul",{className:"text-yellow-200/80 text-sm mt-2 space-y-1",children:[a.jsx("li",{children:"â€¢ When store is OFF, all visitors see the maintenance page"}),a.jsx("li",{children:"â€¢ Admin panel remains accessible at /admin"}),a.jsx("li",{children:"â€¢ Drop date shows on maintenance page with live countdown"}),a.jsx("li",{children:"â€¢ Changes take effect immediately"})]})]})]})})]})}var ei=s(90472),eo=s(37602),en=s(15731),ed=s(47704);function ec({rows:e=5,columns:t=6}){return a.jsx("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-800",children:a.jsx("tr",{children:Array.from({length:t}).map((e,t)=>a.jsx("th",{className:"text-left text-white font-medium py-4 px-6",children:a.jsx("div",{className:"h-4 bg-gray-700 rounded w-20"})},t))})}),a.jsx("tbody",{children:Array.from({length:e}).map((e,s)=>a.jsx("tr",{className:"border-t border-gray-800",children:Array.from({length:t}).map((e,t)=>a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"h-4 bg-gray-700 rounded w-16"})},t))},s))})]})})})}o.Z,c.Z,x.Z,m.Z;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ex=(0,l.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function em({value:e,onChange:t,placeholder:s="Enter image URL or upload"}){let[l,i]=(0,r.useState)(!1),[o,n]=(0,r.useState)(!1),d=(0,r.useRef)(null),c=async e=>{let s=e.target.files?.[0];if(!s)return;if(!s.type.startsWith("image/")){alert("Veuillez s\xe9lectionner un fichier image valide");return}if(s.size>5242880){alert("L'image est trop grande. Taille maximum: 5MB");return}i(!0);let a=new FileReader;a.onload=e=>{t(e.target?.result),i(!1)},a.readAsDataURL(s)},x=e=>{t(e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[e&&(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg border border-gray-700",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=Invalid+Image"}}),a.jsx("button",{type:"button",onClick:()=>{t("")},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 transition-colors",children:a.jsx(p.Z,{size:16})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Image URL"}),a.jsx("input",{type:"url",value:e,onChange:e=>x(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-white"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Or Upload File"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:c,className:"hidden"}),(0,a.jsxs)("button",{type:"button",onClick:()=>d.current?.click(),className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white hover:bg-gray-700 transition-colors",children:[a.jsx(ex,{size:20}),a.jsx("span",{children:"Choose File"})]}),l&&a.jsx("span",{className:"text-gray-400",children:"Uploading..."})]})]})]})]})}function eh({value:e=[],onChange:t,placeholder:s="Upload multiple images",maxImages:l=5}){let[i,o]=(0,r.useState)(!1),[n,d]=(0,r.useState)(!1),c=(0,r.useRef)(null),x=async s=>{if(!s)return;let a=Array.from(s).filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(alert(`File ${e.name} is too large. Maximum size: 5MB`),!1):(alert(`File ${e.name} is not a valid image`),!1));if(0!==a.length){if(e.length+a.length>l){alert(`Maximum ${l} images allowed`);return}o(!0);try{let s=[];for(let e of a){let t=new FileReader,a=new Promise(e=>{t.onload=t=>{e(t.target?.result)}});t.readAsDataURL(e);let r=await a;s.push(r)}t([...e,...s])}catch(e){console.error("Error uploading files:",e),alert("Error uploading some files. Please try again.")}finally{o(!1)}}},m=s=>{t(e.filter((e,t)=>t!==s))},h=(s,a)=>{let r=[...e],[l]=r.splice(s,1);r.splice(a,0,l),t(r)};return(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((t,s)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("img",{src:t,alt:`Product image ${s+1}`,className:"w-full h-32 object-cover rounded-lg border border-gray-700",onError:e=>{e.currentTarget.src="https://via.placeholder.com/200x200?text=Invalid+Image"}}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[s>0&&a.jsx("button",{type:"button",onClick:()=>h(s,s-1),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Move left",children:"â†"}),s<e.length-1&&a.jsx("button",{type:"button",onClick:()=>h(s,s+1),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Move right",children:"â†’"}),a.jsx("button",{type:"button",onClick:()=>m(s),className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"Remove image",children:a.jsx(p.Z,{size:16})})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:s+1})]},s))}),e.length<l&&a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${n?"border-white bg-white bg-opacity-10":"border-gray-700 hover:border-gray-600"}`,onDrop:e=>{e.preventDefault(),d(!1),x(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault(),d(!0)},onDragLeave:e=>{e.preventDefault(),d(!1)},children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:i?a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}):a.jsx(ex,{className:"w-12 h-12 text-gray-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium mb-2",children:i?"Uploading...":"Upload Images"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Drag and drop images here, or click to select files"}),(0,a.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:[e.length,"/",l," images â€¢ Max 5MB each"]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>c.current?.click(),disabled:i,className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white hover:bg-gray-700 transition-colors disabled:opacity-50",children:[a.jsx(ex,{size:16}),a.jsx("span",{children:"Choose Files"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{let s=prompt("Enter image URL:");if(s&&s.trim()){if(e.length>=l){alert(`Maximum ${l} images allowed`);return}t([...e,s.trim()])}},disabled:i,className:"flex items-center space-x-2 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white hover:bg-gray-700 transition-colors disabled:opacity-50",children:[a.jsx(g.Z,{size:16}),a.jsx("span",{children:"Add URL"})]})]})]})}),a.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:e=>{x(e.target.files)},className:"hidden"}),e.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-white font-medium mb-2",children:"Image URLs"}),a.jsx("div",{className:"space-y-2",children:e.map((s,r)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-gray-400 text-sm w-8",children:[r+1,"."]}),a.jsx("input",{type:"url",value:s,onChange:s=>{let a=[...e];a[r]=s.target.value,t(a)},className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:border-white",placeholder:"https://example.com/image.jpg"}),a.jsx("button",{type:"button",onClick:()=>m(r),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(p.Z,{size:16})})]},r))})]})]})}var eu=s(33883);function eg(){let{isAuthenticated:e,logout:t,username:s}=(0,P.useAuth)(),{t:l}=(0,eo.useLanguage)(),{products:C,addProduct:S,updateProduct:D,deleteProduct:z,initializeDefaultProducts:A,refreshProducts:Z}=(0,en.R)(),{theme:O}=(0,ed.useTheme)(),[M,T]=(0,r.useState)("dashboard"),[L,_]=(0,r.useState)(eu.rA.map(e=>({...e,tariff:0}))),[I,$]=(0,r.useState)([]),[U,F]=(0,r.useState)([]),[R,H]=(0,r.useState)([]),[V,W]=(0,r.useState)(!1),[J,G]=(0,r.useState)(null),[K,Q]=(0,r.useState)({name:"",description:"",basePrice:0,category:"",image:"",images:[],sizes:[],colors:[],allowCustomText:!1,allowCustomDesign:!1,customSizeChart:void 0,useCustomSizeChart:!1,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date}),[Y,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)(null),[er,ex]=(0,r.useState)({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],inStock:!0,rating:0,reviews:0,customSizeChart:void 0,useCustomSizeChart:!1,createdAt:new Date,updatedAt:new Date}),[eg,ep]=(0,r.useState)(!1),[ey,ej]=(0,r.useState)(!1),[eb,ev]=(0,r.useState)(!1),ef=[{id:"dashboard",icon:i,label:"Dashboard",color:"text-blue-400",bgColor:"bg-blue-500/20"},{id:"products",icon:o.Z,label:"Products",color:"text-emerald-400",bgColor:"bg-emerald-500/20"},{id:"inventory",icon:n,label:"Inventory",color:"text-cyan-400",bgColor:"bg-cyan-500/20"},{id:"made-to-order",icon:d,label:"Made to Order",color:"text-indigo-400",bgColor:"bg-indigo-500/20"},{id:"orders",icon:c.Z,label:"Orders",color:"text-orange-400",bgColor:"bg-orange-500/20"},{id:"maintenance",icon:x.Z,label:"Maintenance",color:"text-yellow-400",bgColor:"bg-yellow-500/20"},{id:"wilayas",icon:m.Z,label:"Wilayas",color:"text-red-400",bgColor:"bg-red-500/20"}];(0,r.useEffect)(()=>{let t=async()=>{try{ep(!0),console.log("Skipping orders load during build time"),$([]),console.log("Skipping made-to-order data load during build time"),H([]),F([]),console.log("Skipping wilaya data load during build time"),_([])}catch(e){console.error("Error loading data:",e)}finally{ep(!1)}};e&&t()},[e]),(0,r.useEffect)(()=>{et&&(console.log("\uD83D\uDD0D Admin: Editing product with custom size chart data:",{id:et.id,name:et.name,customSizeChart:et.customSizeChart,useCustomSizeChart:et.useCustomSizeChart,sizeChartCategory:et.sizeChartCategory}),ex({id:et.id,name:et.name||"",description:et.description||"",price:et.price||0,category:et.category||"",image:et.image||"",stock:et.stock||{},images:et.images||[],sizes:et.sizes||[],colors:et.colors||[],inStock:void 0===et.inStock||et.inStock,rating:et.rating||0,reviews:et.reviews||0,customSizeChart:et.customSizeChart||void 0,useCustomSizeChart:et.useCustomSizeChart||!1,sizeChartCategory:et.sizeChartCategory||et.category||"T-Shirts",createdAt:et.createdAt||new Date,updatedAt:et.updatedAt||new Date}))},[et]);let eN=async e=>{e.preventDefault(),ep(!0);try{let e={...er,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};await S(e),ee(!1),ex({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],customSizeChart:void 0,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date})}catch(e){console.error("Error adding product:",e)}finally{ep(!1)}},ew=async e=>{if(e.preventDefault(),et){ep(!0);try{let e={...et,...er,updatedAt:new Date};console.log("\uD83D\uDD27 Admin: handleUpdateProduct - updatedProduct:",{id:e.id,name:e.name,customSizeChart:e.customSizeChart,useCustomSizeChart:e.useCustomSizeChart,sizeChartCategory:e.sizeChartCategory}),await D(et.id,e),ea(null),ex({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],customSizeChart:void 0,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date})}catch(e){console.error("Error updating product:",e)}finally{ep(!1)}}},ek=async e=>{if(e&&e.preventDefault(),!K.name.trim()){alert("Product name is required");return}try{ep(!0);let e={name:K.name,description:K.description,price:K.basePrice,category:K.category,image:K.image||"",images:K.images||[],colors:K.colors||["Noir"],sizes:K.sizes||["S","M","L","XL"],tags:[],displayOrder:0,isActive:K.isActive,customSizeChart:K.customSizeChart,useCustomSizeChart:K.useCustomSizeChart,sizeChartCategory:K.sizeChartCategory};console.log("\uD83D\uDCBE Adding made-to-order product with data:",{name:e.name,hasImage:!!e.image,imageLength:e.image?.length,hasImages:!!(e.images&&e.images.length>0),imagesCount:e.images?.length});let t=await fetch("/api/made-to-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();console.log("âœ… Product added successfully:",e.id),H(t=>[...t,e]),Q({name:"",description:"",basePrice:0,category:"",image:"",images:[],sizes:[],colors:[],allowCustomText:!1,allowCustomDesign:!1,customSizeChart:void 0,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date}),W(!1),alert("Product added successfully!")}else{let e=await t.json();throw console.error("âŒ Failed to add product:",e),Error(e.error||"Failed to add product")}}catch(e){console.error("Error adding made-to-order product:",e),alert("Error adding product. Please try again.")}finally{ep(!1)}},eC=async e=>{if(e&&e.preventDefault(),!J?.name?.trim()){alert("Product name is required");return}try{ep(!0);let e={id:J.id,name:J.name,description:J.description,price:J.basePrice,category:J.category,image:J.image||"",images:J.images||[],colors:J.colors||["Noir"],sizes:J.sizes||["S","M","L","XL"],tags:J.tags||[],displayOrder:J.displayOrder||0,isActive:J.isActive,customSizeChart:J.customSizeChart,useCustomSizeChart:J.useCustomSizeChart,sizeChartCategory:J.sizeChartCategory};console.log("\uD83D\uDCBE Updating made-to-order product with data:",{id:e.id,name:e.name,hasImage:!!e.image,imageLength:e.image?.length,hasImages:!!(e.images&&e.images.length>0),imagesCount:e.images?.length});let t=await fetch("/api/made-to-order",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();console.log("âœ… Product updated successfully:",e.id),H(t=>t.map(t=>t.id===J.id?e:t)),G(null),alert("Product updated successfully!")}else{let e=await t.json();console.error("âŒ Failed to update product:",e),408===t.status?alert(`â° Timeout Error: ${e.error}

Try uploading smaller images or contact support.`):"57014"===e.code?alert(`â° Database Timeout: ${e.error}

This usually happens with large images. Try reducing image size.`):alert(`âŒ Update Failed: ${e.error}

Details: ${e.details||"Unknown error"}`);return}}catch(e){console.error("Error updating made-to-order product:",e),e instanceof Error?e.message.includes("timeout")?alert("â° Request timeout - please try again with smaller images"):alert(`âŒ Error: ${e.message}`):alert("âŒ Error updating product. Please try again.")}finally{ep(!1)}},eS=async e=>{if(confirm("Are you sure you want to delete this product?"))try{if(ep(!0),(await fetch(`/api/made-to-order?id=${e}`,{method:"DELETE"})).ok)H(t=>t.filter(t=>t.id!==e));else throw Error("Failed to delete product")}catch(e){console.error("Error deleting made-to-order product:",e),alert("Error deleting product. Please try again.")}finally{ep(!1)}},eD=async e=>{if(confirm("Are you sure you want to delete this order?"))try{if(ep(!0),(await fetch(`/api/made-to-order/orders?id=${e}`,{method:"DELETE"})).ok)F(t=>t.filter(t=>t.id!==e));else throw Error("Failed to delete order")}catch(e){console.error("Error deleting made-to-order order:",e),alert("Error deleting order. Please try again.")}finally{ep(!1)}},ez=async(e,t,s)=>{try{ep(!0);let a=await fetch("/api/made-to-order/orders",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t,notes:s})});if(a.ok){let t=await a.json();F(s=>s.map(s=>s.id===e?t:s))}else throw Error("Failed to update order")}catch(e){console.error("Error updating made-to-order order:",e),alert("Error updating order. Please try again.")}finally{ep(!1)}},eA=async e=>{if(confirm("Are you sure you want to delete this order?"))try{ep(!0),await w.k.deleteOrder(e),$(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting order:",e),alert("Error deleting order. Please try again.")}finally{ep(!1)}},eP=async(e,t)=>{try{ep(!0),console.log("\uD83D\uDD27 Admin: Updating wilaya tariff:",{wilayaId:e,newTariff:t});let s=await fetch("/api/wilaya",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wilayaId:e,domicile_ecommerce:t,stop_desk_ecommerce:.8*t})});if(s.ok){let a=await s.json();console.log("\uD83D\uDD27 Admin: Wilaya update result:",a),_(s=>s.map(s=>s.id===parseInt(e)?{...s,tariff:t,domicile_ecommerce:t,domicileEcommerce:t,stop_desk_ecommerce:.8*t,stopDeskEcommerce:.8*t}:s)),alert("Tariff updated successfully!")}else{let e=await s.json();throw console.error("âŒ Admin: Wilaya update failed:",e),Error(e.error||"Failed to update tariff")}}catch(e){console.error("Error updating wilaya tariff:",e),alert("Error updating tariff. Please try again.")}finally{ep(!1)}};return e?(0,a.jsxs)("div",{className:`min-h-screen flex flex-col lg:flex-row transition-colors duration-300 ${"light"===O?"bg-gradient-to-br from-gray-50 via-white to-gray-100":"bg-gradient-to-br from-gray-900 via-black to-gray-900"}`,children:[a.jsx("div",{className:"lg:hidden bg-gray-900 border-b border-gray-800 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"OBSIDIAN"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Admin Dashboard"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:"Logout"})]})}),(0,a.jsxs)("div",{className:"lg:w-64 bg-gray-900 border-r border-gray-800 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"OBSIDIAN"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>window.location.href="/",className:"w-full flex items-center justify-center space-x-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm font-medium",children:[a.jsx(f.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Exit to Store"})]}),(0,a.jsxs)("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 px-4 py-2 rounded-lg transition-colors duration-200 text-sm font-medium",children:[a.jsx(N,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]}),a.jsx("nav",{className:"space-y-2",children:ef.map(e=>(0,a.jsxs)("button",{onClick:()=>T(e.id),className:`w-full flex items-center px-4 py-3 rounded-lg transition-all duration-200 group ${M===e.id?`${e.bgColor} ${e.color}`:"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[a.jsx(e.icon,{className:`w-5 h-5 mb-1 ${M===e.id?"text-black":e.color}`}),a.jsx("span",{className:"ml-3 font-medium",children:e.label})]},e.id))})]}),a.jsx("div",{className:"p-6 border-t border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:s}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Administrator"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(p.Z,{className:"w-5 h-5"})})]})})]}),eg&&0===C.length?a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-700 rounded w-32 mb-6"}),a.jsx(ec,{rows:5,columns:6})]})}):(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:["dashboard"===M&&a.jsx(q,{products:C,orders:I,customers:[]}),"products"===M&&(0,a.jsxs)("div",{className:"p-4 sm:p-6 space-y-8",children:[a.jsx("div",{className:"mb-4 flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Products"})}),a.jsx(B,{products:C,onAddProduct:()=>ee(!0),onEditProduct:e=>ea(e),onDeleteProduct:z,onViewProduct:e=>console.log("View product:",e)})]}),"inventory"===M&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-400",children:"Manage product inventory and stock levels"})]}),a.jsx(X,{onClose:()=>T("dashboard")})]}),"orders"===M&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Order Management"}),a.jsx("p",{className:"text-gray-400",children:"View and manage customer orders"})]}),a.jsx(es,{orders:I,onUpdateOrder:(e,t)=>{console.log("Update order:",e,t)},onDeleteOrder:eA,onViewOrder:e=>console.log("View order:",e)})]}),"maintenance"===M&&a.jsx(el,{}),"made-to-order"===M&&(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Made to Order"}),a.jsx("p",{className:"text-gray-400",children:"Manage custom products and orders"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Custom Products"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:R.length})]}),a.jsx(o.Z,{className:"w-8 h-8 text-blue-400"})]})}),a.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Production Time"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:"20-18 days"})]}),a.jsx(h.Z,{className:"w-8 h-8 text-yellow-400"})]})}),a.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Deposit Required"}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:"50%"})]}),a.jsx(u.Z,{className:"w-8 h-8 text-green-400"})]})})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Made-to-Order Products (",R.length,")"]}),(0,a.jsxs)("button",{onClick:()=>W(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(g.Z,{className:"w-4 h-4"}),"Add Product"]})]}),(V||J)&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:J?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:()=>{W(!1),G(null),Q({name:"",description:"",basePrice:0,category:"",image:"",images:[],sizes:[],colors:[],allowCustomText:!1,allowCustomDesign:!1,customSizeChart:void 0,useCustomSizeChart:!1,sizeChartCategory:"",inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date})},className:"text-gray-400 hover:text-white",children:a.jsx(p.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:J?eC:ek,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",value:J?.name||K.name,onChange:e=>{J?G({...J,name:e.target.value}):Q({...K,name:e.target.value})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter product name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),(0,a.jsxs)("select",{value:J?.category||K.category,onChange:e=>{J?G({...J,category:e.target.value,sizeChartCategory:e.target.value}):Q({...K,category:e.target.value,sizeChartCategory:e.target.value})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Category"}),a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Watches",children:"Watches"}),a.jsx("option",{value:"Bulk Orders",children:"Bulk Orders"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart Category"}),(0,a.jsxs)("select",{value:J?.sizeChartCategory||K.sizeChartCategory||J?.category||K.category,onChange:e=>{J?G({...J,sizeChartCategory:e.target.value}):Q({...K,sizeChartCategory:e.target.value})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Watches",children:"Watches"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose the size chart template to use for this product"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Base Price (DA) *"}),a.jsx("input",{type:"number",value:J?.basePrice||K.basePrice,onChange:e=>{J?G({...J,basePrice:parseFloat(e.target.value)||0}):Q({...K,basePrice:parseFloat(e.target.value)||0})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"0",step:"0.01",placeholder:"0.00",required:!0})]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:J?.isActive??K.isActive,onChange:e=>{J?G({...J,isActive:e.target.checked}):Q({...K,isActive:e.target.checked})},className:"mr-2 w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Active Product"})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),a.jsx("textarea",{value:J?.description||K.description,onChange:e=>{J?G({...J,description:e.target.value}):Q({...K,description:e.target.value})},rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe the product, materials, customization options...",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Images"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Upload Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){if(t.size>5242880){alert("Image file is too large. Please choose an image smaller than 5MB.");return}if(!t.type.startsWith("image/")){alert("Please select a valid image file.");return}console.log("\uD83D\uDCF8 Processing image upload:",{name:t.name,size:t.size,type:t.type});let e=new FileReader;e.onload=e=>{let t=e.target?.result;console.log("\uD83D\uDCF8 Made-to-order image uploaded, length:",t?.length),J?G({...J,image:t}):Q({...K,image:t})},e.onerror=()=>{console.error("âŒ Error reading image file"),alert("Error reading image file. Please try again.")},e.readAsDataURL(t)}},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max file size: 5MB. Supported formats: JPG, PNG, GIF, WebP"})]}),(J?.image||K.image)&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:J?.image||K.image,alt:"Product preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-600",onError:e=>{e.currentTarget.style.display="none"}})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Additional Images"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(t.length>0){let e=t.filter(e=>e.size>5242880?(console.warn(`âš ï¸ File ${e.name} is too large (${e.size} bytes)`),!1):!!e.type.startsWith("image/")||(console.warn(`âš ï¸ File ${e.name} is not a valid image`),!1));if(e.length!==t.length&&alert("Some files were skipped. Only valid image files under 5MB are accepted."),0===e.length)return;console.log("\uD83D\uDCF8 Processing multiple images:",e.length);let s=[];e.forEach(t=>{let a=new FileReader;a.onload=t=>{s.push(t.target?.result),s.length===e.length&&(J?G({...J,images:[...J.images||[],...s]}):Q({...K,images:[...K.images||[],...s]}))},a.onerror=()=>{console.error("âŒ Error reading image file:",t.name)},a.readAsDataURL(t)})}},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-600 file:text-white hover:file:bg-green-700"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select multiple images. Max 5MB each."}),(J?.images&&J.images.length>0||K.images&&K.images.length>0)&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(J?.images||K.images||[]).map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:`Preview ${t+1}`,className:"w-16 h-16 object-cover rounded-lg border border-gray-600"}),a.jsx("button",{type:"button",onClick:()=>{let e=(J?.images||K.images||[]).filter((e,s)=>s!==t);J?G({...J,images:e}):Q({...K,images:e})},className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-700",children:"\xd7"})]},t))})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Sizes"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(J?.sizes||K.sizes||[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded-lg px-3 py-1",children:[a.jsx("span",{className:"text-sm text-gray-300 mr-2",children:e}),a.jsx("button",{type:"button",onClick:()=>{let e=(J?.sizes||K.sizes||[]).filter((e,s)=>s!==t);J?G({...J,sizes:e}):Q({...K,sizes:e})},className:"text-red-400 hover:text-red-300 text-xs",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add size (e.g., S, M, L, XL)",className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();let t=e.target,s=t.value.trim();if(s){let e=J?.sizes||K.sizes||[];if(!e.includes(s)){let t=[...e,s];J?G({...J,sizes:t}):Q({...K,sizes:t})}t.value=""}}}}),a.jsx("button",{type:"button",onClick:e=>{let t=e.target.parentElement?.querySelector("input"),s=t.value.trim();if(s){let e=J?.sizes||K.sizes||[];if(!e.includes(s)){let t=[...e,s];J?G({...J,sizes:t}):Q({...K,sizes:t})}t.value=""}},className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm transition-colors",children:"Add"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Colors"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(J?.colors||K.colors||[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded-lg px-3 py-1",children:[a.jsx("span",{className:"text-sm text-gray-300 mr-2",children:e}),a.jsx("button",{type:"button",onClick:()=>{let e=(J?.colors||K.colors||[]).filter((e,s)=>s!==t);J?G({...J,colors:e}):Q({...K,colors:e})},className:"text-red-400 hover:text-red-300 text-xs",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add color (e.g., Black, White, Red)",className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();let t=e.target,s=t.value.trim();if(s){let e=J?.colors||K.colors||[];if(!e.includes(s)){let t=[...e,s];J?G({...J,colors:t}):Q({...K,colors:t})}t.value=""}}}}),a.jsx("button",{type:"button",onClick:e=>{let t=e.target.parentElement?.querySelector("input"),s=t.value.trim();if(s){let e=J?.colors||K.colors||[];if(!e.includes(s)){let t=[...e,s];J?G({...J,colors:t}):Q({...K,colors:t})}t.value=""}},className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm transition-colors",children:"Add"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart Category"}),(0,a.jsxs)("select",{value:J?.sizeChartCategory||K.sizeChartCategory||J?.category||K.category,onChange:e=>{J?G({...J,sizeChartCategory:e.target.value}):Q({...K,sizeChartCategory:e.target.value})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Watches",children:"Watches"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose the size chart template to use for this product"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart"}),(0,a.jsxs)("button",{type:"button",onClick:()=>ej(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[a.jsx(y.Z,{className:"w-4 h-4"}),"Edit Size Chart"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click to edit the size chart for this product"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{W(!1),G(null),Q({name:"",description:"",basePrice:0,category:"",image:"",images:[],sizes:[],colors:[],allowCustomText:!1,allowCustomDesign:!1,customSizeChart:void 0,useCustomSizeChart:!1,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date})},className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:eg,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[eg&&a.jsx(j,{className:"w-4 h-4 animate-spin"}),J?"Update Product":"Add Product"]})]})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:R.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.name}),a.jsx("div",{className:"text-gray-400 text-sm truncate max-w-xs",children:e.description})]})}),a.jsx("td",{className:"px-4 py-4 text-gray-300",children:e.category||"N/A"}),(0,a.jsxs)("td",{className:"px-4 py-4 text-gray-300",children:[e.basePrice," DA"]}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>G(e),className:"text-blue-400 hover:text-blue-300 transition-colors",children:a.jsx(b,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>eS(e.id),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Made-to-Order Orders (",U.length,")"]}),(0,a.jsxs)("button",{onClick:()=>{(async()=>{try{ep(!0);let e=await fetch("/api/made-to-order/orders");if(!e.ok){console.error("âŒ Failed to fetch made-to-order orders:",e.status);return}let t=await e.json();console.log("\uD83D\uDD04 Refreshed made-to-order orders:",t.length),F(t)}catch(e){console.error("Error refreshing orders:",e)}finally{ep(!1)}})()},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",disabled:eg,children:[eg?a.jsx(j,{className:"w-4 h-4 animate-spin"}):a.jsx(h.Z,{className:"w-4 h-4"}),"Refresh Orders"]})]}),0===U.length?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[a.jsx(c.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No orders yet"}),a.jsx("p",{className:"text-gray-400",children:"Orders will appear here when customers place made-to-order requests."})]}):a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Size/Color"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:U.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[(0,a.jsxs)("td",{className:"px-4 py-4 text-white font-mono",children:["#",e.id.slice(-8)]}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.customer_name}),a.jsx("div",{className:"text-gray-400 text-sm",children:e.customer_phone})]})}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[e.made_to_order_products?.image&&a.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:e.made_to_order_products.image,alt:e.made_to_order_products.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium text-sm",children:e.made_to_order_products?.name||"Product not found"}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["ID: ",e.product_id]})]})]})}),(0,a.jsxs)("td",{className:"px-4 py-4",children:[a.jsx("div",{className:"text-white",children:e.selected_size}),a.jsx("div",{className:"text-gray-400 text-xs",children:e.selected_color})]}),(0,a.jsxs)("td",{className:"px-4 py-4 text-gray-300",children:[e.total_price," DA"]}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"pending"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"ready"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-purple-100 text-purple-800":"delivered"===e.status?"bg-emerald-100 text-emerald-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status})}),a.jsx("td",{className:"px-4 py-4 text-gray-400",children:new Date(e.order_date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("select",{value:e.status,onChange:t=>ez(e.id,t.target.value),className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-xs",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"confirmed",children:"Confirmed"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"ready",children:"Ready"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsx("button",{onClick:()=>eD(e.id),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete Order",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})]}),"wilayas"===M&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Wilaya Tariffs"}),a.jsx("p",{className:"text-gray-400",children:"Manage delivery tariffs for each wilaya"})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Wilaya"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Tariff (DA)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:L.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-gray-400 text-xs",children:["#",e.id]})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("input",{type:"number",value:e.tariff,onChange:t=>{let s=parseFloat(t.target.value)||0;_(t=>t.map(t=>t.id===e.id?{...t,tariff:s}:t))},className:"w-20 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-center focus:outline-none focus:ring-2 focus:ring-red-500",min:"0",step:"0.01"})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsx("button",{onClick:()=>eP(e.id.toString(),e.tariff),disabled:eg,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors disabled:opacity-50",children:eg?a.jsx(j,{className:"w-4 h-4 animate-spin"}):"Save"})})]},e.id))})]})})})]})]}),(Y||et)&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-auto shadow-2xl border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:et?"Edit Product":"Add New Product"}),a.jsx("button",{onClick:()=>{ee(!1),ea(null)},className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(p.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:et?ew:eN,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",value:er.name,onChange:e=>ex(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter product name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),(0,a.jsxs)("select",{value:er.category,onChange:e=>ex(t=>({...t,category:e.target.value,sizeChartCategory:e.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Category"}),a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart Category"}),(0,a.jsxs)("select",{value:er.sizeChartCategory||er.category,onChange:e=>ex(t=>({...t,sizeChartCategory:e.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Watches",children:"Watches"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose the size chart template to use for this product"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price (DA) *"}),a.jsx("input",{type:"number",value:er.price,onChange:e=>ex(t=>({...t,price:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",placeholder:"0.00",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),a.jsx("textarea",{value:er.description,onChange:e=>ex(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe the product, materials, features...",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Main Product Image"}),a.jsx(em,{value:er.image,onChange:e=>ex(t=>({...t,image:e})),placeholder:"Upload main product image"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Images"}),a.jsx(eh,{value:er.images||[],onChange:e=>ex(t=>({...t,images:e})),placeholder:"Upload additional product images",maxImages:5})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Sizes"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(er.sizes||[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded-lg px-3 py-1",children:[a.jsx("span",{className:"text-sm text-gray-300 mr-2",children:e}),a.jsx("button",{type:"button",onClick:()=>{let e=(er.sizes||[]).filter((e,s)=>s!==t);ex(t=>({...t,sizes:e}))},className:"text-red-400 hover:text-red-300 text-xs",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add size (e.g., S, M, L, XL)",className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();let t=e.target,s=t.value.trim();if(s){let e=er.sizes||[];e.includes(s)||ex(t=>({...t,sizes:[...e,s]})),t.value=""}}}}),a.jsx("button",{type:"button",onClick:e=>{let t=e.target.parentElement?.querySelector("input"),s=t.value.trim();if(s){let e=er.sizes||[];e.includes(s)||ex(t=>({...t,sizes:[...e,s]})),t.value=""}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"Add"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Colors"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:(er.colors||[]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 rounded-lg px-3 py-1",children:[a.jsx("span",{className:"text-sm text-gray-300 mr-2",children:e}),a.jsx("button",{type:"button",onClick:()=>{let e=(er.colors||[]).filter((e,s)=>s!==t);ex(t=>({...t,colors:e}))},className:"text-red-400 hover:text-red-300 text-xs",children:"\xd7"})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add color (e.g., Black, White, Red)",className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();let t=e.target,s=t.value.trim();if(s){let e=er.colors||[];e.includes(s)||ex(t=>({...t,colors:[...e,s]})),t.value=""}}}}),a.jsx("button",{type:"button",onClick:e=>{let t=e.target.parentElement?.querySelector("input"),s=t.value.trim();if(s){let e=er.colors||[];e.includes(s)||ex(t=>({...t,colors:[...e,s]})),t.value=""}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:"Add"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart Category"}),(0,a.jsxs)("select",{value:er.sizeChartCategory||er.category,onChange:e=>ex(t=>({...t,sizeChartCategory:e.target.value})),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"T-Shirts",children:"T-Shirts"}),a.jsx("option",{value:"Hoodies",children:"Hoodies"}),a.jsx("option",{value:"Pants",children:"Pants"}),a.jsx("option",{value:"Shorts",children:"Shorts"}),a.jsx("option",{value:"Jackets",children:"Jackets"}),a.jsx("option",{value:"Sweaters",children:"Sweaters"}),a.jsx("option",{value:"Dresses",children:"Dresses"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Watches",children:"Watches"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose the size chart template to use for this product"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Size Chart"}),(0,a.jsxs)("button",{type:"button",onClick:()=>ej(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[a.jsx(y.Z,{className:"w-4 h-4"}),"Edit Size Chart"]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Click to edit the size chart for this product"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{ee(!1),ea(null),ex({id:"",name:"",description:"",price:0,category:"",image:"",stock:{},images:[],sizes:[],colors:[],customSizeChart:void 0,inStock:!0,rating:0,reviews:0,createdAt:new Date,updatedAt:new Date})},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2",disabled:eg,children:[eg&&a.jsx(j,{className:"w-4 h-4 animate-spin"}),et?"Update Product":"Add Product"]})]})]})]})}),a.jsx(ei.Z,{category:et?et.sizeChartCategory||et.category||"t-shirts":J?J.size_chart_category||J.category||"t-shirts":er.sizeChartCategory||er.category||"t-shirts",isOpen:ey,onClose:()=>ej(!1),customSizeChart:et?.customSizeChart?{...et.customSizeChart,category:et.sizeChartCategory||et.category||"t-shirts"}:(J?.custom_size_chart?{title:J.custom_size_chart.title,measurements:J.custom_size_chart.measurements,instructions:J.custom_size_chart.instructions,category:J.size_chart_category||J.category||"t-shirts"}:void 0)||(er?.customSizeChart?{...er.customSizeChart,category:er.sizeChartCategory||er.category||"t-shirts"}:void 0),useCustomSizeChart:et?.useCustomSizeChart||J?.useCustomSizeChart||er?.useCustomSizeChart,isAdmin:!0,onSave:async e=>{try{if(et){let t=await (0,k.nM)(et.id,{customSizeChart:e,useCustomSizeChart:!0,sizeChartCategory:e.category});t?(ea(t),Z(),alert("Size chart saved successfully!")):alert("Error saving size chart to database")}else if(J){let{error:t}=await k.OQ.from("made_to_order_products").update({custom_size_chart:e,use_custom_size_chart:!0,size_chart_category:e.category}).eq("id",J.id);t?(console.error("Error updating made-to-order product:",t),alert("Error saving size chart to database")):(G(t=>t?{...t,customSizeChart:e,useCustomSizeChart:!0,sizeChartCategory:e.category}:t),alert("Size chart saved successfully!"))}else ex(t=>({...t,customSizeChart:e,useCustomSizeChart:!0,sizeChartCategory:e.category})),alert("Size chart prepared for new product!")}catch(e){console.error("Error saving size chart:",e),alert("Error saving size chart: "+(e instanceof Error?e.message:String(e)))}}})]}):a.jsx(E,{})}},85557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`C:\Users\HP\Desktop\Obsidian wear\projectt\src\app\admin\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,8252,7214,4642,5312],()=>s(8202));module.exports=a})();