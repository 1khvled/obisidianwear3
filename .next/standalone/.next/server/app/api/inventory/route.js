"use strict";(()=>{var e={};e.id=666,e.ids=[666],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},96301:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>v,originalPathname:()=>y,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>h,serverHooks:()=>I,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>S});var a={};r.r(a),r.d(a,{GET:()=>p});var s=r(95419),o=r(69108),n=r(99678),i=r(78070),c=r(32409);let d="https://twlegtqcyydgjkycxngw.supabase.co",u="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3bGVndHFjeXlkZ2preWN4bmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNzQ2MDAsImV4cCI6MjA3Mjc1MDYwMH0.uD9GD_ksHCDgmmPAgR7fcLUAJHRJtTkT-J-SVjU-WR0";if(!d||!u)throw Error("Missing Supabase environment variables");let l=(0,c.eI)(d,u);async function p(){try{let{data:e,error:t}=await l.from("products").select("*").order("created_at",{ascending:!1});if(t)return i.Z.json({success:!1,error:"Failed to fetch inventory data"},{status:500});let r=[];e.forEach(e=>{let t=e.colors&&e.colors.length>0?e.colors:["Black","White","Red","Blue","Green"];(e.sizes&&e.sizes.length>0?e.sizes:["S","M","L","XL","XXL"]).forEach(a=>{t.forEach(t=>{let s=e.stock?.[a]?.[t]||0;r.push({id:`INV-${e.id}-${a}-${t}`,product_id:e.id,size:a,color:t,quantity:s,reserved_quantity:0,available_quantity:s,min_stock_level:5,max_stock_level:100,last_updated:new Date().toISOString(),created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||new Date().toISOString(),products:{id:e.id,name:e.name,image:e.image,price:e.price}})})})});let a=i.Z.json({success:!0,data:r,message:"Inventory fetched successfully from products",timestamp:Date.now(),debug:{totalItems:r.length,firstItem:r[0]||null,lastUpdated:new Date().toISOString()}});return a.headers.set("Cache-Control","no-cache, no-store, must-revalidate, max-age=0, s-maxage=0"),a.headers.set("Pragma","no-cache"),a.headers.set("Expires","0"),a.headers.set("X-Timestamp",Date.now().toString()),a.headers.set("X-Cache-Status","BYPASS"),a.headers.set("X-No-Cache","true"),a.headers.set("X-Random",Math.random().toString()),a.headers.set("CDN-Cache-Control","no-cache, no-store, must-revalidate, max-age=0"),a.headers.set("Vercel-CDN-Cache-Control","no-cache, no-store, must-revalidate, max-age=0"),a.headers.set("X-Vercel-Cache","MISS"),a.headers.set("X-Vercel-Id",Math.random().toString(36)),a}catch(e){return i.Z.json({success:!1,error:"Failed to fetch inventory"},{status:500})}}let h=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/inventory/route",pathname:"/api/inventory",filename:"route",bundlePath:"app/api/inventory/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\api\\inventory\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:I,headerHooks:v,staticGenerationBailout:S}=h,y="/api/inventory/route";function x(){return(0,n.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206,2409],()=>r(96301));module.exports=a})();