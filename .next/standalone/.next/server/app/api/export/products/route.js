"use strict";(()=>{var e={};e.id=7959,e.ids=[7959],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},519:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>x,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>S,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>k});var o={};r.r(o),r.d(o,{GET:()=>c});var a=r(95419),i=r(69108),s=r(99678),n=r(78070),p=r(4750);async function c(){try{let e=(await (0,p.Xp)()).map(e=>{let t=e.stock||{},r=e.sizes||[],o=e.colors||[],a=t.S?.Black||0,i=t.S?.White||0,s=t.M?.Black||0,n=t.M?.White||0,p=t.L?.Black||0,c=t.L?.White||0;return[e.id,`"${e.name}"`,e.price,e.category,`"${e.description}"`,`"${r.join(", ")}"`,`"${o.join(", ")}"`,a,i,s,n,p,c,e.inStock?"Yes":"No",e.rating,e.reviews,e.createdAt?new Date(e.createdAt).toISOString():"",e.updatedAt?new Date(e.updatedAt).toISOString():""]}),t=[["ID","Name","Price","Category","Description","Sizes","Colors","Stock (S-Black)","Stock (S-White)","Stock (M-Black)","Stock (M-White)","Stock (L-Black)","Stock (L-White)","In Stock","Rating","Reviews","Created At","Updated At"],...e].map(e=>e.join(",")).join("\n");return new n.Z(t,{status:200,headers:{"Content-Type":"text/csv","Content-Disposition":`attachment; filename="products-export-${new Date().toISOString().split("T")[0]}.csv"`}})}catch(e){return n.Z.json({success:!1,error:"Failed to export products"},{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/export/products/route",pathname:"/api/export/products",filename:"route",bundlePath:"app/api/export/products/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\api\\export\\products\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:S,headerHooks:h,staticGenerationBailout:k}=u,x="/api/export/products/route";function m(){return(0,s.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,6206,2409,4750],()=>r(519));module.exports=o})();