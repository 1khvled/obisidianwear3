"use strict";(()=>{var e={};e.id=614,e.ids=[614],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},46282:(e,o,t)=>{t.r(o),t.d(o,{headerHooks:()=>x,originalPathname:()=>F,patchFetch:()=>I,requestAsyncStorage:()=>g,routeModule:()=>f,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>k});var r={};t.r(r),t.d(r,{POST:()=>p});var s=t(95419),a=t(69108),i=t(99678),c=t(78070),n=t(32409);let u="https://twlegtqcyydgjkycxngw.supabase.co",d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3bGVndHFjeXlkZ2preWN4bmd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNzQ2MDAsImV4cCI6MjA3Mjc1MDYwMH0.uD9GD_ksHCDgmmPAgR7fcLUAJHRJtTkT-J-SVjU-WR0";if(!u||!d)throw Error("Missing Supabase environment variables");let l=(0,n.eI)(u,d);async function p(){try{console.log("\uD83D\uDD27 Fixing product data for inventory...");let{data:e,error:o}=await l.from("products").select("*").order("name");if(o)return console.error("❌ Error fetching products:",o),c.Z.json({success:!1,error:"Failed to fetch products"},{status:500});if(!e||0===e.length)return c.Z.json({success:!1,error:"No products found to fix"},{status:404});console.log(`📦 Found ${e.length} products to fix`);let t=[];for(let o of e){let e={};if(o.colors&&0!==o.colors.length||(e.colors=["Black","White"],console.log(`🎨 Fixed colors for ${o.name}`)),o.sizes&&0!==o.sizes.length||(e.sizes=["S","M","L","XL"],console.log(`📏 Fixed sizes for ${o.name}`)),!o.stock||0===Object.keys(o.stock).length){let t=e.sizes||o.sizes||["S","M","L","XL"],r=e.colors||o.colors||["Black","White"],s={};t.forEach(e=>{s[e]={},r.forEach(o=>{s[e][o]=Math.floor(20*Math.random())+5})}),e.stock=s,console.log(`📦 Fixed stock for ${o.name}`)}if(!1===o.inStock&&(e.inStock=!0,console.log(`✅ Fixed inStock for ${o.name}`)),Object.keys(e).length>0){let{data:r,error:s}=await l.from("products").update(e).eq("id",o.id).select().single();s?console.error(`❌ Error updating product ${o.name}:`,s):(console.log(`✅ Updated product ${o.name}`),t.push(r))}else console.log(`ℹ️ No changes needed for ${o.name}`),t.push(o)}return console.log(`✅ Fixed ${t.length} products`),c.Z.json({success:!0,data:{productsFixed:t.length,message:"Product data fixed successfully"},timestamp:Date.now()})}catch(e){return console.error("❌ Fix product data error:",e),c.Z.json({success:!1,error:"Failed to fix product data"},{status:500})}}let f=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/fix-product-data/route",pathname:"/api/fix-product-data",filename:"route",bundlePath:"app/api/fix-product-data/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\Obsidian wear\\projectt\\src\\app\\api\\fix-product-data\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:m,headerHooks:x,staticGenerationBailout:k}=f,F="/api/fix-product-data/route";function I(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[1638,6206,2409],()=>t(46282));module.exports=r})();