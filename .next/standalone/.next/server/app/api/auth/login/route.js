"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6003:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>v,patchFetch:()=>w,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>f});var s={};r.r(s),r.d(s,{POST:()=>l});var a=r(5419),n=r(9108),o=r(9678),u=r(8070);let i={username:process.env.ADMIN_USERNAME||"khvled",password:process.env.ADMIN_PASSWORD||"Dzt3ch456@"},c=new Map;async function l(e){try{let t=e.ip||e.headers.get("x-forwarded-for")||"unknown";if(function(e){let t=Date.now(),r=c.get(e);return!!r&&(t-r.lastAttempt>9e5?(c.delete(e),!1):r.count>=5)}(t))return u.Z.json({success:!1,error:"Too many failed login attempts. Please try again later."},{status:429});let{username:r,password:s}=await e.json();if(!r||!s)return u.Z.json({success:!1,error:"Username and password are required"},{status:400});let a=r===i.username,n=s===i.password;if(!a||!n)return function(e){let t=Date.now(),r=c.get(e)||{count:0,lastAttempt:t};r.count+=1,r.lastAttempt=t,c.set(e,r)}(t),u.Z.json({success:!1,error:"Invalid credentials"},{status:401});return c.delete(t),u.Z.json({success:!0})}catch(e){return console.error("Login error:",e),u.Z.json({success:!1,error:"Internal server error"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\auth\\login\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:g,headerHooks:m,staticGenerationBailout:f}=p,v="/api/auth/login/route";function w(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,206],()=>r(6003));module.exports=s})();