"use strict";(()=>{var r={};r.id=6103,r.ids=[6103],r.modules={30517:r=>{r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:r=>{r.exports=require("http")},95687:r=>{r.exports=require("https")},85477:r=>{r.exports=require("punycode")},12781:r=>{r.exports=require("stream")},57310:r=>{r.exports=require("url")},59796:r=>{r.exports=require("zlib")},89079:(r,e,t)=>{t.r(e),t.d(e,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>q,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>_,staticGenerationAsyncStorage:()=>j,staticGenerationBailout:()=>E});var o={};t.r(o),t.d(o,{DELETE:()=>p,GET:()=>i,POST:()=>c,PUT:()=>l});var s=t(95419),a=t(69108),n=t(99678),d=t(78070),u=t(4750);async function i(){try{let{data:r,error:e}=await u.OQ.from("made_to_order_products").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(e)return console.error("Error fetching made-to-order products:",e),d.Z.json({error:"Failed to fetch products"},{status:500});return d.Z.json(r)}catch(r){return console.error("Error in made-to-order GET:",r),d.Z.json({error:"Internal server error"},{status:500})}}async function c(r){try{let{name:e,description:t,price:o,image:s,images:a,colors:n,sizes:i,category:c,tags:l,displayOrder:p}=await r.json();if(!e||!o||!n||!i)return d.Z.json({error:"Missing required fields"},{status:400});let{data:m,error:f}=await u.OQ.from("made_to_order_products").insert({name:e,description:t,price:o,image:s,images:a,colors:n,sizes:i,category:c,tags:l,display_order:p||0,is_active:!0}).select().single();if(f)return console.error("Error creating made-to-order product:",f),d.Z.json({error:"Failed to create product"},{status:500});return d.Z.json(m,{status:201})}catch(r){return console.error("Error in made-to-order POST:",r),d.Z.json({error:"Internal server error"},{status:500})}}async function l(r){try{let{id:e,name:t,description:o,price:s,image:a,images:n,colors:i,sizes:c,category:l,tags:p,displayOrder:m,isActive:f}=await r.json();if(!e)return d.Z.json({error:"Product ID is required"},{status:400});let{data:j,error:_}=await u.OQ.from("made_to_order_products").update({name:t,description:o,price:s,image:a,images:n,colors:i,sizes:c,category:l,tags:p,display_order:m,is_active:f}).eq("id",e).select().single();if(_)return console.error("Error updating made-to-order product:",_),d.Z.json({error:"Failed to update product"},{status:500});return d.Z.json(j)}catch(r){return console.error("Error in made-to-order PUT:",r),d.Z.json({error:"Internal server error"},{status:500})}}async function p(r){try{let{searchParams:e}=new URL(r.url),t=e.get("id");if(!t)return d.Z.json({error:"Product ID is required"},{status:400});let{error:o}=await u.OQ.from("made_to_order_products").delete().eq("id",t);if(o)return console.error("Error deleting made-to-order product:",o),d.Z.json({error:"Failed to delete product"},{status:500});return d.Z.json({message:"Product deleted successfully"})}catch(r){return console.error("Error in made-to-order DELETE:",r),d.Z.json({error:"Internal server error"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/made-to-order/route",pathname:"/api/made-to-order",filename:"route",bundlePath:"app/api/made-to-order/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\made-to-order\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:j,serverHooks:_,headerHooks:h,staticGenerationBailout:E}=m,g="/api/made-to-order/route";function q(){return(0,n.patchFetch)({serverHooks:_,staticGenerationAsyncStorage:j})}}};var e=require("../../../webpack-runtime.js");e.C(r);var t=r=>e(e.s=r),o=e.X(0,[1638,6206,2409,4750],()=>t(89079));module.exports=o})();