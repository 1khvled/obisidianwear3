"use strict";(()=>{var e={};e.id=102,e.ids=[102],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},2621:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>h,originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>b,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var r={};s.r(r),s.d(r,{POST:()=>u});var a=s(5419),i=s(9108),o=s(9678),n=s(8070),l=s(4750);async function u(){try{if(console.log("Checking database tables..."),!l.supabase)return n.Z.json({success:!1,error:"Supabase client not initialized. Please check environment variables."},{status:500});let{data:e,error:t}=await l.supabase.from("maintenance_status").select("*").limit(1);if(t)return console.log("Maintenance table does not exist or has issues:",t),n.Z.json({success:!1,error:"Database tables not properly initialized. Please run the SQL script in Supabase first.",details:t},{status:500});let{data:s,error:r}=await l.supabase.from("orders").select("*").limit(1);if(r)return console.log("Orders table does not exist or has issues:",r),n.Z.json({success:!1,error:"Database tables not properly initialized. Please run the SQL script in Supabase first.",details:r},{status:500});let{data:a,error:i}=await l.supabase.from("products").select("*").limit(1);if(i)return console.log("Products table does not exist or has issues:",i),n.Z.json({success:!1,error:"Database tables not properly initialized. Please run the SQL script in Supabase first.",details:i},{status:500});let{data:o,error:u}=await l.supabase.from("customers").select("*").limit(1);if(u)return console.log("Customers table does not exist or has issues:",u),n.Z.json({success:!1,error:"Database tables not properly initialized. Please run the SQL script in Supabase first.",details:u},{status:500});return console.log("All database tables are properly initialized"),n.Z.json({success:!0,message:"All database tables are properly initialized",tables:{maintenance:e?.length||0,orders:s?.length||0,products:a?.length||0,customers:o?.length||0},timestamp:new Date().toISOString()})}catch(e){return console.error("Database initialization error:",e),n.Z.json({success:!1,error:"Failed to check database tables",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/init-db/route",pathname:"/api/init-db",filename:"route",bundlePath:"app/api/init-db/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\projectt\\src\\app\\api\\init-db\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:b,headerHooks:h,staticGenerationBailout:m}=c,g="/api/init-db/route";function f(){return(0,o.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,206,409,750],()=>s(2621));module.exports=r})();